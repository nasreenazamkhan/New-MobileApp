(this["webpackJsonpcargoes-lift"]=this["webpackJsonpcargoes-lift"]||[]).push([[4],{161:function(e,a,t){"use strict";t.d(a,"d",(function(){return n})),t.d(a,"e",(function(){return r})),t.d(a,"c",(function(){return s})),t.d(a,"f",(function(){return c})),t.d(a,"h",(function(){return m})),t.d(a,"g",(function(){return i})),t.d(a,"a",(function(){return o})),t.d(a,"b",(function(){return u}));var l=t(32);const n=e=>(null===e&&(e=""),""===e.trim()),r=(e,a,t)=>(t&&(a=a.replaceAll(t,"")),new RegExp(l.a[e]).test(a)),s=(e,a,t)=>{if(!e||!a||!t)return e;var l=e.replaceAll(" ","").replaceAll(t,"");let n="",r=0;for(let s=0;s<a.length&&r<l.length;s++)a[s]!=t?(n+=l[r],r+=1):n+=t;return n},c=e=>new RegExp(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}$/i).test(e),m=e=>new RegExp("^\\d{8}$").test(e),i=(e,a)=>new RegExp("^\\d{"+a+"}$").test(e);function o(e,a){var t=new Date(e);return new Date(t.setMinutes(e.getMinutes()+a))}const u=e=>{let a=e.split(":");var t,l;return t=a[0],l=a[1],1e3*(60*t*60+60*l+0)}},165:function(e,a,t){},175:function(e,a,t){"use strict";var l=t(7),n=t(0),r=t.n(n),s=t(58),c=t(157);t(187);a.a=e=>{let{label:a,name:t,type:n,value:m,onChange:i,required:o,errors:u,pattern:d,description:p,placeholder:v,icon:E,max:g,minDate:y,className:b,displayFormat:N,disabled:f}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.k,{className:b,displayFormat:N,value:m,onIonChange:e=>{i(e,e.detail.value)},onClick:e=>e.stopPropagation(),placeholder:v,max:g||s.k,min:y||s.m,name:t,disabled:f||!1}),E&&r.a.createElement(c.a,{iconProps:E}))}},180:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var l,n=t(64),r=t(49),s=t(11),c=t(8),m=t(58),i=t(6);async function o(e,a){var t;a,(l=n.a.create(e,"_self",m.l)).on("loadstart").subscribe(e=>{});var r=l.on("loadstop").subscribe(async e=>{if(t=await async function(e,a){console.log("Waiting until foo reaches 1337 ..."),await(t=()=>e.includes("/mobileResponseFromRosoomPaymentApp"),new Promise(e=>{const a=setInterval(()=>{t()&&(clearInterval(a),e())});return!0})),console.log("url === yes... same"),l.close();var t;await l.on("exit").subscribe(async()=>{},e=>{console.log(e)});var n=await u(a);return await n}(e.url,a))return await t});return l.on("loaderror").subscribe(e=>{},e=>{}),l.on("exit").subscribe(async()=>{console.log("exxxxxxiiiitt"),u(a)},e=>{console.log(e)}),await r}async function u(e){var a={url:c.rosoomPaymentStatusCheck+e,callType:"get",header:{}};return await i.a(a).then(async e=>{var a,t,l,n;let c=null===e||void 0===e||null===(a=e.data)||void 0===a||null===(t=a.data)||void 0===t||null===(l=t.dataItems[0])||void 0===l?void 0:l.referenceNumber;console.log("effffffffff**(*(&(*&(&(&(*(*&(*&(*",e),"SUCC"===e.data.data.dataItems[0].status?(console.log("suuuucceesssssss"),n={status:"SUCC",reference_num:c}):"FAIL"===e.data.data.dataItems[0].status?(console.log("Faaaaaaaiiiiilllllll"),n={status:"FAIL",reference_num:c}):(console.log("Pennnnddddiiinnngg"),n={status:"PEND",reference_num:c});var m=await r.o(n);return m&&s.a.dispatch(m),e})}},181:function(e,a,t){"use strict";var l=t(7),n=t(0),r=t.n(n),s=t(17),c=t(157);a.a=e=>{let{txnId:a}=e;var t=Object(s.e)();return r.a.createElement("div",{className:"pending-container"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"icon-container"},r.a.createElement(c.a,{iconProps:{name:"pending",class:"zoom84"}})),r.a.createElement("div",{className:"pendingLabel"},"Payment Pending!"),r.a.createElement("div",{className:"sub-label"},"Please note it may take up to 10 minutes for completing the transaction."),r.a.createElement("div",{className:"booking-label"}," ",r.a.createElement(l.u,null," Booking number #",a)),r.a.createElement("div",{className:"sub-label"},"Check your"," ",r.a.createElement(l.u,{className:"underLine-label",onClick:()=>t.push("/tabs/status")},"Booking Status"),"here")))}},182:function(e,a,t){"use strict";var l=t(177),n=t(7),r=t(0),s=t.n(r),c=t(17),m=t(157),i=t(6),o=t(8);t(186);a.a=e=>{let{txnId:a}=e;var t=Object(c.e)();return s.a.createElement("div",{className:"success-container"},s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"icon-container"},s.a.createElement(m.a,{iconProps:{name:"success",class:"zoom84"}})),s.a.createElement("div",{className:"successLabel"},"Your Payment is Successful"),s.a.createElement("div",{className:"sub-label"},"An Email confirmation will be send to you shortly with booking details"),s.a.createElement("div",{className:"booking-label"}," ",s.a.createElement(n.u,null," Booking number #",a)),s.a.createElement("div",{className:"sub-label"},"Check your"," ",s.a.createElement(n.u,{className:"underLine-label",onClick:()=>t.push("/tabs/status")},"Booking Status"),"here"),s.a.createElement("div",{className:"button-outline",onClick:()=>function(e){var a={url:o.downloadReceipt+e,callType:"get",header:{}};Object(i.a)(a).then(a=>{a.success&&l.a.share("Your Payment Receipt","Booking-Receipt-"+e,"data:application/pdf;base64,"+a.data,null)})}("props.referenceNumber")},s.a.createElement("div",{className:"button-label"},"Download Receipt")),s.a.createElement("br",null),s.a.createElement("div",{className:"button-outline",onClick:()=>function(e){var a={url:o.downloadTaxInvoice+e,callType:"get",header:{}};Object(i.a)(a).then(a=>{a.success&&l.a.share("Your Tax Invoice Receipt","Booking-Receipt-"+e,"data:application/pdf;base64,"+a.data,null)})}("props.referenceNumber")},s.a.createElement("div",{className:"button-label"},"Tax Invoice"))))}},186:function(e,a,t){},187:function(e,a,t){},192:function(e,a,t){"use strict";var l=t(0),n=t.n(l),r=t(157),s=t(49),c=t(11),m=t(56),i=t(180),o=(t(186),t(181)),u=t(182);const d=e=>{let{txnId:a}=e;const[t,p]=Object(l.useState)({});return c.a.subscribe(()=>{p(c.a.getState().VariableValues.paymentStatus),console.log(c.a.getState().VariableValues.paymentStatus,"calling store",t)}),n.a.createElement("div",{className:"fail-container"},n.a.createElement("div",{className:"content"},n.a.createElement("div",{className:"icon-container"}," ",n.a.createElement(r.a,{iconProps:{name:"error",class:"zoom84"}})),n.a.createElement("div",{className:"failLabel"},"Payment Failed!"),n.a.createElement("div",{className:"sub-label"},"Unfortunately, we encounter an error while processing your payment for the booking. Any amount deducted from your account will be refund in 3 to 5 business days"),n.a.createElement("div",{className:"booking-label"}," ","Please check your payment details and try again."),n.a.createElement("div",{className:"button-outline",onClick:()=>async function(){var e=Object(s.o)({status:"",reference_num:"0"});e&&c.a.dispatch(e);var t,l,n,r=await Object(m.E)(a);(null===r||void 0===r?void 0:r.success)&&(console.log(r),Object(i.a)(r.data.data.dataItems[0].url,null===r||void 0===r||null===(t=r.data)||void 0===t||null===(l=t.data)||void 0===l||null===(n=l.dataItems[0])||void 0===n?void 0:n.transactionId))}()},n.a.createElement("div",{className:"button-label"},"Try Again"))),"SUCC"===t.status&&n.a.createElement(u.a,{txnId:t.reference_num}),"FAIL"===t.status&&n.a.createElement(d,{txnId:t.reference_num}),"PEND"===t.status&&n.a.createElement(o.a,{txnId:t.reference_num}))};a.a=d},193:function(e,a,t){},221:function(e,a,t){"use strict";var l=t(7),n=t(0),r=t.n(n),s=t(157),c=t(161);t(165);var m=e=>{let{label:a,name:t,type:s,value:m,onChange:i,required:o,errors:u,pattern:d,datatype:p,description:v,placeholder:E,icon:g,onBlur:y,readonly:b,setError:N,max:f}=e;const[h,k]=Object(n.useState)(!1);return r.a.createElement("div",{className:"form-element-group customStyle"},r.a.createElement("div",{className:"blue-underLine"},"tel"===s?r.a.createElement(l.u,{className:"regularFont-textInput"},"971"):r.a.createElement(r.a.Fragment,null),r.a.createElement(l.s,{name:t,type:s,value:"tel"===s&&(null===m||void 0===m?void 0:m.substring(0,3).includes("971"))?m.split("971")[1]:m,spellCheck:!1,autocapitalize:"off",onKeyDown:e=>e.key.length>1||(k(!Object(c.e)(p,e.key)),Object(c.e)(p,e.key)?void 0:(e.preventDefault(),!1)),onIonChange:e=>{let a,t=e.target.value;if("tel"===s&&N){t="971"+t.replace(/\s/g,"971");var l=Object(c.g)(t,1*f+3);console.log(l),null!=t&&N(l?"":"Please Enter "+f+" digit number"),console.log("tteeeelll",t)}e.target.pattern&&(t=Object(c.c)(t,e.target.pattern,"-")),"email"===e.target.type&&(a=Object(c.f)(t),N(a?"":"Please Enter valid Mail id"),console.log(a),k(!a)),b||i(e,t,a)},required:o,autocomplete:"off",pattern:d,placeholder:E,className:"textInputWithBlueBorder",onIonBlur:e=>{y&&y(e)},readonly:b||!1})),r.a.createElement("div",{className:""},u&&r.a.createElement(l.M,{color:"danger",className:"validation-message"},r.a.createElement(l.u,{className:"ion-padding-start"},u))),h&&v&&r.a.createElement(l.M,{color:"danger",className:"validation-message"},r.a.createElement(l.u,{className:"ion-padding-start"},v)))},i=(t(240),t(56)),o=(t(64),t(179));var u=e=>{let{vatDetails:a}=e;const[t,s]=Object(n.useState)(!1);Object(n.useEffect)(()=>{""===(null===a||void 0===a?void 0:a.vatNo)&&setTimeout(()=>{s(!0)},100)},[]);return r.a.createElement("div",null,r.a.createElement(o.a,{text:"VAT Details"}),r.a.createElement("div",{className:" payment-section   "},r.a.createElement("div",{className:"paymentBreakup margin-top"},r.a.createElement("div",{className:"paymentBreakupFirstRow payLabel"},r.a.createElement(l.u,{className:""},"VAT Number")),r.a.createElement("div",{className:"paymentBreakUprightSide "},r.a.createElement(l.u,{className:"payLabelLight"}," ",null===a||void 0===a?void 0:a.vatNo))),r.a.createElement("div",{className:"paymentBreakup margin-top"},r.a.createElement("div",{className:"paymentBreakupFirstRow payLabel"},r.a.createElement(l.u,null,"Address")),r.a.createElement("div",{className:"paymentBreakUprightSidew"},r.a.createElement("div",{className:"alignRight"},r.a.createElement(l.u,{className:"payLabelLight"},null===a||void 0===a?void 0:a.companyName," ")),r.a.createElement("div",{className:"alignRight"},r.a.createElement(l.u,{className:"payLabelLight"}," ",null===a||void 0===a?void 0:a.address," ")),r.a.createElement("div",{className:"alignRight"},r.a.createElement(l.u,{className:"payLabelLight"}," ",null===a||void 0===a?void 0:a.emirate," ")),r.a.createElement("div",{className:"alignRight"},r.a.createElement(l.u,{className:"payLabelLight"}," ",null===a||void 0===a?void 0:a.country)),r.a.createElement("div",{className:"alignRight"},r.a.createElement(l.u,{className:"payLabelLight"},null===a||void 0===a?void 0:a.mobileNumber))))))},d=t(11),p=t(182),v=(t(49),t(192)),E=t(181),g=t(180);const y=Object(n.forwardRef)((e,a)=>{var t,c,y;let{allPayableDetails:b,buttonAction:N}=e;console.log(b);var f=b;const[h,k]=Object(n.useState)({}),[L,B]=Object(n.useState)({}),[w,C]=Object(n.useState)({}),A=Object(n.useRef)(null);Object(n.useEffect)(()=>{C(d.a.getState().VariableValues.paymentStatus),console.log("calling store",w)},[]),d.a.subscribe(()=>{C(d.a.getState().VariableValues.paymentStatus),console.log(d.a.getState().VariableValues.paymentStatus,"calling store",w)});Object(n.useEffect)(()=>{},[N]),Object(n.useImperativeHandle)(a,()=>({async openRosoom(){let e=(f={...f,...L},console.log(f),f),a=await Object(i.I)(e);var t,l,n;(console.log("",a),null===a||void 0===a?void 0:a.success)?(console.log(a),Object(g.a)(a.data.data.dataItems[0].url,null===a||void 0===a||null===(t=a.data)||void 0===t||null===(l=t.data)||void 0===l||null===(n=l.dataItems[0])||void 0===n?void 0:n.transactionId)):k({...h,general:a.data.message||a.data.data.dataItems[0].error})}}));const R=(e,a)=>{B({...L,...b,[e.target.name]:a}),k({...h,[e.target.name]:""}),console.log(L)};return r.a.createElement("div",{className:"componentMargins"},""===w.status&&r.a.createElement("div",null,r.a.createElement("div",{className:"validationMessage "},r.a.createElement(l.u,{className:"validation-message",hidden:""===h.general},h.general)),r.a.createElement(o.a,{text:" Enter Requestor Details"}),r.a.createElement("div",{className:"paymentTopSection"},r.a.createElement("div",{className:"payment-requester-details"},r.a.createElement("div",{className:"eachElement"},r.a.createElement(m,{name:"requesterName",value:L.requesterName,label:"Container Number",errors:h.requesterName,type:"text",required:!0,onChange:R,datatype:"TEXT",placeholder:"Requester Name",onBlur:()=>console.log("blur")})),r.a.createElement("div",{className:"center-ele"}),r.a.createElement("div",{className:"eachElement"},r.a.createElement(m,{name:"requesterContactNumber",value:L.requesterContactNumber,label:"Container Number",errors:h.requesterContactNumber,type:"text",required:!0,onChange:R,datatype:"TEXT",placeholder:"Requester Number",onBlur:()=>console.log("blur")}))),r.a.createElement(m,{name:"importerComments",value:L.importerComments,label:"Container Number",errors:h.importerComments,type:"text",required:!0,onChange:R,datatype:"TEXT",placeholder:"Importer Comments (if any)",onBlur:()=>console.log("blur")}),r.a.createElement("div",{className:"upload-section",onClick:()=>{var e;null===A||void 0===A||null===(e=A.current)||void 0===e||e.click()}},r.a.createElement("input",{ref:A,hidden:!0,type:"file",onChange:e=>{console.log(e.target.files);const a=e.target.files[0];let t=e.target.files[0],l=new FileReader;l.readAsDataURL(t),l.onload=function(){var e;console.log(l.result);const t=null===(e=l.result)||void 0===e?void 0:e.split(","),n=t[0].replace("data:","").replace(";base64","");console.log(n,t[1]),B(e=>({...e,...b,fileContent:t[1],fileType:n,fileName:a.name}))},console.log(L),l.onerror=function(e){console.log("Error: ",e)},console.log(t)},onClick:()=>{console.log("onClick")}}),r.a.createElement(s.a,{iconProps:{name:"upload-quick",slot:"",class:"zoom3"}}),L.fileName?r.a.createElement(r.a.Fragment,null,r.a.createElement(l.u,{className:"uploadLabel"}," ",L.fileName+L.fileType," "),r.a.createElement(l.u,{className:"uploadLabel"},"Re upload")):r.a.createElement(l.u,{className:"uploadLabel"},"Upload supporting files"))),r.a.createElement("div",{className:"componentMargins1"},r.a.createElement(u,{vatDetails:null===b||void 0===b?void 0:b.vatProfileDto}),r.a.createElement("div",{className:"paymentBreakup relativePosition"},r.a.createElement("div",{className:"halfWidth"},r.a.createElement(o.a,{text:"Payment Breakups"})),r.a.createElement("div",{className:"paymentBreakUprightSide"},r.a.createElement(l.u,{className:"bluePaymentLable"},null===b||void 0===b?void 0:b.grossAmount," AED"))),null===b||void 0===b||null===(t=b.paymentDetails)||void 0===t?void 0:t.map((e,a)=>r.a.createElement("div",{key:a},"transportation"===e.paymentType&&r.a.createElement("div",{className:"payment-section"},r.a.createElement("div",{className:"paymentBreakup margin-top"},r.a.createElement("div",{className:"paymentBreakupFirstRow"}," ",r.a.createElement(l.u,{className:"payLabel"},"Containers")),r.a.createElement("div",{className:"paymentBreakup"},r.a.createElement(l.u,{className:"payLabelLight"}," ",e.chargeDescription)),r.a.createElement("div",{className:"paymentBreakUprightSide"},r.a.createElement(l.u,{className:"payLabelLight"},e.subTotalAmount," AED"))),r.a.createElement("div",{className:"paymentBreakup margin-top"},r.a.createElement("div",{className:"paymentBreakupFirstRow"}," ",r.a.createElement(l.u,{className:"payLabel"},"Vat %")),r.a.createElement("div",{className:"paymentBreakup"},r.a.createElement(l.u,{className:"payLabelLight"},e.vat,"%")),r.a.createElement("div",{className:"paymentBreakUprightSide"},r.a.createElement(l.u,{className:"payLabelLight"},e.totalVat," AED")))))),r.a.createElement("div",{className:" payment-section paymentBreakup  margin-top no-padding-top"},r.a.createElement("div",{className:"paymentBreakupFirstRow"},r.a.createElement(l.u,{className:"payLabel"},"Net Amount")),r.a.createElement("div",{className:"paymentBreakUprightSide"},r.a.createElement(l.u,{className:"bluePaymentLable"},null===b||void 0===b?void 0:b.totalContainerTariff," AED"))),null===b||void 0===b||null===(c=b.paymentDetails)||void 0===c?void 0:c.map((e,a)=>r.a.createElement("div",{key:a},"tokenIn"===e.paymentType&&r.a.createElement("div",{className:"payment-section no-padding-top"},r.a.createElement("div",{className:"paymentBreakup margin-top"},r.a.createElement("div",{className:"paymentBreakupFirstRow payLabel"},r.a.createElement(l.u,null,"Token Re-Charges In-Bound")),r.a.createElement("div",{className:"paymentBreakup"},r.a.createElement(l.u,{className:"payLabelLight"}," ",e.chargeDescription)),r.a.createElement("div",{className:"paymentBreakUprightSide"},r.a.createElement(l.u,{className:"payLabelLight"}," ",e.subTotalAmount," AED"))),r.a.createElement("div",{className:"paymentBreakup margin-top"},r.a.createElement("div",{className:"paymentBreakupFirstRow payLabel"}," ",r.a.createElement(l.u,null,"Vat %")),r.a.createElement("div",{className:"paymentBreakup"},r.a.createElement(l.u,{className:"payLabelLight"},e.vat||0,"%")),r.a.createElement("div",{className:"paymentBreakUprightSide"},r.a.createElement(l.u,{className:"payLabelLight"}," ",e.totalVat||0," AED"))),r.a.createElement("div",{className:"paymentBreakup margin-top"},r.a.createElement("div",{className:"paymentBreakupFirstRow payLabel"}," ",r.a.createElement(l.u,null,"Total Amount")),r.a.createElement("div",{className:"paymentBreakup"},r.a.createElement(l.u,{className:"payLabelLight"})),r.a.createElement("div",{className:"paymentBreakUprightSide"},r.a.createElement(l.u,{className:"payLabel"},e.totalAmount," AED")))))),null===b||void 0===b||null===(y=b.paymentDetails)||void 0===y?void 0:y.map((e,a)=>r.a.createElement("div",{key:a},"tokenOut"===e.paymentType&&r.a.createElement("div",{className:"payment-section no-padding-top"},r.a.createElement("div",{className:"paymentBreakup margin-top"},r.a.createElement("div",{className:"paymentBreakupFirstRow payLabel"},r.a.createElement(l.u,null,"Token Re-Charges Out-Bound")),r.a.createElement("div",{className:"paymentBreakup"},r.a.createElement(l.u,{className:"payLabelLight"},e.chargeDescription)),r.a.createElement("div",{className:"paymentBreakUprightSide"},r.a.createElement(l.u,{className:"payLabelLight"},e.subTotalAmount," AED"))),r.a.createElement("div",{className:"paymentBreakup margin-top"},r.a.createElement("div",{className:"paymentBreakupFirstRow payLabel"},r.a.createElement(l.u,null,"Vat %")),r.a.createElement("div",{className:"paymentBreakup"},r.a.createElement(l.u,{className:"payLabelLight"},e.vat||0,"%")),r.a.createElement("div",{className:"paymentBreakUprightSide"},r.a.createElement(l.u,{className:"payLabelLight"},e.totalVat||0," AED"))),r.a.createElement("div",{className:"paymentBreakup margin-top"},r.a.createElement("div",{className:"paymentBreakupFirstRow payLabel"},r.a.createElement(l.u,null,"Total Amount")),r.a.createElement("div",{className:"paymentBreakup"},r.a.createElement(l.u,{className:"payLabelLight"})),r.a.createElement("div",{className:"paymentBreakUprightSide"},r.a.createElement(l.u,{className:"payLabelLight"},e.totalAmount," AED")))))),r.a.createElement("div",{className:"paymentBreakup payment-section  margin-top no-padding-top"},r.a.createElement("div",{className:"paymentBreakupFirstRow payLabel"},r.a.createElement(l.u,null,"Net Amount")),r.a.createElement("div",{className:"paymentBreakUprightSide"},r.a.createElement(l.u,{className:"bluePaymentLable"}," ",null===b||void 0===b?void 0:b.totalTokenTariff," AED"))),r.a.createElement("div",{className:"paymentBreakup  margin-top "},r.a.createElement("div",{className:"paymentBreakupFirstRow payLabel"},r.a.createElement(l.u,null,"Gross Payable Amount")),r.a.createElement("div",{className:"paymentBreakUprightSide"},r.a.createElement(l.u,{className:"bluePaymentLable"},null===b||void 0===b?void 0:b.grossAmount," AED"))))),"SUCC"===w.status&&r.a.createElement(p.a,{txnId:w.reference_num}),"FAIL"===w.status&&r.a.createElement(v.a,{txnId:w.reference_num}),"PEND"===w.status&&r.a.createElement(E.a,{txnId:w.reference_num}))});a.a=y},240:function(e,a,t){}}]);
//# sourceMappingURL=4.53cfd0fc.chunk.js.map