(this["webpackJsonpcargoes-lift"]=this["webpackJsonpcargoes-lift"]||[]).push([[10],{157:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),o=a.n(n),s=a(7),r=(a(159),a(60));function c(e){const t=l();var a=e.iconProps;return o.a.createElement(s.o,{src:"assets/icon/"+a.name+".svg",style:a.styleProps,className:a.class?t[a.class]+" "+a.class:"",slot:a.slot,onClick:()=>(null===a||void 0===a?void 0:a.iconClick)?null===a||void 0===a?void 0:a.iconClick(e.iconName,e.fieldPlaceholder):console.log()})}const l=Object(r.a)({zoom12:{zoom:1.4},slotEnd:{right:0,bottom:"1px"},disabledminus:{fontSize:"1.6rem",right:"-5px",zoom:1.5},calenderMargin:{zoom:1.4},zoom3:{zoom:3},zoom2:{zoom:2},slotStart:{position:"absolute",zoom:1.5},absolutePosition:{position:"absolute"},lastIcon:{zoom:"1.5",right:"3px",position:"relative"}})},158:function(e,t,a){"use strict";var n=a(7),o=a(12),s=a(0),r=a.n(s),c=a(17),l=a(160),i=(a(162),a(157)),d=a(11),m=a(8),u=a(49),h=a(56);t.a=e=>{const[t,a]=Object(s.useState)({search:!0,check:!0,close:!0,home:!0,info:!1});var p=d.a.getState().CheckUserStatus.user;const[g,b]=Object(s.useState)(!1),[f,v]=Object(s.useState)("Select All"),y={name:"back-arrow",slot:"icon-only",zoom:""};Object(s.useEffect)(()=>{C(e.action?e.action:"none")},[]);let E=Object(c.e)();const N=t=>{e.customClick?e.customClick("/containerCart"):e.customBack?e.backClick(t):E.goBack()},C=e=>{e&&("search"===e?a({search:!1,check:!0,close:!0,home:!0,info:!0}):"check"===e?a({search:!0,check:!1,close:!0,home:!0,info:!0}):"close"===e?a({search:!0,check:!0,close:!1,home:!0,info:!0}):"home"===e?a({search:!0,check:!0,close:!0,home:!1,info:!0}):"info"===e&&a({search:!0,check:!0,close:!0,home:!0,info:!1}))};return r.a.createElement(n.n,{style:e.agentHeader?{height:"102px"}:{height:"10%"}},r.a.createElement(n.P,{className:"header"},r.a.createElement("div",{className:"mainContainer",style:e.agentHeader?{}:{paddingBottom:0}},e.checkedProps?r.a.createElement("div",{className:"selectAllBg",hidden:!e.checkedProps.showChecked},r.a.createElement("div",null,r.a.createElement(n.d,{fill:"clear",onClick:e=>{N(e)}},r.a.createElement(i.a,{iconProps:y}))),r.a.createElement("div",{className:"checkBoxContainer"},r.a.createElement(n.h,{className:"checkBox",checked:g,onIonChange:t=>function(t){console.log(t),b(t),t?(v("Unselect All"),e.checkedProps.addContainerToCart("","","checked")):(e.checkedProps.addContainerToCart("","","unchecked"),v("Select All"))}(t.detail.checked)})),r.a.createElement("div",{className:"checkBoxLabelCol"},r.a.createElement(n.u,{className:"checkBoxLabel"},f)," ")):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"backArrow"},"Home"!=e.label&&t.close?r.a.createElement(n.d,{fill:"clear",onClick:e=>{N(e)}},r.a.createElement(i.a,{iconProps:y})):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{className:"header-label"}," ",r.a.createElement(n.M,null,e.label)),r.a.createElement("div",{className:"header-right"},r.a.createElement(n.d,{hidden:t.search,fill:"clear",onClick:e.searchClick},r.a.createElement(n.o,{slot:"icon-only",icon:o.x,style:{minWidth:"30px"}})),r.a.createElement(n.d,{hidden:t.info,fill:"clear",onClick:e.infoClick},r.a.createElement(n.o,{src:"assets/icon/info-italic.svg",slot:"icon-only",style:{minWidth:"30px"}})),r.a.createElement(n.d,{hidden:t.check,fill:"clear",onClick:e.checkClick},r.a.createElement(i.a,{iconProps:{name:"Check",slot:"icon-only",zoom:""}})),r.a.createElement(n.d,{hidden:t.home,fill:"clear",onClick:t=>{e.customClick?e.customClick("/tabs/landing"):(E.push("/tabs/landing"),Object(l.a)())}},r.a.createElement(i.a,{iconProps:{name:"home-new",slot:"icon-only",zoom:""}})),r.a.createElement(n.d,{hidden:t.close,fill:"clear",onClick:e=>{N(e)}},r.a.createElement(n.o,{slot:"icon-only",icon:o.p})),r.a.createElement(n.d,{hidden:""!==e.action,fill:"clear"},r.a.createElement(n.o,null)))),p.agents&&e.agentHeader&&r.a.createElement(n.P,{className:"agent-code-header"},r.a.createElement(n.F,{value:p.selectedAgent,interface:"popover",onIonChange:t=>(async t=>{let a=t.detail.value,n=m.loginAgent+"?agentCode="+a.agentCode+"&agentType="+a.agentType;var o={userName:p.userName,userType:"IMPORTER_APP"},s=await Object(h.A)(n,o),r=s.data.data.dataItems[0];if(await s.success){var c=await u.a(r.accessToken);c&&d.a.dispatch(c);var l=await u.b(r.user.activeCompanyCode);l&&d.a.dispatch(l);var i=await u.c(a);i&&d.a.dispatch(i);d.a.getState().CheckUserStatus;e.changedAgent?e.changedAgent():console.log("changed")}})(t),disabled:!e.showAgent||1==p.agents.length,style:e.showAgent?{}:{backgroundColor:"#DDF1FF"},interfaceOptions:{cssClass:"agent-interface"}},p.agents.map((e,t)=>r.a.createElement(n.G,{value:e,key:t,className:"select-agent-opt"},e.agentCode+"-"+e.agentName))),r.a.createElement(n.o,{src:"assets/icon/arrow-down.svg",className:"arrow-down-icon",hidden:!e.showAgent||1==p.agents.length}))))}},159:function(e,t,a){},160:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(11),o=a(2);function s(){n.a.dispatch({type:o.m}),n.a.dispatch({type:o.v}),n.a.dispatch({type:o.x}),n.a.dispatch({type:o.s}),n.a.dispatch({type:o.w})}},162:function(e,t,a){},166:function(e,t,a){"use strict";var n=a(7),o=a(12),s=a(0),r=a.n(s);a(183);t.a=e=>{let{showModal:t,openOrCloseModal:a,content:s}=e;return r.a.createElement(n.w,{isOpen:t,cssClass:"popup-container",onDidDismiss:()=>a(!1)},r.a.createElement("div",{className:"close-icon-container",onClick:()=>a(!1)},r.a.createElement(n.o,{icon:o.o,className:"close-icon"})),s)}},167:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(7),o=a(0),s=a.n(o),r=(a(168),a(17));function c(){let e=Object(r.e)();function t(t){e.push(t)}return s.a.createElement("div",{className:"footer-container"},s.a.createElement("div",{className:"footer-button",onClick:()=>t("/tabs/landing")},s.a.createElement(n.o,{src:"assets/icon/home-new.svg",className:"footer-button"}),s.a.createElement(n.u,{className:"footer-label"},"Home")),s.a.createElement("div",{className:"footer-button",onClick:()=>t("/tabs/addresses")},s.a.createElement(n.o,{src:"assets/icon/address.svg",className:"footer-button"}),s.a.createElement(n.u,{className:"footer-label"},"Addresses")),s.a.createElement("div",{className:"footer-button"}),s.a.createElement("div",{className:"footer-button",onClick:()=>t("/tabs/status")},s.a.createElement(n.o,{src:"assets/icon/status.svg",className:"footer-button"}),s.a.createElement(n.u,{className:"footer-label"},"status")),s.a.createElement("div",{className:"footer-button",onClick:()=>t("/tabs/profile")},s.a.createElement(n.o,{src:"assets/icon/profile.svg",className:"footer-button"}),s.a.createElement(n.u,{className:"footer-label"},"profile")))}},168:function(e,t,a){},169:function(e,t,a){"use strict";var n=a(7),o=a(0),s=a.n(o),r=a(59),c=a(170);a(171);t.a=Object(r.b)(e=>({numberOfSelectedContainers:e.VariableValues}))(e=>{let{iconType:t,clickEvent:a,numberOfSelectedContainers:o}=e;return s.a.createElement("div",{className:"menu-button-div",onClick:()=>{(o.cartNumber>0||"menu"===t)&&a()}},s.a.createElement("div",{className:"menu-button"},"menu"===t?s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",null),s.a.createElement("hr",null),s.a.createElement("hr",null)):"cart"===t&&s.a.createElement(s.a.Fragment,null,s.a.createElement(n.o,{src:"assets/icon/container-crane.svg",className:"button"}),s.a.createElement(c.a,null))))})},170:function(e,t,a){"use strict";var n=a(7),o=a(0),s=a.n(o),r=a(59),c=a(11),l=(a(174),a(2));t.a=Object(r.b)(e=>({numberOfContainers:e.Cart}),()=>({updateCartNumber:e=>{c.a.dispatch({type:l.I,payLoad:{variableName:"cartNumber",value:e}})}}))(e=>{let{numberOfContainers:t,updateCartNumber:a}=e;const[r,c]=Object(o.useState)(0);return Object(o.useEffect)(()=>{var e;c(e=0),t.map((t,n)=>{t.containerList.map(t=>{t.selected?(e++,c(e),a(e)):(c(e),a(e))})})},[t]),s.a.createElement("div",null,s.a.createElement(n.c,{className:"blueBg"}," ",r))})},171:function(e,t,a){},172:function(e,t,a){"use strict";var n=a(0),o=a.n(n);a(173);t.a=e=>{let{message:t}=e;return o.a.createElement("div",{className:"container-count"},"Displaying ",t)}},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){"use strict";var n=a(7),o=a(0),s=a.n(o),r=a(58),c=a(157);a(187);t.a=e=>{let{label:t,name:a,type:o,value:l,onChange:i,required:d,errors:m,pattern:u,description:h,placeholder:p,icon:g,max:b,minDate:f,className:v,displayFormat:y,disabled:E}=e;return s.a.createElement(s.a.Fragment,null,s.a.createElement(n.k,{className:v,displayFormat:y,value:l,onIonChange:e=>{i(e,e.detail.value)},onClick:e=>e.stopPropagation(),placeholder:p,max:b||r.k,min:f||r.m,name:a,disabled:E||!1}),g&&s.a.createElement(c.a,{iconProps:g}))}},178:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(7),o=a(0),s=a.n(o);a(184);function r(e){const t={cssClass:"agent-interface-class"},[a,r]=Object(o.useState)({});return s.a.createElement(n.B,{className:"horizontal-scroll"},s.a.createElement("div",{className:"filter-buttons"},e.topMenuProps.map((e,o)=>s.a.createElement("div",{key:o},"button"==e.type&&s.a.createElement(n.d,{className:"circ-button",size:"small",onClick:()=>e.clickedOnTopMenu()},e.icon&&s.a.createElement(n.o,{icon:e.icon,slot:e.slot}),e.src&&s.a.createElement(n.o,{slot:e.slot,src:"/assets/icon/"+e.src+".svg",style:{fontSize:e.size,paddingLeft:"5px",paddingRight:"5px",transform:e.rotate}}),e.name&&e.name),"dropDown"==e.type&&s.a.createElement("div",{id:"drop-down-css"},s.a.createElement("fieldset",null,s.a.createElement(n.F,{value:a,selectedText:a.label,interface:"popover",onIonChange:t=>{let a=t.detail.value;r(a),console.log(e.selected),e.clickedOnTopMenu(a)},"cancel-text":!0,placeholder:e.name,interfaceOptions:t,className:"circ-button"},e.list.map((e,t)=>s.a.createElement(n.G,{value:e,key:t,className:"select-opt"},e.label)))))))))}},183:function(e,t,a){},184:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){"use strict";var n=a(0),o=a.n(n);t.a=e=>{let{content:t,label:a,className:n}=e;return o.a.createElement("div",{className:n?n+" form-element-group":"form-element-group"},o.a.createElement("fieldset",null,o.a.createElement("legend",null,a),t))}},198:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return o}));const n={size:10,totalElements:5,pageNumber:0,elements:[{referenceNumber:"boe3010",consigneeDetails:"abc company-43",noOfContainers:3,deliveryOrderValidity:"31/10/2020",status:"New",containerList:[{iso_code:"2000",container_number:"c301002",deliveryOrderValidity:"31/10/2020",boeNumber:"boe3010",dpwTransactionId:"T-0000000266",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"43",status:"NEW",creationDate:1603868759390,pickupLocation:"T1",selected:!1},{iso_code:"4000",container_number:"c301003",deliveryOrderValidity:"31/10/2020",boeNumber:"boe3010",dpwTransactionId:"T-0000000266",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"43",status:"NEW",creationDate:1603868759387,pickupLocation:"T1",selected:!1},{iso_code:"2000",container_number:"c301001",deliveryOrderValidity:"31/10/2020",boeNumber:"boe3010",dpwTransactionId:"T-0000000266",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"43",status:"NEW",creationDate:1603868759389,pickupLocation:"T1",selected:!1}],checked:!1,openCollapsePanel:!1,consigneeCode:null,creationDate:1603868759385},{referenceNumber:"boe0111",consigneeDetails:"abc1 company-44",noOfContainers:3,deliveryOrderValidity:"27/11/2020",status:"New",containerList:[{iso_code:"4000",container_number:"c011103",deliveryOrderValidity:"27/11/2020",boeNumber:"boe0111",dpwTransactionId:"T-0000000266",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"44",status:"NEW",creationDate:1603868759378,pickupLocation:"T1",selected:!1},{iso_code:"2000",container_number:"c011101",deliveryOrderValidity:"27/11/2020",boeNumber:"boe0111",dpwTransactionId:"T-0000000266",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"44",status:"NEW",creationDate:1603868759382,pickupLocation:"T1",selected:!1},{iso_code:"2000",container_number:"c011102",deliveryOrderValidity:"27/11/2020",boeNumber:"boe0111",dpwTransactionId:"T-0000000266",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"44",status:"NEW",creationDate:1603868759384,pickupLocation:"T1",selected:!1}],checked:!1,openCollapsePanel:!1,consigneeCode:null,creationDate:1603868759373},{referenceNumber:"boe3110",consigneeDetails:"abc1 company-44",noOfContainers:3,deliveryOrderValidity:"30/10/2020",status:"New",containerList:[{iso_code:"2000",container_number:"c311002",deliveryOrderValidity:"30/10/2020",boeNumber:"boe3110",dpwTransactionId:"T-0000000266",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"44",status:"NEW",creationDate:1603868759372,pickupLocation:"T1",selected:!1},{iso_code:"2000",container_number:"c311001",deliveryOrderValidity:"30/10/2020",boeNumber:"boe3110",dpwTransactionId:"T-0000000266",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"44",status:"NEW",creationDate:1603868759371,pickupLocation:"T1",selected:!1},{iso_code:"4000",container_number:"c311003",deliveryOrderValidity:"30/10/2020",boeNumber:"boe3110",dpwTransactionId:"T-0000000266",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"44",status:"NEW",creationDate:1603868759367,pickupLocation:"T1",selected:!1}],checked:!1,openCollapsePanel:!1,consigneeCode:null,creationDate:1603868759360},{referenceNumber:"boe6670",consigneeDetails:"abc company-abc",noOfContainers:3,deliveryOrderValidity:"30/11/2020",status:"New",containerList:[{iso_code:"2000",container_number:"c66675",deliveryOrderValidity:"30/11/2020",boeNumber:"boe6670",dpwTransactionId:"T-0000000262",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"abc",status:"NEW",creationDate:1603783964318,pickupLocation:"T1",selected:!1},{iso_code:"3000",container_number:"c66676",deliveryOrderValidity:"30/11/2020",boeNumber:"boe6670",dpwTransactionId:"T-0000000262",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"abc",status:"NEW",creationDate:1603783964314,pickupLocation:"T1",selected:!1},{iso_code:"4000",container_number:"c66678",deliveryOrderValidity:"30/11/2020",boeNumber:"boe6670",dpwTransactionId:"T-0000000262",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"abc",status:"NEW",creationDate:1603783964317,pickupLocation:"T1",selected:!1}],checked:!1,openCollapsePanel:!1,consigneeCode:null,creationDate:1603783964306},{referenceNumber:"boe2710",consigneeDetails:"abc company-43",noOfContainers:1,deliveryOrderValidity:"21/10/2020",status:"Expired",containerList:[{iso_code:"2000",container_number:"c271001",deliveryOrderValidity:"21/10/2020",boeNumber:"boe2710",dpwTransactionId:"T-0000000261",checked:!1,storagePaidTill:"28/11/2020",holdAuthority:"lopsu",consigneeCode:"43",status:"EXP",creationDate:1603777917024,pickupLocation:"T1",selected:!1}],checked:!1,openCollapsePanel:!1,consigneeCode:null,creationDate:1603777917019}],count:{allCount:13,todayCount:9,allExpiredCount:1,todayExpiredCount:0}},o=[{key:"generalPurpose",label:"General Purpose"},{key:"doubleDoor",label:"Double Door"},{key:"isoReefer",label:"ISO REEFER"},{key:"halfHeight",label:"Half Height"}]},200:function(e,t,a){"use strict";var n,o=a(7),s=a(0),r=a.n(s);a(201);t.a=e=>{let{status:t}=e;return"Pending"===t?n="warning":"New"===t?n="#6AC672":"Expired"===t?n="#E91818":"Active"===t&&(n="#6AC672"),r.a.createElement("div",{className:"badge-shape",style:{backgroundColor:n}},r.a.createElement(o.u,{className:"badge-label"},t))}},201:function(e,t,a){},202:function(e,t,a){"use strict";var n=a(7),o=a(23),s=a.n(o),r=a(0),c=a.n(r),l=a(58),i=a(175),d=a(188);t.a=e=>{let{openOrCloseModalInsearch:t,headerName:a,searchDates:o,setSearchdate:m}=e;console.log(o);const[u,h]=Object(r.useState)({fromDate:{value:o.fromDate,minDate:"",maxdate:""},toDate:{value:o.toDate,minDate:"",maxdate:""}});console.log(u);const[p,g]=Object(r.useState)({fromDate:"",toDate:""}),b=(e,t)=>{g({fromDate:""}),h(a=>({...a,[e.target.name]:{...u[e.target.name],paramDate:s()(new Date(t)).format("DD/MM/yyyy"),value:t}})),m({...o,[e.target.name]:s()(new Date(t)).format("YYYY-MM-DD")})},f={name:"calendar",slot:"end",class:"calenderMargin"};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"popup-header"},c.a.createElement("div",{className:"header-title"},c.a.createElement("span",null,a))),c.a.createElement("div",{className:"popup-content"},c.a.createElement("div",{className:" twoItems"},c.a.createElement(d.a,{label:"From Date",content:c.a.createElement(i.a,{name:"fromDate",value:u.fromDate.value,label:"From Date",type:"text",required:!0,onChange:b,placeholder:"--/--/----",minDate:l.g,icon:f,className:"leftCalendar",displayFormat:"DD/MMM/YYYY"})}),c.a.createElement(d.a,{label:"To Date",content:c.a.createElement(i.a,{name:"toDate",value:u.toDate.value,label:"To Date",type:"text",required:!0,onChange:b,placeholder:"--/--/----",minDate:l.g,icon:f,className:"rightCalendar",displayFormat:"DD/MMM/YYYY"})})),p.fromDate&&c.a.createElement("div",{className:" twoItems1 validate-date"}," ",c.a.createElement("div",{className:"topMargin"},c.a.createElement(n.M,{color:"danger",className:"validation-message"},c.a.createElement(n.u,{className:"ion-padding-start"},p.fromDate)))),c.a.createElement("div",{className:"twoItems"},c.a.createElement(n.d,{className:"reset",fill:"clear",onClick:()=>(m({fromDate:"",toDate:l.m}),void t(!1,"",""))},"Reset"),c.a.createElement(n.d,{className:"apply-filter",fill:"clear",onClick:()=>{console.log(u.fromDate.paramDate,u.toDate.value,o.toDate),""===u.fromDate.value?g({fromDate:"Choose 'From Date'"}):t(!1,u.fromDate.paramDate,s()(new Date(o.toDate).toISOString()).format("DD/MM/YYYY"))}},"Apply Filter"))))}},242:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=r(a(0)),s=r(a(35));function r(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e){return{x:e.clientX,y:e.clientY}}var d=function(e){function t(){var e,a,n;c(this,t);for(var o=arguments.length,s=Array(o),r=0;r<o;r++)s[r]=arguments[r];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.isLongPressing=!1,n.startingPosition={x:0,y:0},n.clearTimeout=function(){n.timerID&&(clearTimeout(n.timerID),n.timerID=null)},n.onPointerUp=function(e){n.timerID&&n.cancelLongPress();var t=i(e);n.isLongPressing||n.exceedDragThreshold(t)?n.isLongPressing=!1:n.props.onShortPress(e)},n.onPointerDown=function(e){n.props.primaryMouseButtonOnly&&"mouse"===e.pointerType&&0!==e.button||(n.startingPosition=i(e),n.timerID=setTimeout((function(){n.isLongPressing=!0,n.props.onLongPress(e)}),n.props.longPressTime))},n.onPointerMove=function(e){var t=i(e);n.timerID&&n.exceedDragThreshold(t)&&n.cancelLongPress()},n.onPointerLeave=function(){n.timerID&&n.cancelLongPress()},l(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillUnmount",value:function(){this.clearTimeout()}},{key:"cancelLongPress",value:function(){this.clearTimeout()}},{key:"exceedDragThreshold",value:function(e){return t=this.startingPosition,a=e,Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2))>this.props.dragThreshold;var t,a}},{key:"render",value:function(){return o.default.createElement("div",{onPointerUp:this.onPointerUp,onPointerDown:this.onPointerDown,onPointerMove:this.onPointerMove,onPointerLeave:this.onPointerLeave},this.props.children)}}]),t}(o.default.PureComponent);d.propTypes={onLongPress:s.default.func.isRequired,onShortPress:s.default.func,longPressTime:s.default.number,primaryMouseButtonOnly:s.default.bool,dragThreshold:s.default.number,children:s.default.node},d.defaultProps={longPressTime:500,primaryMouseButtonOnly:!0,dragThreshold:100},t.default=d},243:function(e,t,a){},271:function(e,t,a){"use strict";a.r(t);var n,o=a(7),s=a(0),r=a.n(s),c=a(59),l=a(242),i=a.n(l),d=a(157),m=a(198),u=(a(243),a(178)),h=a(8),p=a(56),g=a(11),b=a(2),f=a(200),v=a(158),y=a(167),E=a(169),N=a(172),C=a(202),k=a(166),D=a(58),T=!1,P=0,w=0,S=0;class O extends r.a.Component{constructor(e){super(e),this.contentRef=r.a.createRef(),this.componentDidMount=()=>{var e;this.setState({userType:g.a.getState().CheckUserStatus.user.userType}),T=!1,P=0,S=0;!0,"",this.setState({declarationArray:this.props.allStoreDeclarations}),0===(null===(e=this.props.allStoreDeclarations)||void 0===e?void 0:e.length)&&this.getAllDeclaration("")},this.getAllDeclaration=async e=>{var t,a;e||(e="pgSize=10&pgNo=0&option=ALL&locale=en","pgSize=10&pgNo=0&option=ALL&locale=en"),e;h.declarationUrl;this.setState({message:"Loading Data"});var n,o=await p.d(h.declarationUrl+e);(null===o||void 0===o?void 0:o.success)||this.setState({message:null===o||void 0===o||null===(n=o.data)||void 0===n?void 0:n.message});if((null===o||void 0===o||null===(t=o.data)||void 0===t||null===(a=t.elements)||void 0===a?void 0:a.length)>0){var s,r;(null===o||void 0===o||null===(s=o.data)||void 0===s||null===(r=s.elements)||void 0===r?void 0:r.length)>0?(this.setState({declarationArray:await([...this.state.declarationArray,...o.data.elements])}),this.setState({disableInfiniteScroll:this.state.declarationArray.length<10})):(this.setState({declarationArray:[]}),this.setState({message:"No Declarations to display"}),this.setState({disableInfiniteScroll:!0})),!1,await this.state.declarationArray.forEach(e=>{e.selectedNumber=0}),this.setState({declarationArray:this.state.declarationArray}),this.props.addDeclarationToCart(this.state.declarationArray)}else{var c,l;this.setState({message:null===o||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message}),this.setState({message:"No Declarations to display"}),this.setState({disableInfiniteScroll:!0}),0===(null===(l=this.props.allStoreDeclarations)||void 0===l?void 0:l.length)&&this.props.addDeclarationToCart(m.b.elements),this.setState({declarationArray:this.props.allStoreDeclarations})}},this.contanerIconProps={name:"container",slot:"",class:"zoom12",styleProps:{zoom:2.8}},this.topMenuItems=[{name:"",type:"button",src:"filter",styleProps:{zoom:1.3},slot:"",clickedOnTopMenu:()=>this.setState({showModal:!0})},{name:"expired",src:"",type:"button",slot:"start",clickedOnTopMenu:()=>this.topMenuClick("","","ALL","")},{name:"active",icon:"",type:"button",slot:"start",clickedOnTopMenu:()=>this.topMenuClick("","","ACTIVE","")},{name:"Do Validity",src:"filter-down-arrow",type:"button",slot:"start",size:"0.7rem",clickedOnTopMenu:()=>this.doSortList(3,"doValidity")},{name:"Containers",src:"filter-down-arrow",type:"button",slot:"start",size:"0.7rem",clickedOnTopMenu:()=>this.doSortList(2,"container")}],this.doSortList=(e,t)=>{this.setState({sortOrder:{...this.state.sortOrder,[t]:"asc"==this.state.sortOrder[t]?"desc":"asc"}}),this.topMenuClick("","","","",e,this.state.sortOrder[t])},this.topMenuClick=(e,t,a,n,o,s)=>{this.setState({showModal:!1}),this.setState({declarationArray:[]}),this.props.removeAllContainersInCart();var r="option=ALL&fromDate="+e+"&toDate="+t+"&consigneeName=&status="+a+"&pgNo=0&pgSize=10&locale=en"+(s?"&sortOrder="+s:"")+(o?"&sortCol="+o:"");this.getAllDeclaration(r)},this.goToContainerList=(e,t,a)=>{T?a?"checked"===a?this.props.allStoreDeclarations.forEach((e,t)=>{e.selected=!0,e.containerList.forEach((t,a)=>{e.containerList[a].selected=!0}),P+=e.containerList.length,e.selectedNumber=e.containerList.length,this.props.updateBoesInCart(e)}):(T=!1,this.setState({showChecked:!1}),this.props.allStoreDeclarations.forEach((e,t)=>{e.selected=!1,e.containerList.forEach((t,a)=>{e.containerList[a].selected=!1}),P=0,e.selectedNumber=0,this.props.updateBoesInCart(e)})):(e.selected=!e.selected,this.setState({selected:e.selected}),console.log(w,P),(w>1||P>=1)&&(T=!0),e.selected?(P=0,e.containerList.forEach(e=>{e.selected=!0,P+=1,this.setState({selected:!0})}),w+=1,e.selectedNumber=P,console.log(w),this.props.updateBoesInCart(e)):(w-=1,P-=e.containerList.length,e.containerList.forEach(t=>{t.selected=!1,this.setState({selected:!1}),e.selectedNumber=0,0===e.selectedNumber&&(console.log("uiuiiiu"),this.setState({showChecked:!1})),console.log(w),0===w&&(T=!1),this.props.updateBoesInCart(e)}))):(e.currentSelection=!0,e.containerList.index=t,this.props.updateBoesInCart(e),n.history.push("/container",e))},this.declarationLonpressed=e=>{T||(T=!0,w=1,this.setState({showChecked:!0}),e.selected=!e.selected,this.setState({selected:e.selected}),console.log(e),e.selected&&(e.containerList.forEach(e=>{e.selected=!0,P+=1,this.setState({selected:!0})}),e.selectedNumber=P,this.props.updateBoesInCart(e)))},this.searchNext=async e=>{var t="pgSize=10&pgNo="+(S+=1)+"&option=ALL&locale=en";await this.getAllDeclaration(t),e.target.complete()},this.onSearchClick=()=>{n.history.push("/openSearch","declaration")},this.searchByDate=(e,t,a)=>{this.setState({showModal:e}),console.log(t,a),this.topMenuClick(t,a)},n=e,this.state={showModal:!1,selected:!1,opened:!0,message:"",disableInfiniteScroll:!1,declarationArray:this.props.allStoreDeclarations,userType:{},showChecked:!1,sortOrder:{doValidity:"asc",container:"asc"},searchBoeDate:{fromDate:"",toDate:D.h}},this.contentRef=r.a.createRef()}goToContainerCart(){n.history.push("/containerCart")}render(){const e={showChecked:this.state.showChecked,addContainerToCart:this.goToContainerList};return 0===this.props.cartNumber&&(T=!1),r.a.createElement(o.x,{className:"declaration"},r.a.createElement(v.a,{label:"Declaration",action:"search",locationProps:n,searchClick:()=>this.onSearchClick(),showAgent:!0,agentHeader:!0,checkedProps:e,changedAgent:()=>{this.setState({declarationArray:[]}),this.props.removeAllContainersInCart(),this.getAllDeclaration("")}}),r.a.createElement(o.j,{className:"declaration-Content"},r.a.createElement(k.a,{showModal:this.state.showModal,openOrCloseModal:e=>this.setState({showModal:e}),content:r.a.createElement(C.a,{headerName:"Delivery Order Validity",openOrCloseModalInsearch:this.searchByDate,searchDates:this.state.searchBoeDate,setSearchdate:e=>{console.log(e),this.setState({searchBoeDate:e})}})}),r.a.createElement(u.a,{topMenuProps:this.topMenuItems}),this.state.message&&this.state.declarationArray.length<=0&&r.a.createElement("div",{className:"warning-message"},this.state.message),r.a.createElement("div",{className:"container-section"},this.state.declarationArray.length>0&&r.a.createElement(N.a,{message:"".concat(this.state.declarationArray.length," declarations")}),r.a.createElement("div",{className:"decl-container-list"},this.props.allStoreDeclarations.map((e,t)=>(e.currentSelection=!1,console.log(0,P),r.a.createElement(i.a,{key:t,onShortPress:a=>{this.state.opened?this.goToContainerList(e,t):a.stopPropagation()},onLongPress:t=>{this.state.opened?this.declarationLonpressed(e):t.stopPropagation()},longPressTime:800},r.a.createElement(o.e,{key:t,className:e.selected?"outer-card boxShadow ":"outer-card lightShadow"}," ",r.a.createElement(o.f,null,r.a.createElement("div",{className:"container-card"},r.a.createElement("div",{className:"twoItems borderBottom"},r.a.createElement("div",{className:"eachItemLeft"},r.a.createElement("div",{className:"decl-info"},r.a.createElement("span",{className:"decl-number"},r.a.createElement(o.u,{class:"gray-text"},"Declaration#")),r.a.createElement("span",{className:"decl-comments"},e.referenceNumber))),r.a.createElement("div",{className:"middle-item"},r.a.createElement("div",{className:"dov"},r.a.createElement("span",{className:""}))),r.a.createElement("div",{className:"eachItemRight"},r.a.createElement("div",{className:"dov"},r.a.createElement("span",{className:"dov-text"},r.a.createElement(o.u,{class:"gray-text"},"Deliver Order validity")),r.a.createElement("span",{className:"dov-number"},e.deliveryOrderValidity)))),r.a.createElement("div",{className:"twoItems"},r.a.createElement("div",{className:"eachItemLeft"},r.a.createElement("div",{className:"decl-info"},r.a.createElement("span",{className:"decl-number"}," ",r.a.createElement(o.u,{class:"gray-text"},"Consignee")),r.a.createElement("span",{className:"decl-comments"},e.consigneeDetails))),r.a.createElement("div",{className:"middle-item"},r.a.createElement("div",{className:"dov"},r.a.createElement("span",{className:""},r.a.createElement(d.a,{iconProps:this.contanerIconProps})))),r.a.createElement("div",{className:"eachItemRight"},r.a.createElement("div",{className:"secondRow"},r.a.createElement("div",{className:"dov"},r.a.createElement("span",{className:"dov-number"},e.containerList.length," Nos."),e.selectedNumber>0&&r.a.createElement("span",{className:"dov-selected-number"},e.selectedNumber," selected."))),r.a.createElement("div",{className:"secondRow"},r.a.createElement("div",{className:"badgeItem"},r.a.createElement("div",{className:"dov"},r.a.createElement("span",{className:""},r.a.createElement(f.a,{status:e.status}))))))))))))))),r.a.createElement(o.q,{threshold:"100px",disabled:this.state.disableInfiniteScroll,onIonInfinite:e=>this.searchNext(e)},r.a.createElement(o.r,{loadingText:"Loading more..."})),r.a.createElement(E.a,{iconType:"cart",clickEvent:this.goToContainerCart})),r.a.createElement(y.a,null))}}t.default=Object(c.b)(e=>({allStoreDeclarations:e.Cart,cartNumber:e.VariableValues,agent:e.CheckUserStatus.user.selectedAgent}),()=>({addDeclarationToCart:e=>{g.a.dispatch({type:b.h,payLoad:e})},removeAllContainersInCart:()=>{g.a.dispatch({type:b.s})},updateBoesInCart:e=>{g.a.dispatch({type:b.E,payLoad:e})}}))(O)}}]);
//# sourceMappingURL=10.b58bb58a.chunk.js.map