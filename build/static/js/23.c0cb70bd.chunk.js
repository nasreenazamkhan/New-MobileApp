(this["webpackJsonpcargoes-lift"]=this["webpackJsonpcargoes-lift"]||[]).push([[23],{157:function(e,a,t){"use strict";t.d(a,"a",(function(){return l}));var n=t(0),o=t.n(n),r=t(7),s=(t(159),t(60));function l(e){const a=i();var t=e.iconProps;return o.a.createElement(r.o,{src:"assets/icon/"+t.name+".svg",style:t.styleProps,className:t.class?a[t.class]+" "+t.class:"",slot:t.slot,onClick:()=>(null===t||void 0===t?void 0:t.iconClick)?null===t||void 0===t?void 0:t.iconClick(e.iconName,e.fieldPlaceholder):console.log()})}const i=Object(s.a)({zoom12:{zoom:1.4},slotEnd:{right:0,bottom:"1px"},disabledminus:{fontSize:"1.6rem",right:"-5px",zoom:1.5},calenderMargin:{zoom:1.4},zoom3:{zoom:3},zoom2:{zoom:2},slotStart:{position:"absolute",zoom:1.5},absolutePosition:{position:"absolute"},lastIcon:{zoom:"1.5",right:"3px",position:"relative"}})},159:function(e,a,t){},161:function(e,a,t){"use strict";t.d(a,"d",(function(){return o})),t.d(a,"e",(function(){return r})),t.d(a,"c",(function(){return s})),t.d(a,"f",(function(){return l})),t.d(a,"h",(function(){return i})),t.d(a,"g",(function(){return c})),t.d(a,"a",(function(){return d})),t.d(a,"b",(function(){return u}));var n=t(32);const o=e=>(null===e&&(e=""),""===e.trim()),r=(e,a,t)=>(t&&(a=a.replaceAll(t,"")),new RegExp(n.a[e]).test(a)),s=(e,a,t)=>{if(!e||!a||!t)return e;var n=e.replaceAll(" ","").replaceAll(t,"");let o="",r=0;for(let s=0;s<a.length&&r<n.length;s++)a[s]!=t?(o+=n[r],r+=1):o+=t;return o},l=e=>new RegExp(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}$/i).test(e),i=e=>new RegExp("^\\d{8}$").test(e),c=(e,a)=>new RegExp("^\\d{"+a+"}$").test(e);function d(e,a){var t=new Date(e);return new Date(t.setMinutes(e.getMinutes()+a))}const u=e=>{let a=e.split(":");var t,n;return t=a[0],n=a[1],1e3*(60*t*60+60*n+0)}},164:function(e,a,t){"use strict";var n=t(7),o=t(0),r=t.n(o),s=(t(165),t(161)),l=t(157);a.a=e=>{let{label:a,name:t,type:i,value:c,onChange:d,required:u,errors:m,pattern:g,datatype:p,description:f,placeholder:v,icon:E,onBlur:b,readonly:h,contactForm:w,max:N,setError:y,clearInput:O,keyDown:j,isClickable:P}=e;const[k,I]=Object(o.useState)(!1);return r.a.createElement("div",{className:"form-element-group",style:w?{width:"350px",padding:"0"}:{}},r.a.createElement("fieldset",null,r.a.createElement("legend",null,a),"tel"===i?r.a.createElement(n.u,{className:"regularFont-textInput"},"971"):r.a.createElement(r.a.Fragment,null),r.a.createElement(n.s,{name:t,type:i,value:"tel"===i&&(null===c||void 0===c?void 0:c.substring(0,3).includes("971"))?c.split("971")[1]:c,spellCheck:!1,autocapitalize:"off",onKeyDown:e=>(j&&j(e),e.key.length>1||(I(!Object(s.e)(p,e.key)),Object(s.e)(p,e.key)?void 0:(e.preventDefault(),!1))),onIonChange:e=>{let a,t=e.target.value;if("tel"===i&&y){t="971"+t.replace(/\s/g,"971");var n=Object(s.g)(t,1*N+3);console.log(n),null!=t&&y(n?"":"Please Enter "+N+" digit number"),console.log("tteeeelll",t)}e.target.pattern&&(t=Object(s.c)(t,e.target.pattern,"-")),"email"===e.target.type&&(a=Object(s.f)(t),y(a?"":"Please Enter valid Mail id"),console.log(a),I(!a)),h||d(e,t,a)},clearInput:O,required:u,autocomplete:"off",pattern:g,placeholder:v,className:"textInput",onIonBlur:e=>{b&&b(e)},maxlength:N,minlength:N,readonly:h||!1},!P&&E&&r.a.createElement(l.a,{iconProps:E,iconName:t,fieldPlaceholder:v})),P&&E&&r.a.createElement(n.d,{className:"icon-button",expand:"full",fill:"clear",onClick:()=>E.iconClick(t,v)},r.a.createElement(l.a,{iconProps:E,iconName:t,fieldPlaceholder:v}))),r.a.createElement("div",{className:""},m&&r.a.createElement(n.M,{color:"danger",className:"validation-message"},r.a.createElement(n.u,{className:"ion-padding-start validation-message"},m))),k&&f&&r.a.createElement(n.M,{color:"danger",className:"validation-message"},r.a.createElement(n.u,{className:"ion-padding-start validation-message"},f)))}},165:function(e,a,t){},246:function(e,a,t){},272:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(7),s=t(12),l=(t(246),t(45)),i=t(69),c=t(56),d=t(8),u=t(164),m=t(53),g=t(32),p=t(49),f=t(11),v=t(20);const{PushNotifications:E,Device:b}=v.b;a.default=Object(i.a)({mapDispatchToProps:{setIsLoggedIn:l.b,setUsername:l.c},component:e=>{let{setIsLoggedIn:a,history:t}=e;const[l,i]=Object(n.useState)(!1),[v,h]=Object(n.useState)({}),[w,N]=Object(n.useState)({username:"",password:"",submitted:!1,valid:!1}),[y,O]=Object(n.useState)(""),[j,P]=Object(n.useState)(""),[k,I]=Object(n.useState)("");Object(n.useEffect)(()=>{console.log("useEffect"),x(),C(),z()},[]);const x=()=>{b.getInfo().then(e=>{console.log("deviceInfo",e),O(e.uuid)})},C=()=>{b.getLanguageCode().then(e=>{console.log("language",e);const a=e.value.split("-");P(a.shift())})},z=()=>{E.register(),E.addListener("registration",e=>{console.log("deviceToken",e.value),I(e.value)}),E.addListener("registrationError",e=>{console.log("Error on registration: "+JSON.stringify(e))}),E.addListener("pushNotificationReceived",e=>{console.log("Push received: "+JSON.stringify(e))}),E.addListener("pushNotificationActionPerformed",e=>{console.log("Push action performed: "+JSON.stringify(e))})},S=async e=>{console.log("login clicked");let n={};if(e.preventDefault(),i(!0),w.username||(n.username="Username is required"),w.password||(n.password="Password is required"),w.username&&w.password){var o={userName:w.username,password:w.password,userType:"IMPORTER_APP"},r=await Object(c.c)(d.loginUrl,o);if(await r.success){var s=r.data.data.dataItems[0],l=await p.a(s.accessToken);l&&f.a.dispatch(l);var u=await p.b(s.user.userType);u&&f.a.dispatch(u);var m=await p.d(s.user);if(m&&f.a.dispatch(m),(r=await Object(c.d)(d.fetchConfirmDetails+w.username)).success){var g=r.data.data.dataItems[0];r.data.data.dataItems[0].confirmDetails?t.push("/confirmDetails",g):t.push("/tabs/",r)}else n.errorGeneral=r.data.message;await a(!0),await(async()=>{var e={notificationToken:k,preferredLanguage:j,deviceId:y};console.log("data - url",e+" - "+d.deviceRegisterUrl);var a=await Object(c.F)(d.deviceRegisterUrl,e);console.log("apiResponse",a)})()}else console.log(r),n.errorGeneral=r.data.message||r.data.error,h(n)}h(n)},D=(e,a)=>{N({...w,[e.target.name]:a}),h({...v,[e.target.name]:""})};Object(n.useRef)(null);return o.a.createElement(r.x,{id:"login-page"},o.a.createElement(r.j,null,o.a.createElement("div",{className:"main-container"},o.a.createElement("div",{className:"login-logo"},o.a.createElement("img",{src:"assets/img/dubai_trade_logo.png",alt:"Ionic logo"})),o.a.createElement("div",{className:"form-content"},o.a.createElement("div",{className:"login-box-header"}),o.a.createElement("form",{noValidate:!0,onSubmit:S,autoComplete:"off"},o.a.createElement(r.v,{className:"form-section"},o.a.createElement("div",{className:"login-header"},"Login",o.a.createElement("hr",null)),o.a.createElement(u.a,{name:"username",value:w.username,label:"Username",errors:v.username,type:"text",required:!0,onChange:D,datatype:"TEXT",placeholder:"Username",icon:{name:"username",slot:"start",login:!0,class:"zoom12"}}),o.a.createElement(u.a,{name:"password",value:w.password,label:"Password",errors:v.password,type:"password",required:!0,onChange:D,datatype:"TEXT",placeholder:"Password",icon:{name:"password",slot:"start",login:!0,class:"zoom12"}}),o.a.createElement("div",{className:""},v.errorGeneral&&o.a.createElement(r.M,{color:"danger",className:"validation-message genralError"},o.a.createElement(r.u,{className:"ion-padding-start"},v.errorGeneral))),o.a.createElement("div",{className:"login-tnc"},o.a.createElement("div",null,'by clicking "submit" you agree to our'),o.a.createElement("div",{onClick:()=>Object(m.a)(g.e),className:"tnc"},"terms and conditions"))),o.a.createElement("div",{className:"button-div"},o.a.createElement("div",{className:"button-holder",onClick:S},o.a.createElement(r.o,{slot:"icon-only",icon:s.e}))))))))}})}}]);
//# sourceMappingURL=23.c0cb70bd.chunk.js.map