(this["webpackJsonpcargoes-lift"]=this["webpackJsonpcargoes-lift"]||[]).push([[14],{157:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var n=t(0),l=t.n(n),o=t(7),c=(t(159),t(60));function i(e){const a=s();var t=e.iconProps;return l.a.createElement(o.o,{src:"assets/icon/"+t.name+".svg",style:t.styleProps,className:t.class?a[t.class]+" "+t.class:"",slot:t.slot,onClick:()=>(null===t||void 0===t?void 0:t.iconClick)?null===t||void 0===t?void 0:t.iconClick(e.iconName,e.fieldPlaceholder):console.log()})}const s=Object(c.a)({zoom12:{zoom:1.4},slotEnd:{right:0,bottom:"1px"},disabledminus:{fontSize:"1.6rem",right:"-5px",zoom:1.5},calenderMargin:{zoom:1.4},zoom3:{zoom:3},zoom2:{zoom:2},slotStart:{position:"absolute",zoom:1.5},absolutePosition:{position:"absolute"},lastIcon:{zoom:"1.5",right:"3px",position:"relative"}})},158:function(e,a,t){"use strict";var n=t(7),l=t(12),o=t(0),c=t.n(o),i=t(17),s=t(160),r=(t(162),t(157)),m=t(11),d=t(8),u=t(49),p=t(56);a.a=e=>{const[a,t]=Object(o.useState)({search:!0,check:!0,close:!0,home:!0,info:!1});var E=m.a.getState().CheckUserStatus.user;const[v,b]=Object(o.useState)(!1),[N,g]=Object(o.useState)("Select All"),f={name:"back-arrow",slot:"icon-only",zoom:""};Object(o.useEffect)(()=>{y(e.action?e.action:"none")},[]);let h=Object(i.e)();const k=a=>{e.customClick?e.customClick("/containerCart"):e.customBack?e.backClick(a):h.goBack()},y=e=>{e&&("search"===e?t({search:!1,check:!0,close:!0,home:!0,info:!0}):"check"===e?t({search:!0,check:!1,close:!0,home:!0,info:!0}):"close"===e?t({search:!0,check:!0,close:!1,home:!0,info:!0}):"home"===e?t({search:!0,check:!0,close:!0,home:!1,info:!0}):"info"===e&&t({search:!0,check:!0,close:!0,home:!0,info:!1}))};return c.a.createElement(n.n,{style:e.agentHeader?{height:"102px"}:{height:"10%"}},c.a.createElement(n.P,{className:"header"},c.a.createElement("div",{className:"mainContainer",style:e.agentHeader?{}:{paddingBottom:0}},e.checkedProps?c.a.createElement("div",{className:"selectAllBg",hidden:!e.checkedProps.showChecked},c.a.createElement("div",null,c.a.createElement(n.d,{fill:"clear",onClick:e=>{k(e)}},c.a.createElement(r.a,{iconProps:f}))),c.a.createElement("div",{className:"checkBoxContainer"},c.a.createElement(n.h,{className:"checkBox",checked:v,onIonChange:a=>function(a){console.log(a),b(a),a?(g("Unselect All"),e.checkedProps.addContainerToCart("","","checked")):(e.checkedProps.addContainerToCart("","","unchecked"),g("Select All"))}(a.detail.checked)})),c.a.createElement("div",{className:"checkBoxLabelCol"},c.a.createElement(n.u,{className:"checkBoxLabel"},N)," ")):c.a.createElement(c.a.Fragment,null),c.a.createElement("div",{className:"backArrow"},"Home"!=e.label&&a.close?c.a.createElement(n.d,{fill:"clear",onClick:e=>{k(e)}},c.a.createElement(r.a,{iconProps:f})):c.a.createElement(c.a.Fragment,null)),c.a.createElement("div",{className:"header-label"}," ",c.a.createElement(n.M,null,e.label)),c.a.createElement("div",{className:"header-right"},c.a.createElement(n.d,{hidden:a.search,fill:"clear",onClick:e.searchClick},c.a.createElement(n.o,{slot:"icon-only",icon:l.x,style:{minWidth:"30px"}})),c.a.createElement(n.d,{hidden:a.info,fill:"clear",onClick:e.infoClick},c.a.createElement(n.o,{src:"assets/icon/info-italic.svg",slot:"icon-only",style:{minWidth:"30px"}})),c.a.createElement(n.d,{hidden:a.check,fill:"clear",onClick:e.checkClick},c.a.createElement(r.a,{iconProps:{name:"Check",slot:"icon-only",zoom:""}})),c.a.createElement(n.d,{hidden:a.home,fill:"clear",onClick:a=>{e.customClick?e.customClick("/tabs/landing"):(h.push("/tabs/landing"),Object(s.a)())}},c.a.createElement(r.a,{iconProps:{name:"home-new",slot:"icon-only",zoom:""}})),c.a.createElement(n.d,{hidden:a.close,fill:"clear",onClick:e=>{k(e)}},c.a.createElement(n.o,{slot:"icon-only",icon:l.p})),c.a.createElement(n.d,{hidden:""!==e.action,fill:"clear"},c.a.createElement(n.o,null)))),E.agents&&e.agentHeader&&c.a.createElement(n.P,{className:"agent-code-header"},c.a.createElement(n.F,{value:E.selectedAgent,interface:"popover",onIonChange:a=>(async a=>{let t=a.detail.value,n=d.loginAgent+"?agentCode="+t.agentCode+"&agentType="+t.agentType;var l={userName:E.userName,userType:"IMPORTER_APP"},o=await Object(p.A)(n,l),c=o.data.data.dataItems[0];if(await o.success){var i=await u.a(c.accessToken);i&&m.a.dispatch(i);var s=await u.b(c.user.activeCompanyCode);s&&m.a.dispatch(s);var r=await u.c(t);r&&m.a.dispatch(r);m.a.getState().CheckUserStatus;e.changedAgent?e.changedAgent():console.log("changed")}})(a),disabled:!e.showAgent||1==E.agents.length,style:e.showAgent?{}:{backgroundColor:"#DDF1FF"},interfaceOptions:{cssClass:"agent-interface"}},E.agents.map((e,a)=>c.a.createElement(n.G,{value:e,key:a,className:"select-agent-opt"},e.agentCode+"-"+e.agentName))),c.a.createElement(n.o,{src:"assets/icon/arrow-down.svg",className:"arrow-down-icon",hidden:!e.showAgent||1==E.agents.length}))))}},159:function(e,a,t){},160:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var n=t(11),l=t(2);function o(){n.a.dispatch({type:l.m}),n.a.dispatch({type:l.v}),n.a.dispatch({type:l.x}),n.a.dispatch({type:l.s}),n.a.dispatch({type:l.w})}},162:function(e,a,t){},166:function(e,a,t){"use strict";var n=t(7),l=t(12),o=t(0),c=t.n(o);t(183);a.a=e=>{let{showModal:a,openOrCloseModal:t,content:o}=e;return c.a.createElement(n.w,{isOpen:a,cssClass:"popup-container",onDidDismiss:()=>t(!1)},c.a.createElement("div",{className:"close-icon-container",onClick:()=>t(!1)},c.a.createElement(n.o,{icon:l.o,className:"close-icon"})),o)}},177:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var n=t(25),l=function(){var e=function(a,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])})(a,t)};return function(a,t){function n(){this.constructor=a}e(a,t),a.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),o=new(function(e){function a(){return null!==e&&e.apply(this,arguments)||this}return l(a,e),a.prototype.share=function(e,a,t,l){return Object(n.b)(this,"share",{successIndex:4,errorIndex:5},arguments)},a.prototype.shareWithOptions=function(e){return Object(n.b)(this,"shareWithOptions",{platforms:["iOS","Android"]},arguments)},a.prototype.canShareVia=function(e,a,t,l,o){return Object(n.b)(this,"canShareVia",{successIndex:5,errorIndex:6,platforms:["iOS","Android"]},arguments)},a.prototype.shareViaTwitter=function(e,a,t){return Object(n.b)(this,"shareViaTwitter",{successIndex:3,errorIndex:4,platforms:["iOS","Android"]},arguments)},a.prototype.shareViaFacebook=function(e,a,t){return Object(n.b)(this,"shareViaFacebook",{successIndex:3,errorIndex:4,platforms:["iOS","Android"]},arguments)},a.prototype.shareViaFacebookWithPasteMessageHint=function(e,a,t,l){return Object(n.b)(this,"shareViaFacebookWithPasteMessageHint",{successIndex:4,errorIndex:5,platforms:["iOS","Android"]},arguments)},a.prototype.shareViaInstagram=function(e,a){return Object(n.b)(this,"shareViaInstagram",{platforms:["iOS","Android"]},arguments)},a.prototype.shareViaWhatsApp=function(e,a,t){return Object(n.b)(this,"shareViaWhatsApp",{successIndex:3,errorIndex:4,platforms:["iOS","Android"]},arguments)},a.prototype.shareViaWhatsAppToReceiver=function(e,a,t,l){return Object(n.b)(this,"shareViaWhatsAppToReceiver",{successIndex:4,errorIndex:5,platforms:["iOS","Android"]},arguments)},a.prototype.shareViaSMS=function(e,a){return Object(n.b)(this,"shareViaSMS",{platforms:["iOS","Android"]},arguments)},a.prototype.canShareViaEmail=function(){return Object(n.b)(this,"canShareViaEmail",{platforms:["iOS","Android"]},arguments)},a.prototype.shareViaEmail=function(e,a,t,l,o,c){return Object(n.b)(this,"shareViaEmail",{platforms:["iOS","Android"],successIndex:6,errorIndex:7},arguments)},a.prototype.shareVia=function(e,a,t,l,o){return Object(n.b)(this,"shareVia",{successIndex:5,errorIndex:6,platforms:["iOS","Android"]},arguments)},a.prototype.setIPadPopupCoordinates=function(e){return Object(n.b)(this,"setIPadPopupCoordinates",{sync:!0,platforms:["iOS"]},arguments)},a.prototype.saveToPhotoAlbum=function(e){return Object(n.b)(this,"saveToPhotoAlbum",{platforms:["iOS"]},arguments)},a.prototype.shareViaWhatsAppToPhone=function(e,a,t,l){return Object(n.b)(this,"shareViaWhatsAppToPhone",{successIndex:5,errorIndex:6,platforms:["iOS","Android"]},arguments)},a.pluginName="SocialSharing",a.plugin="cordova-plugin-x-socialsharing",a.pluginRef="plugins.socialsharing",a.repo="https://github.com/EddyVerbruggen/SocialSharing-PhoneGap-Plugin",a.platforms=["Android","Browser","iOS","Windows","Windows Phone"],a}(n.a))},183:function(e,a,t){},204:function(e,a,t){"use strict";var n=t(0),l=t.n(n);t(205);a.a=e=>(console.log(e.color),l.a.createElement("div",{className:e.bookingCard?"booking-avatar":"avatar",style:{backgroundColor:"".concat(e.color)}},e.name))},205:function(e,a,t){},252:function(e,a,t){},253:function(e,a,t){},254:function(e,a,t){},284:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return N}));var n=t(0),l=t.n(n),o=t(7),c=(t(252),t(166));var i=l.a.memo(e=>{const[a,t]=Object(n.useState)(!1);function i(){var a,t,n;return l.a.createElement("div",{id:"slide-up-details"},l.a.createElement(o.m,null,l.a.createElement(o.B,null,l.a.createElement(o.i,{size:"1"},l.a.createElement(o.o,{src:"/assets/icon/container.svg"})),l.a.createElement(o.i,{size:"10"},l.a.createElement("span",{className:"label-text"},null===e||void 0===e?void 0:e.container_number),l.a.createElement("hr",{className:"header-text"}))),l.a.createElement(o.B,{className:"row-text"},l.a.createElement(o.i,{className:"column-space",size:"5"},l.a.createElement(o.u,{className:"label-font"},"Declaration Number")),l.a.createElement(o.i,{className:"column-space",size:"4"},l.a.createElement(o.u,{className:"label-font"},"Container Wt")),l.a.createElement(o.i,{className:"column-space"},l.a.createElement(o.u,{className:"label-font"},"ISO Code"))),l.a.createElement(o.B,{className:"data-text"},l.a.createElement(o.i,{className:"column-space",size:"5"},l.a.createElement(o.u,{className:"label-font"},null===e||void 0===e?void 0:e.boeNumber)),l.a.createElement(o.i,{className:"column-space",size:"4"},l.a.createElement(o.u,{className:"label-font"},null===e||void 0===e?void 0:e.containerWeight)),l.a.createElement(o.i,{className:"column-space"},l.a.createElement(o.u,{className:"label-font"},null===e||void 0===e?void 0:e.isoCode))),l.a.createElement(o.B,{className:"row-text"},l.a.createElement(o.i,{className:"column-space",size:"5"},l.a.createElement(o.u,{className:"label-font"},"Storage Validity")),l.a.createElement(o.i,{className:"column-space",size:"4"},l.a.createElement(o.u,{className:"label-font"},"Hold Authority")),l.a.createElement(o.i,{className:"column-space"},l.a.createElement(o.u,{className:"label-font"},"Pickup"))),l.a.createElement(o.B,{className:"data-text"},l.a.createElement(o.i,{className:"column-space",size:"5"},l.a.createElement(o.u,{className:"label-font"},null===e||void 0===e?void 0:e.storageValidity)),l.a.createElement(o.i,{className:"column-space",size:"4"},l.a.createElement(o.u,{className:"label-font"},null===e||void 0===e?void 0:e.holdAuthority)),l.a.createElement(o.i,{className:"column-space"},l.a.createElement(o.u,{className:"label-font"},null===e||void 0===e?void 0:e.pickUpLocation))),l.a.createElement(o.B,{className:"row-text"},l.a.createElement(o.i,{className:"column-space"},l.a.createElement(o.u,{className:"label-font"},"Drop Location"))),l.a.createElement(o.B,{className:"data-text"},l.a.createElement(o.i,{className:"column-space"},l.a.createElement(o.o,{src:"assets/icon/location-red.svg",className:"icon-font"}),l.a.createElement(o.u,{className:"label-font"},null===e||void 0===e?void 0:e.dropLocation))),e&&e.proofOfDelivery&&e.proofOfDelivery.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement(o.B,{className:"row-text"},l.a.createElement(o.i,{className:"column-space",size:"5"},l.a.createElement(o.u,{className:"label-font"},"Job started on")),l.a.createElement(o.i,{className:"column-space",size:"4"},l.a.createElement(o.u,{className:"label-font"},"POD verified on"))),l.a.createElement(o.B,{className:"data-text"},l.a.createElement(o.i,{className:"column-space",size:"5"},l.a.createElement(o.u,{className:"label-font"},null===e||void 0===e||null===(a=e.proofOfDelivery[0])||void 0===a?void 0:a.uploadedOn)),l.a.createElement(o.i,{className:"column-space",size:"4"},l.a.createElement(o.u,{className:"label-font"},null===e||void 0===e||null===(t=e.proofOfDelivery[0])||void 0===t?void 0:t.podApprovedOn))),l.a.createElement(o.B,{className:"row-text"},l.a.createElement(o.i,{className:"column-space",size:"5"},l.a.createElement(o.u,{className:"label-font"},"POD Verification comments"))),l.a.createElement(o.B,{className:"data-text"},l.a.createElement(o.i,{className:"column-space",size:"5"},l.a.createElement(o.u,{className:"label-font"},null===e||void 0===e||null===(n=e.proofOfDelivery[0])||void 0===n?void 0:n.remarks)))),"CNCL"==(null===e||void 0===e?void 0:e.containerStatus)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(o.B,{className:"row-text"},l.a.createElement(o.i,{className:"column-space",size:"5"},l.a.createElement(o.u,null,"Cancelled on")),l.a.createElement(o.i,{className:"column-space"},l.a.createElement(o.u,null,"Reason for cancellation"))),l.a.createElement(o.B,{className:"data-text"},l.a.createElement(o.i,{className:"column-space",size:"5"},l.a.createElement(o.u,null,null===e||void 0===e?void 0:e.storageValidity)),l.a.createElement(o.i,{className:"column-space"},l.a.createElement(o.u,null,null===e||void 0===e?void 0:e.cancelRemarks)))),"SUCC"==e.bookingStatus&&"CNCL"!==(null===e||void 0===e?void 0:e.containerStatus)&&l.a.createElement(o.B,null,l.a.createElement(o.d,{className:"link-text",fill:"clear",onClick:e.closeClick},"Delete Container"))))}return Object(n.useEffect)(()=>{console.log("BookingContainerParam",e)},[]),l.a.createElement("div",{id:"container-card"},l.a.createElement(c.a,{showModal:a,openOrCloseModal:e=>t(e),content:l.a.createElement(i,null)}),l.a.createElement(o.e,{className:"lightShadow",style:"CNCL"==(null===e||void 0===e?void 0:e.containerStatus)?{border:"1px solid #707070"}:{}},l.a.createElement(o.f,{style:{padding:0},onClick:()=>t(!0)},l.a.createElement("div",{className:"bottomDivider-truck"},l.a.createElement(o.B,null,l.a.createElement(o.i,{className:"marginLeftTop-truck",size:"7"},l.a.createElement("div",{className:"ion-float-left"},l.a.createElement("sub",{className:"regular-font"},"Container No"),l.a.createElement("div",{className:"data-font"},e.container_number+"-"+e.isoCode))),l.a.createElement(o.i,{className:"marginLeftTop-truck",size:"5"},l.a.createElement("div",null,l.a.createElement("sub",{className:"regular-font"},"Container Type"),l.a.createElement("div",{className:"data-font"},e.containerType)))),l.a.createElement(o.B,null,l.a.createElement(o.i,{className:"marginLeftTop-truck"},"CLEARING_AGENT"!==e.userType&&l.a.createElement("div",null,l.a.createElement("sub",{className:"regular-font"},"Consignee Details"),l.a.createElement("div",{className:"data-font"},e.consigneeName))))),l.a.createElement(o.B,{className:"bottomDivider-truck"},l.a.createElement(o.i,{className:"margin-2nd-row"},l.a.createElement("div",{className:"ion-float-left"},l.a.createElement("sub",{className:"regular-font"},"Pickup"),l.a.createElement("div",{className:"data-font"},e.pickUpLocation))),l.a.createElement(o.i,{className:"margin-2nd-row"},l.a.createElement("div",{className:"ion-float-right"},l.a.createElement("sub",{className:"regular-font"},"Drop Details"),l.a.createElement("div",{className:"data-font drop-zone"},e.dropZone))),l.a.createElement(o.i,{className:"margin-2nd-row"},l.a.createElement("div",{className:"ion-float-right"},l.a.createElement(o.B,{className:"data-font",style:{whiteSpace:"pre-wrap"}},l.a.createElement(o.i,{size:"2",style:{paddingRight:"20px"}},l.a.createElement(o.o,{src:"/assets/icon/calendar.svg",style:"CNCL"==e.containerStatus?{stroke:"#5B5B5B"}:{}})),l.a.createElement(o.i,null,e.dropTime)))))),l.a.createElement(o.f,{style:{padding:0}},l.a.createElement(o.B,{className:"booking-row"},l.a.createElement(o.i,{className:"right-divider"},l.a.createElement(o.o,{src:["MTTOKASGN","MTTRK_ASGN","INPRO","FCL_DEL","MT_DEL","PODUPL","PODREJ","PODIMPAPPR","PENTRUCK"].includes(e.containerStatus)?"assets/icon/track-truck.svg":"assets/icon/in_yard.svg.svg",className:"right-divide-button",onClick:"CNCL"==e.containerStatus?e.noEvent:e.trackClick})),l.a.createElement(o.i,{className:"right-divider",style:"SUCC"!==e.bookingStatus?{border:"none"}:{}},l.a.createElement(o.o,{src:"CNCL"==e.containerStatus?"assets/icon/edit-contact-grey.svg":"assets/icon/edit-contact.svg",className:"right-divide-button",onClick:"CNCL"==e.containerStatus?e.noEvent:e.viewClick})),"SUCC"==e.bookingStatus&&l.a.createElement(o.i,{className:"right-divider",style:{border:"none"}},l.a.createElement(o.o,{src:"assets/icon/delete.svg",className:"delete-button",onClick:e.closeClick})),"CNCL"==e.containerStatus&&l.a.createElement(o.i,{className:"right-divider",style:{border:"none",color:"#FF3E3E"}},l.a.createElement("div",{className:"data-font",style:{maxWidth:"100px"}},"Cancelled"))))))}),s=t(158),r=t(17),m=t(56),d=t(8),u=(t(253),t(61)),p=t(204),E=t(64),v=t(177);t(254);var b=e=>{let{bookingReference:a,click:t}=e;async function n(e){let n;"Tax"===e?n=await Object(m.u)(a):"Booking"===e&&(n=await Object(m.m)(a)),n&&(t(),v.a.share("Your Payment Receipt",e+"-Receipt-"+a,"data:application/pdf;base64,"+n.data,null))}return l.a.createElement("div",{className:"download-limk-container"},l.a.createElement("div",{className:"each-link",onClick:()=>n("Tax")},l.a.createElement(o.u,null,"Download Tax Invoice")),l.a.createElement("div",{className:"each-link",onClick:()=>n("Booking")},l.a.createElement(o.u,null,"Download Booking Invoice")),l.a.createElement("div",null))};function N(e){var a,t,v,N,g;const[f,h]=Object(n.useState)({}),[k,y]=Object(n.useState)({}),[]=Object(n.useState)(!1),[C,D]=Object(n.useState)(!1),[O,S]=Object(n.useState)(""),[A,w]=Object(n.useState)({}),[x,T]=Object(n.useState)(!1),[P,B]=Object(n.useState)(!1),[z,j]=Object(n.useState)(!1),[I,L]=Object(n.useState)(),[R,V]=Object(n.useState)(!1),[M,_]=Object(n.useState)(!1),[F,W]=Object(n.useState)(!1),[U,G]=Object(n.useState)(""),[K,q]=Object(n.useState)(null===e||void 0===e||null===(a=e.history)||void 0===a||null===(t=a.location)||void 0===t?void 0:t.state.bookingDetails);let H=Object(r.e)();var Y;Object(n.useEffect)(()=>{var a,t,n,l;Q(null===e||void 0===e||null===(a=e.history)||void 0===a||null===(t=a.location)||void 0===t||null===(n=t.state)||void 0===n||null===(l=n.bookingDetails)||void 0===l?void 0:l.bookingNumber)},[]);const[Z,J]=Object(n.useState)(!1),Q=async a=>{let t=d.containerDetails+"refNo="+a;var n=await Object(m.w)(t);if(await n.success){var l,o,c,i=await Object(m.p)(a);(null===i||void 0===i?void 0:i.success)&&i.data.data.dataItems[0].invoiceList.length>0&&J(!0),h({...f,bookingDetails:K,response:n});let t=null===e||void 0===e||null===(l=e.history)||void 0===l||null===(o=l.location)||void 0===o||null===(c=o.state)||void 0===c?void 0:c.bookingStatus;if(L(null===n||void 0===n?void 0:n.data),"TRANSCONF"==t||"STARTED"===t)X("inProgress",null===n||void 0===n?void 0:n.data);else{var s=null===n||void 0===n?void 0:n.data.containerList,r=$(s);y(r)}}},X=function(e){let a;if("inProgress"==e){W(!1),_(!1),V(!0);let e=["PEND","PENTRUCK","PODUPL","INPRO","TRUCK_ASGN","PENDING_TOKEN"];for(var t=arguments.length,n=new Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];a=void 0==I?n[0].containerList.filter(a=>{var t;return e.includes(null===(t=a.refStatus)||void 0===t?void 0:t.code)}):I.containerList.filter(a=>{var t;return e.includes(null===(t=a.refStatus)||void 0===t?void 0:t.code)})}else if("delivered"==e){V(!1),W(!1),_(!0);let e=["FCL_DEL","PMTTOK","MTTOKASGN","MTTRK_ASGN"];a=I.containerList.filter(a=>{var t;return e.includes(null===(t=a.refStatus)||void 0===t?void 0:t.code)})}else{V(!1),_(!1),W(!0);let e=["MT_DEL","COMPL"];a=I.containerList.filter(a=>{var t;return e.includes(null===(t=a.refStatus)||void 0===t?void 0:t.code)})}var o=$(a);y(o)},$=e=>e.reduce((function(e,a){let{...t}=a;const n="".concat(t.boeNumber,",").concat(t.orderValidity?t.orderValidity:"");return(e[n]=e[n]||[]).push(t),e}),{}),ee={isShow:C,message:O,content:"cancel the container?",icon:"<img src='/assets/icon/are-you-sure.svg'/>",alertAction:(e,a)=>{a&&(D(!1),A.cancelRemarks=e.cancellationReason,(async e=>{try{await console.info("BEFORE DELETE ",JSON.stringify(f.containers));let t=await Object(m.z)(d.cancelRequestContainerUrl,e);if(await console.info("DELETE ",JSON.stringify(e.key)),null===t||void 0===t?void 0:t.success){var a;await delete f.containers[e.key];let t=await({booking:f.booking,containers:f.containers});console.info("AFTER DELETED  ",t),await h(t),H.push("/bookingDetails/"+(null===f||void 0===f||null===(a=f.bookingDetails)||void 0===a?void 0:a.cardStatus))}}catch(t){await console.log("ERROR +++ {} ",t)}})(A))},inputs:[{name:"cancellationReason",type:"textarea",placeholder:"Reason for cancellaltion",cssClass:"input-class"}],itemName:"Kindly check our <a href=`https://www.google.com/`> className='link-text'>cancellation policy</a> <br/>before proceeding."};function ae(){return l.a.createElement("div",{id:"slide-up-details"},l.a.createElement(o.m,null,l.a.createElement(o.B,null,l.a.createElement(o.i,{size:"8"},l.a.createElement("span",{className:"label-text",style:{margin:0,fontSize:"1.1rem"}},"Payment Breakups"),l.a.createElement("hr",{className:"header-text",style:{margin:0}})),l.a.createElement(o.i,{size:"3",style:{color:"#0568AE"}},I.grossAmount," AED")),I.paymentDetails.filter(e=>"transportation"===e.paymentType).map((e,a)=>l.a.createElement("div",{className:"data-text",key:a,style:I.paymentDetails.filter(e=>"transportation"===e.paymentType).length==a+1?{padding:"10px"}:{borderBottom:"1px solid #D7D7D7",padding:"10px"}},l.a.createElement(o.B,null,l.a.createElement(o.i,{className:"column-space"},"Containers"),l.a.createElement(o.i,{className:"column-space"},e.chargeDescription),l.a.createElement(o.i,{className:"column-space"},e.subTotalAmount," AED")),l.a.createElement(o.B,null,l.a.createElement(o.i,{className:"column-space"},"Vat %"),l.a.createElement(o.i,{className:"column-space"},"5%"),l.a.createElement(o.i,{className:"column-space"},e.totalVat," AED")),l.a.createElement(o.B,null,l.a.createElement(o.i,{className:"column-space",size:"8"},"Total"),l.a.createElement(o.i,{className:"column-space"},e.totalAmount," AED")))),l.a.createElement(o.B,{className:"data-text",style:{borderBottom:"1px solid #D7D7D7"}},l.a.createElement(o.i,{className:"column-space",size:"8"},"Net Amount"),l.a.createElement(o.i,{className:"column-space"},I.totalContainerTariff," AED")),I.paymentDetails.filter(e=>"transportation"!==e.paymentType).map((e,a)=>l.a.createElement("div",{className:"data-text",key:a,style:I.paymentDetails.filter(e=>"transportation"!==e.paymentType).length==a+1?{}:{borderBottom:"1px solid #D7D7D7"}},l.a.createElement(o.B,null,l.a.createElement(o.i,{className:"column-space"},"Token Charges"),l.a.createElement(o.i,{className:"column-space"},e.chargeDescription),l.a.createElement(o.i,{className:"column-space"},e.subTotalAmount," AED")),l.a.createElement(o.B,null,l.a.createElement(o.i,{className:"column-space"},"Vat %"),l.a.createElement(o.i,{className:"column-space"},"5%"),l.a.createElement(o.i,{className:"column-space"},e.totalVat," AED")),l.a.createElement(o.B,null,l.a.createElement(o.i,{className:"column-space",size:"8"},"Total"),l.a.createElement(o.i,{className:"column-space"},e.totalAmount," AED")))),l.a.createElement(o.B,{className:"data-text",style:{borderBottom:"1px solid #D7D7D7",paddingBottom:"10px",paddingTop:"10px"}},l.a.createElement(o.i,{className:"column-space",size:"8"},"Net Amount"),l.a.createElement(o.i,{className:"column-space"},I.totalTokenTariff," AED")),l.a.createElement(o.B,{className:"data-text"},l.a.createElement(o.i,{className:"column-space",size:"8",style:{fontSize:"1.1rem"}},"Gross Amount"),l.a.createElement(o.i,{className:"column-space",style:{color:"#0568AE",fontSize:"1.1rem"}},I.grossAmount," AED"))))}function te(){var e,a,t,n,c,i;return l.a.createElement("div",{id:"slide-up-details",style:{paddingLeft:"15px"}},l.a.createElement(o.m,null,l.a.createElement(o.B,null,l.a.createElement(o.i,{size:"1"},l.a.createElement(p.a,{color:"#1DB3FE",name:"IA"})),l.a.createElement(o.i,{size:"10"},l.a.createElement("span",{className:"label-text"},null===f||void 0===f||null===(e=f.bookingDetails)||void 0===e?void 0:e.bookingNumber),l.a.createElement("hr",{className:"header-text"}))),l.a.createElement(o.B,{className:"row-text"},l.a.createElement(o.i,{className:"column-space",size:"7"},"Requestor Name"),l.a.createElement(o.i,{className:"column-space"},"Requestor Contact")),l.a.createElement(o.B,{className:"data-text"},l.a.createElement(o.i,{className:"column-space",size:"7"},null===f||void 0===f||null===(a=f.bookingDetails)||void 0===a?void 0:a.requesterName),l.a.createElement(o.i,{className:"column-space"},null===f||void 0===f||null===(t=f.bookingDetails)||void 0===t?void 0:t.requesterContact)),null!==(null===f||void 0===f||null===(n=f.bookingDetails)||void 0===n?void 0:n.importerComments)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(o.B,{className:"row-text"},l.a.createElement(o.i,{className:"column-space"},"Importer Comments")),l.a.createElement(o.B,{className:"data-text"},l.a.createElement(o.i,{className:"column-space"},null===f||void 0===f||null===(c=f.bookingDetails)||void 0===c?void 0:c.importerComments))),l.a.createElement("div",{style:{paddingTop:"15px",paddingBottom:"15px"}},l.a.createElement(o.B,{className:"data-text",style:{paddingBottom:"10px",fontSize:"1.1rem"}},l.a.createElement(o.i,{className:"column-space"},"Payment Details")),I.paymentDetails.filter(e=>"transportation"===e.paymentType).map((e,a)=>l.a.createElement(o.B,{className:"data-text",key:a},l.a.createElement(o.i,{className:"column-space",size:"7"},e.chargeDescription),l.a.createElement(o.i,{className:"column-space"},e.totalAmount," AED"))),I.paymentDetails.filter(e=>"tokenIn"===e.paymentType||"tokenOut"===e.paymentType).map((e,a)=>l.a.createElement(o.B,{className:"data-text",key:a},l.a.createElement(o.i,{className:"column-space",size:"7"},e.chargeDescription),l.a.createElement(o.i,{className:"column-space"},e.totalAmount," AED"))),l.a.createElement(o.B,{className:"data-text"},l.a.createElement(o.i,{className:"column-space",size:"7"},"Gross Amount"),l.a.createElement(o.i,{className:"column-space"},I.grossAmount," AED"))),l.a.createElement(o.B,null,l.a.createElement(o.i,null,l.a.createElement(o.d,{className:"blue-link-text",fill:"clear",onClick:()=>{T(!1),setTimeout(()=>{B(!0)},2500)}},"View Detailed Breakups")),"FPAY"===(null===f||void 0===f||null===(i=f.bookingDetails)||void 0===i?void 0:i.bookingStatus)&&l.a.createElement(o.i,null,l.a.createElement(o.d,{className:"link-text",fill:"clear",onClick:()=>{var e;return async function(e){var a=d.reinitializeUrl+e,t=await Object(m.y)(a);if(await t.success){var n=await t.data.data.dataItems[0].url,l=await t.data.data.dataItems[0].transactionId;await async function(e,a){var t;a;var n=(Y=E.a.create(e,"_blank","zoom=no,footer=no,location=no")).on("loadstop").subscribe(async e=>{if(t=await async function(e,a){if(e.includes("/mobileResponseFromRosoomPaymentApp")){Y.close();await Y.on("exit").subscribe(async()=>{},e=>{console.log(e)});var t=await ne(a);return await t}return!1}(e.url,a))return await t});return Y.on("exit").subscribe(async()=>{ne(a)},e=>{console.log(e)}),await n}(n,l)}}(null===f||void 0===f||null===(e=f.bookingDetails)||void 0===e?void 0:e.bookingNumber)}},"Retry payment")))))}async function ne(e){var a=d.rosoomPaymentStatusCheck+e,t=await Object(m.w)(a);return await t.success?("SUCC"==t.data.data.dataItems[0].status?await G("success"):"FAIL"==t.data.data.dataItems[0].status?await G("fail"):await G("pending"),t):t}function le(){return l.a.createElement(o.B,{id:"confirm-screen"},l.a.createElement(o.i,{className:R?"clicked":"not-clicked",onClick:()=>X("inProgress")},"IN PROGRESS"),l.a.createElement(o.i,{className:M?"clicked":"not-clicked",onClick:()=>X("delivered")},"DELIVERED"),l.a.createElement(o.i,{className:F?"clicked":"not-clicked",onClick:()=>X("completed")},"COMPLETED"))}function oe(e){var a,t,n,c;return l.a.createElement(l.a.Fragment,null,l.a.createElement(o.B,{className:"booking-number-row"},l.a.createElement(o.i,{size:"5",className:"regular-font"},l.a.createElement(o.u,null,"Declaration Number ")),l.a.createElement(o.i,{size:"1",className:"regular-font"},l.a.createElement(o.u,null," : ")),l.a.createElement(o.i,null,l.a.createElement(o.u,null,null===(a=e.boe)||void 0===a?void 0:a.split(",")[0]))),void 0!==(null===(t=e.boe)||void 0===t?void 0:t.split(",")[1])&&l.a.createElement(o.B,{className:"booking-number-row"},l.a.createElement(o.i,{size:"5",className:"regular-font"},l.a.createElement(o.u,null,"DO Validity ")),l.a.createElement(o.i,{size:"1",className:"regular-font"},l.a.createElement(o.u,null," : ")),l.a.createElement(o.i,{className:"date"},l.a.createElement(o.u,null,e.boe&&(null===(n=e.boe)||void 0===n?void 0:n.split(",")[1])?null===(c=e.boe)||void 0===c?void 0:c.split(",")[1]:""))))}function ce(){var a,t,n,i,s,r,m,d,u,p;let E=null===H||void 0===H||null===(a=H.location)||void 0===a?void 0:a.state.bookingDetails.bookingStatus;return l.a.createElement(o.P,null,l.a.createElement(c.a,{showModal:z,openOrCloseModal:e=>{j(e)},content:l.a.createElement(b,{bookingReference:null===e||void 0===e||null===(t=e.history)||void 0===t||null===(n=t.location)||void 0===n||null===(i=n.state)||void 0===i||null===(s=i.bookingDetails)||void 0===s?void 0:s.bookingNumber,click:()=>j(!1)})}),l.a.createElement(o.B,{className:"container-toolbar-row"},l.a.createElement(o.i,{size:"1",className:"container-col"},l.a.createElement(o.o,{src:"/assets/icon/container.svg"})),l.a.createElement(o.i,{size:"2.8",className:"padding-left"},l.a.createElement(o.B,null,l.a.createElement(o.M,{className:"data-font"},null!==(r=((null===f||void 0===f||null===(m=f.bookingDetails)||void 0===m?void 0:m.containerCount)+"").padStart(2,"0"))&&void 0!==r?r:0)),l.a.createElement(o.B,null,l.a.createElement(o.M,{className:"title-font"},"Containers"))),l.a.createElement(o.i,{size:"1",className:"container-col"},l.a.createElement(o.o,{src:"/assets/icon/truck-grey.svg"})),l.a.createElement(o.i,{size:"2.8",className:"padding-left"},l.a.createElement(o.B,null,l.a.createElement(o.M,{className:"data-font"},null!==(d=((null===f||void 0===f||null===(u=f.bookingDetails)||void 0===u?void 0:u.truckCount)+"").padStart(2,"0"))&&void 0!==d?d:0)),l.a.createElement(o.B,null,l.a.createElement(o.M,{className:"title-font"},"Trucks"))),("PPAY"===E||"PPAY"!==E&&!Z)&&l.a.createElement(o.i,{size:"2",className:"container-col background download"},l.a.createElement(o.d,{onClick:()=>{j(!0)},fill:"clear",size:"small",disabled:"PPAY"===E||"PPAY"!==E&&Z},Z,l.a.createElement(o.o,{src:"/assets/icon/invoices-download.svg"}))),"PPAY"!==E&&Z&&l.a.createElement(o.i,{size:"2",className:"container-col background download"},l.a.createElement(o.d,{fill:"clear",size:"small",onClick:a=>async function(a){var t,n,l,o,c,i;a.stopPropagation();var s={noOfContainers:null===f||void 0===f||null===(t=f.bookingDetails)||void 0===t?void 0:t.containerCount,noOfTrucks:null===f||void 0===f||null===(n=f.bookingDetails)||void 0===n?void 0:n.truckCount,amountPaid:null===f||void 0===f||null===(l=f.bookingDetails)||void 0===l?void 0:l.totalAmount,bookingNumber:null===e||void 0===e||null===(o=e.history)||void 0===o||null===(c=o.location)||void 0===c||null===(i=c.state)||void 0===i?void 0:i.bookingDetails.bookingNumber};H.push("/invoicetabs/manual",s)}(a)},l.a.createElement(o.o,{src:"/assets/icon/invoice_text_download.svg"}))),l.a.createElement(o.i,{size:"2.4",className:"container-col-amnt right-align"},l.a.createElement(o.M,{className:"amnt-text"},null===f||void 0===f||null===(p=f.bookingDetails)||void 0===p?void 0:p.totalAmount," AED"," "))))}return l.a.createElement(o.x,{id:"container-details"},l.a.createElement(s.a,{label:null===f||void 0===f||null===(v=f.bookingDetails)||void 0===v?void 0:v.bookingNumber,action:"info",customBack:!0,backClick:()=>(()=>{var e;H.push("/bookingDetails/"+(null===f||void 0===f||null===(e=f.bookingDetails)||void 0===e?void 0:e.cardStatus))})(),agentHeader:!0,infoClick:()=>{T(!0)}}),void 0!==(null===f||void 0===f?void 0:f.bookingDetails)&&l.a.createElement(ce,null),l.a.createElement(o.j,{fullscreen:!0,scrollEvents:!0},l.a.createElement(c.a,{showModal:x,openOrCloseModal:e=>{T(e)},content:l.a.createElement(te,null)}),l.a.createElement(c.a,{showModal:P,openOrCloseModal:e=>{B(e)},content:l.a.createElement(ae,null)}),("TRANSCONF"===(null===f||void 0===f||null===(N=f.bookingDetails)||void 0===N?void 0:N.bookingStatus)||"STARTED"===(null===f||void 0===f||null===(g=f.bookingDetails)||void 0===g?void 0:g.bookingStatus))&&l.a.createElement(le,null),void 0!==k&&Object.keys(k).map((a,t)=>{var n,o;return l.a.createElement("div",{key:t},("TRANSCONF"!==(null===f||void 0===f||null===(n=f.bookingDetails)||void 0===n?void 0:n.bookingStatus)||"STARTED"!==(null===f||void 0===f||null===(o=f.bookingDetails)||void 0===o?void 0:o.bookingStatus))&&l.a.createElement(oe,{boe:a}),k[a].map((a,t)=>{var n,o,c,s,r;return l.a.createElement(i,{bookingStatus:null===f||void 0===f||null===(n=f.bookingDetails)||void 0===n?void 0:n.bookingStatus,key:t,userType:null===e||void 0===e||null===(o=e.location)||void 0===o||null===(c=o.state)||void 0===c?void 0:c.userType,container_number:null===a||void 0===a?void 0:a.container_number,consigneeName:null===a||void 0===a?void 0:a.consigneeDetails,pickUpLocation:null===a||void 0===a?void 0:a.pickupLocation,dropLocation:null===a||void 0===a?void 0:a.dropAddress,dropZone:null===a||void 0===a?void 0:a.dropZoneLabel,bookingNumber:null===f||void 0===f||null===(s=f.bookingDetails)||void 0===s?void 0:s.bookingNumber,dropTime:null===a||void 0===a?void 0:a.date_time,boeNumber:null===a||void 0===a?void 0:a.boeNumber,containerWeight:null===a||void 0===a?void 0:a.containerWeight,isoCode:null===a||void 0===a?void 0:a.iso_code,holdAuthority:null===a||void 0===a?void 0:a.holdAuthority,storageValidity:null===a||void 0===a?void 0:a.storagePaidTill,initials:null===a||void 0===a?void 0:a.initials,cancelRemarks:null===a||void 0===a?void 0:a.cancelRemarks,containerStatus:null===a||void 0===a||null===(r=a.refStatus)||void 0===r?void 0:r.code,containerType:null===a||void 0===a?void 0:a.containerType,proofOfDelivery:null===a||void 0===a?void 0:a.proofOfDelivery,viewClick:()=>{(e=>{let a={contact:{consigneeContactNumber:e.consigneeContactNumber,consigneeContactName:null===e||void 0===e?void 0:e.consigneeContactName,phoneNumber:null===e||void 0===e?void 0:e.phoneNumber,dropAddress:null===e||void 0===e?void 0:e.dropAddress,addressLine1:null===e||void 0===e?void 0:e.addressLine1,dropZone:null===e||void 0===e?void 0:e.dropZoneCode,selectedDropZoneLabel:null===e||void 0===e?void 0:e.dropZoneLabel,ctnNumber:null===e||void 0===e?void 0:e.container_number,dpwTransactionId:null===e||void 0===e?void 0:e.dpwTransactionId,requestDetailsNumber:null===e||void 0===e?void 0:e.requestDetailsNumber,latLng:null===e||void 0===e?void 0:e.latLng},bookingDetails:K,containerList:f.response.data.containerList,isContainerEdit:!0};H.push("/addAddress",a)})(a)},trackClick:()=>(e=>{H.push("/track",e)})(a),closeClick:()=>{((e,a)=>{let t={dpwTransactionId:e.dpwTransactionId,requestDetailsNumber:e.requestDetailsNumber,container_number:e.container_number,refStatus:{code:"CNCL"},key:a};D(!0),S(e.container_number),w(t)})(a,t)}})}))}),0===Object.keys(k).length&&k.constructor===Object&&l.a.createElement(o.e,{className:"noData"},l.a.createElement(o.f,null,l.a.createElement(o.u,null,"No Data to show"))),l.a.createElement(u.a,{alertProps:ee})))}}}]);
//# sourceMappingURL=14.c5a6d9fd.chunk.js.map