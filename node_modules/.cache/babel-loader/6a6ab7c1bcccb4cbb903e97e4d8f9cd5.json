{"ast":null,"code":"import{IonContent,IonPage}from\"@ionic/react\";import React,{useEffect,useState}from\"react\";import Header from\"../../components/Header\";import\"./Track.scss\";import TrackComponent from\"./TrackComponent\";export default function Track(props){var _props$location$state3;const[trackData,setData]=useState([]);useEffect(()=>{var _props$location$state,_props$location$state2;var pend={status:\"PEND\",actionDateAndTime:(_props$location$state=props.location.state)===null||_props$location$state===void 0?void 0:_props$location$state.bookingDate,createdBy:\"\",containerList:null,diffTime:true};// var backToYard = {\n//   status: \"BACK_TO_YARD\",\n//   actionDateAndTime: \"\",\n//   createdBy: \"\",\n//   containerList: null,\n//   diffTime: false,\n// };\nvar trackData1=(_props$location$state2=props.location.state)===null||_props$location$state2===void 0?void 0:_props$location$state2.containerTrackList;console.log(trackData1);//trackData1.splice(0, 0, pend);\ntrackData1===null||trackData1===void 0?void 0:trackData1.forEach(function(item,index){if(index>0){// if (item.status === \"FCL_DEL\") {\n//   //backToYard.actionDateAndTime == item.actionDateAndTime;\n//   trackData1.push(backToYard);\n// }\nvar thisdatearray=item.actionDateAndTime.split(\"/\");var prevdateArray=trackData1[index-1].actionDateAndTime.split(\"/\");var newThisdate=thisdatearray[1]+\"/\"+thisdatearray[0]+\"/\"+thisdatearray[2];var newPrevDate=prevdateArray[1]+\"/\"+prevdateArray[0]+\"/\"+prevdateArray[2];var thisDate=new Date(newThisdate.split(\" \")[0]);var prevDate=new Date(newPrevDate.split(\" \")[0]);console.log(thisDate,prevDate);if(thisDate>prevDate){item.diffTime=true;}else{item.diffTime=false;}console.log(item);}});const finalTrackData=trackData1===null||trackData1===void 0?void 0:trackData1.filter(item=>item.status!==\"CONF\");setData(finalTrackData);},[]);return/*#__PURE__*/React.createElement(IonPage,null,/*#__PURE__*/React.createElement(Header,{label:\"TRACK #\".concat((_props$location$state3=props.location.state)===null||_props$location$state3===void 0?void 0:_props$location$state3.container_number),action:\"home\"}),/*#__PURE__*/React.createElement(IonContent,null,\" \",/*#__PURE__*/React.createElement(TrackComponent,{trackData:trackData})));}","map":{"version":3,"sources":["D:/DT/ptmsCheckOutNew/New-MobileApp/src/pages/Track/Track.tsx"],"names":["IonContent","IonPage","React","useEffect","useState","Header","TrackComponent","Track","props","trackData","setData","pend","status","actionDateAndTime","location","state","bookingDate","createdBy","containerList","diffTime","trackData1","containerTrackList","console","log","forEach","item","index","thisdatearray","split","prevdateArray","newThisdate","newPrevDate","thisDate","Date","prevDate","finalTrackData","filter","container_number"],"mappings":"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","sourcesContent":["import { IonContent, IonPage } from \"@ionic/react\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../components/Header\";\r\nimport \"./Track.scss\";\r\nimport TrackComponent from \"./TrackComponent\";\r\n\r\nexport default function Track(props) {\r\n  const [trackData, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    var pend = {\r\n      status: \"PEND\",\r\n      actionDateAndTime: props.location.state?.bookingDate,\r\n      createdBy: \"\",\r\n      containerList: null,\r\n      diffTime: true,\r\n    };\r\n\r\n    // var backToYard = {\r\n    //   status: \"BACK_TO_YARD\",\r\n    //   actionDateAndTime: \"\",\r\n    //   createdBy: \"\",\r\n    //   containerList: null,\r\n    //   diffTime: false,\r\n    // };\r\n    var trackData1 = props.location.state?.containerTrackList;\r\n    console.log(trackData1);\r\n\r\n    //trackData1.splice(0, 0, pend);\r\n    trackData1?.forEach(function (item, index) {\r\n      if (index > 0) {\r\n        // if (item.status === \"FCL_DEL\") {\r\n        //   //backToYard.actionDateAndTime == item.actionDateAndTime;\r\n        //   trackData1.push(backToYard);\r\n        // }\r\n        var thisdatearray = item.actionDateAndTime.split(\"/\");\r\n        var prevdateArray = trackData1[index - 1].actionDateAndTime.split(\"/\");\r\n\r\n        var newThisdate =\r\n          thisdatearray[1] + \"/\" + thisdatearray[0] + \"/\" + thisdatearray[2];\r\n        var newPrevDate =\r\n          prevdateArray[1] + \"/\" + prevdateArray[0] + \"/\" + prevdateArray[2];\r\n        var thisDate = new Date(newThisdate.split(\" \")[0]);\r\n        var prevDate = new Date(newPrevDate.split(\" \")[0]);\r\n        console.log(thisDate, prevDate);\r\n        if (thisDate > prevDate) {\r\n          item.diffTime = true;\r\n        } else {\r\n          item.diffTime = false;\r\n        }\r\n        console.log(item);\r\n      }\r\n    });\r\n    const finalTrackData = trackData1?.filter((item) => item.status !== \"CONF\");\r\n\r\n    setData(finalTrackData);\r\n  }, []);\r\n  return (\r\n    <IonPage>\r\n      <Header\r\n        label={`TRACK #${props.location.state?.container_number}`}\r\n        action=\"home\"\r\n      />\r\n      <IonContent>\r\n        {\" \"}\r\n        <TrackComponent trackData={trackData} />\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}