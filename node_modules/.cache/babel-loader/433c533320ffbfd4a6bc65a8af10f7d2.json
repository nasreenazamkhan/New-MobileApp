{"ast":null,"code":"import{IonCard,IonCardContent,IonContent,IonInfiniteScroll,IonInfiniteScrollContent,IonLabel,IonPage}from\"@ionic/react\";import React from\"react\";import{connect}from\"react-redux\";import LongPressable from\"react-longpressable\";import Icon from\"../../components/Icon\";import{decla}from\"../../data\";import\"./Declaration.scss\";//import TopMenu from \"../../components/TopMenu\";\nimport TopMenu from\"../../components/topMenu/TopMenu\";import*as EndPointURL from\"../../util/EndPointURL\";import*as EndPointApi from\"../../services/EndPointApi\";import Store from\"../../redux/Store\";import*as reduxActions from\"../../redux/actionTypes/AllActionTypes\";import Badge from\"../../components/Badge/Badge\";import Header from\"../../components/Header\";import Footer from\"../../components/Footer/Footer\";import CenterFooterButton from\"../CenterFooterButton\";import InformationText from\"../../components/Texts/InformationText\";import SearchBoeByDate from\"../../components/PopUp/SearchBoeByDate\";import SlideUpModal from\"../../components/PopUp/SlideUpModal\";import{minDate}from\"../../services/Common\";var locationProps;var longpressed=false;var selectedNumber=0;var selectedcount=0;var scrollLoad=true;var pageNumber=0;var urlParameter=\"\";var declnum=\"test\";class Declaration extends React.Component{constructor(props){super(props);this.contentRef=React.createRef();this.componentDidMount=()=>{var _this$props$allStoreD;this.setState({userType:Store.getState().CheckUserStatus.user.userType});longpressed=false;selectedNumber=0;pageNumber=0;var parameter=\"\";scrollLoad=true;urlParameter=\"\";this.setState({declarationArray:this.props.allStoreDeclarations});if(((_this$props$allStoreD=this.props.allStoreDeclarations)===null||_this$props$allStoreD===void 0?void 0:_this$props$allStoreD.length)===0)this.getAllDeclaration(parameter);};this.getAllDeclaration=async param=>{var _response$data2,_response$data2$eleme;if(!param){param=\"pgSize=10&pgNo=0&option=ALL&locale=en\";urlParameter=\"pgSize=10&pgNo=0&option=ALL&locale=en\";}urlParameter=param;var data={url:EndPointURL.declarationUrl+param,callType:\"get\",header:{headers:\"\"}};this.setState({message:\"Loading Data\"});var response=await EndPointApi.fetchAllDeclaration(EndPointURL.declarationUrl+param);if(!(response===null||response===void 0?void 0:response.success)){var _response$data;this.setState({message:response===null||response===void 0?void 0:(_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.message});}if((response===null||response===void 0?void 0:(_response$data2=response.data)===null||_response$data2===void 0?void 0:(_response$data2$eleme=_response$data2.elements)===null||_response$data2$eleme===void 0?void 0:_response$data2$eleme.length)>0){var _response$data3,_response$data3$eleme;//       this.closeSort();\nif(// this.state.declarationArray.length > 0 ||\n(response===null||response===void 0?void 0:(_response$data3=response.data)===null||_response$data3===void 0?void 0:(_response$data3$eleme=_response$data3.elements)===null||_response$data3$eleme===void 0?void 0:_response$data3$eleme.length)>0){this.setState({declarationArray:await[...this.state.declarationArray,...response.data.elements]});//this.props.addDeclarationToCart(this.state.declarationArray);\nthis.setState({disableInfiniteScroll:this.state.declarationArray.length<10});}else{this.setState({declarationArray:[]});this.setState({message:\"No Declarations to display\"});this.setState({disableInfiniteScroll:true});}scrollLoad=false;await this.state.declarationArray.forEach(arrayItem=>{arrayItem.selectedNumber=0;});this.setState({declarationArray:this.state.declarationArray});this.props.addDeclarationToCart(this.state.declarationArray);}else{var _response$data4,_this$props$allStoreD2;var parameter=\"\";// this.getAllDeclaration(parameter);\nthis.setState({message:response===null||response===void 0?void 0:(_response$data4=response.data)===null||_response$data4===void 0?void 0:_response$data4.message});this.setState({message:\"No Declarations to display\"});this.setState({disableInfiniteScroll:true});if(((_this$props$allStoreD2=this.props.allStoreDeclarations)===null||_this$props$allStoreD2===void 0?void 0:_this$props$allStoreD2.length)===0)this.props.addDeclarationToCart(decla.elements);//offline data\nthis.setState({declarationArray:this.props.allStoreDeclarations});}};this.contanerIconProps={name:\"container\",slot:\"\",class:\"zoom12\",styleProps:{zoom:2.8}};this.topMenuItems=[{name:\"\",type:\"button\",src:\"filter\",styleProps:{zoom:1.3},slot:\"\",clickedOnTopMenu:()=>this.setState({showModal:true})},{name:\"expired\",src:\"\",type:\"button\",slot:\"start\",clickedOnTopMenu:()=>this.topMenuClick(\"\",\"\",\"ALL\",\"\")},{name:\"active\",icon:\"\",type:\"button\",slot:\"start\",clickedOnTopMenu:()=>this.topMenuClick(\"\",\"\",\"ACTIVE\",\"\")},{name:\"Do Validity\",src:\"filter-down-arrow\",type:\"button\",slot:\"start\",size:\"0.7rem\",clickedOnTopMenu:()=>this.doSortList(3,\"doValidity\")//this.topMenuClick(\"\", \"\", \"\", \"\", 3, \"ASC\"), //this.state.sortOrder.doValidity\n},{name:\"Containers\",src:\"filter-down-arrow\",type:\"button\",slot:\"start\",size:\"0.7rem\",//rotate: this.state.showModal,\nclickedOnTopMenu:()=>this.doSortList(2,\"container\")}// {\n//   name: \"Declaration\",\n//   src: \"filter-down-arrow\",\n//   type: \"button\",\n//   slot: \"start\",\n//   size: \"0.7rem\",\n//   rotate: sortOrderDate == \"ASC\" ? \"rotate(180deg)\" : \"\",\n//   clickedOnTopMenu: () => console.log(\"clicked5\"),\n// },\n];this.doSortList=(sortCol,sortOrder)=>{this.setState({sortOrder:{...this.state.sortOrder,[sortOrder]:this.state.sortOrder[sortOrder]==\"asc\"?\"desc\":\"desc\"?\"asc\":\"\"}});this.topMenuClick(\"\",\"\",\"\",\"\",sortCol,this.state.sortOrder[sortOrder]);};this.topMenuClick=(fromDate,toDate,status,consigneeName,sortCol,sortOrder)=>{this.setState({showModal:false});this.setState({declarationArray:[]});this.props.removeAllContainersInCart();var param=\"option=ALL&fromDate=\"+fromDate+\"&toDate=\"+toDate+\"&consigneeName=&status=\"+status+\"&pgNo=0&pgSize=10&locale=en\"+(sortOrder?\"&sortOrder=\"+sortOrder:\"\")+(sortCol?\"&sortCol=\"+sortCol:\"\");this.getAllDeclaration(param);};this.goToContainerList=(selectedDecl,index,checked)=>{if(longpressed){if(checked){if(checked===\"checked\"){//console.log(this.props.allStoreDeclarations);\nthis.props.allStoreDeclarations.forEach((decl,index)=>{decl.selected=true;decl.containerList.forEach((container,index)=>{decl.containerList[index].selected=true;});selectedNumber=selectedNumber+decl.containerList.length;decl.selectedNumber=decl.containerList.length;this.props.updateBoesInCart(decl);});}else{longpressed=false;this.setState({showChecked:false});this.props.allStoreDeclarations.forEach((decl,index)=>{decl.selected=false;decl.containerList.forEach((container,index)=>{decl.containerList[index].selected=false;});selectedNumber=0;decl.selectedNumber=0;this.props.updateBoesInCart(decl);});}}else{selectedDecl.selected=!selectedDecl.selected;this.setState({selected:selectedDecl.selected});console.log(selectedcount,selectedNumber);if(selectedcount>1||selectedNumber>=1)longpressed=true;// else if (selectedcount === 0) longpressed = false;\nif(selectedDecl.selected){//selectedNumber = selectedNumber + selectedDecl.containerList.length;\nselectedNumber=0;selectedDecl.containerList.forEach(contanier=>{contanier.selected=true;selectedNumber=selectedNumber+1;this.setState({selected:true});// selectedDecl.selectedNumber = selectedNumber; //eanas\n});selectedcount=selectedcount+1;selectedDecl.selectedNumber=selectedNumber;// selectedDecl.containerList.length;\nconsole.log(selectedcount);this.props.updateBoesInCart(selectedDecl);}else{//selectedcount = selectedcount - selectedDecl.containerList.length;\nselectedcount=selectedcount-1;selectedNumber=selectedNumber-selectedDecl.containerList.length;selectedDecl.containerList.forEach(contanier=>{contanier.selected=false;this.setState({selected:false});selectedDecl.selectedNumber=0;//console.log(this.props.cartNumber, selectedDecl.selectedNumber);\nif(selectedDecl.selectedNumber===0){console.log(\"uiuiiiu\");// longpressed = false;\nthis.setState({showChecked:false});}console.log(selectedcount);if(selectedcount===0)longpressed=false;// this.props.removeDeclarationsFromCart(\n//   containerList.declarationNumber\n// );\nthis.props.updateBoesInCart(selectedDecl);});}}}else{//console.log(selectedDecl);\nselectedDecl.currentSelection=true;selectedDecl.containerList.index=index;// this.props.addDeclarationToCart(containerList);\n//this.props.addDeclarationToCart(containerList); eanas\nthis.props.updateBoesInCart(selectedDecl);locationProps.history.push(\"/container\",selectedDecl);}};this.declarationLonpressed=containerList=>{if(!longpressed){longpressed=true;selectedcount=1;this.setState({showChecked:true});containerList.selected=!containerList.selected;this.setState({selected:containerList.selected});console.log(containerList);//selectedNumber = selectedNumber + containerList.containerList.length;\nif(containerList.selected){containerList.containerList.forEach(contanier=>{contanier.selected=true;selectedNumber=selectedNumber+1;this.setState({selected:true});});containerList.selectedNumber=selectedNumber;this.props.updateBoesInCart(containerList);}}};this.searchNext=async $event=>{pageNumber=pageNumber+1;var param=\"pgSize=10&pgNo=\"+pageNumber+\"&option=ALL&locale=en\";await this.getAllDeclaration(param);$event.target.complete();};this.onSearchClick=()=>{//this.getAllDeclaration(param);\n// this.setState({ showSearchPage: true });\nlocationProps.history.push(\"/openSearch\",\"declaration\");};this.searchByDate=(modalStatus,fromDate,toDate)=>{this.setState({showModal:modalStatus});//if (fromDate && toDate)\nconsole.log(fromDate,toDate);this.topMenuClick(fromDate,toDate);};locationProps=props;this.state={showModal:false,selected:false,opened:true,message:\"\",disableInfiniteScroll:false,declarationArray:this.props.allStoreDeclarations,userType:{},showChecked:false,sortOrder:{doValidity:\"asc\",container:\"asc\"},searchBoeDate:{fromDate:\"\",toDate:minDate}};this.contentRef=React.createRef();}goToContainerCart(){locationProps.history.push(\"/containerCart\");}render(){const checkedProps={showChecked:this.state.showChecked,addContainerToCart:this.goToContainerList};var selectedcount=0;if(this.props.cartNumber===0)longpressed=false;return/*#__PURE__*/React.createElement(IonPage,{className:\"declaration\"},/*#__PURE__*/React.createElement(Header,{label:\"Declaration\",action:\"search\",locationProps:locationProps,searchClick:()=>this.onSearchClick(),showAgent:true,agentHeader:true,checkedProps:checkedProps,changedAgent:()=>{this.setState({declarationArray:[]});this.props.removeAllContainersInCart();this.getAllDeclaration(\"\");}}),/*#__PURE__*/React.createElement(IonContent,{className:\"declaration-Content\"},/*#__PURE__*/React.createElement(SlideUpModal,{showModal:this.state.showModal,openOrCloseModal:modalState=>this.setState({showModal:modalState}),content:/*#__PURE__*/React.createElement(SearchBoeByDate,{headerName:\"Delivery Order Validity\",openOrCloseModalInsearch:this.searchByDate,searchDates:this.state.searchBoeDate,setSearchdate:dates=>{console.log(dates);this.setState({searchBoeDate:dates});}})}),/*#__PURE__*/React.createElement(TopMenu,{topMenuProps:this.topMenuItems}),this.state.message&&this.state.declarationArray.length<=0&&/*#__PURE__*/React.createElement(\"div\",{className:\"warning-message\"},this.state.message),/*#__PURE__*/React.createElement(\"div\",{className:\"container-section\"},this.state.declarationArray.length>0&&/*#__PURE__*/React.createElement(InformationText,{message:\"\".concat(this.state.declarationArray.length,\" declarations\")}),/*#__PURE__*/React.createElement(\"div\",{className:\"decl-container-list\"},this.props.allStoreDeclarations.map((item,index)=>{item.currentSelection=false;// if (this.props.allStoreDeclarations[index].selected) {\n//   selectedcount = selectedcount + 1;\n// }\nconsole.log(selectedcount,selectedNumber);// if (selectedcount > 1 || selectedNumber >= 1)\n//   longpressed = true;\n// else if (selectedcount === 0)\n//   console.log(selectedcount, selectedNumber); //longpressed = false;\nreturn/*#__PURE__*/React.createElement(LongPressable,{key:index,onShortPress:e=>{!this.state.opened?e.stopPropagation():this.goToContainerList(item,index);},onLongPress:e=>{!this.state.opened?e.stopPropagation():this.declarationLonpressed(item);},longPressTime:800},/*#__PURE__*/React.createElement(IonCard,{key:index,className:item.selected?\"outer-card boxShadow \":\"outer-card lightShadow\"},\" \",/*#__PURE__*/React.createElement(IonCardContent,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"twoItems borderBottom\"},/*#__PURE__*/React.createElement(\"div\",{className:\"eachItemLeft\"},/*#__PURE__*/React.createElement(\"div\",{className:\"decl-info\"},/*#__PURE__*/React.createElement(\"span\",{className:\"decl-number\"},/*#__PURE__*/React.createElement(IonLabel,{class:\"gray-text\"},\"Declaration#\")),/*#__PURE__*/React.createElement(\"span\",{className:\"decl-comments\"},item.referenceNumber))),/*#__PURE__*/React.createElement(\"div\",{className:\"middle-item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dov\"},/*#__PURE__*/React.createElement(\"span\",{className:\"\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"eachItemRight\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dov\"},/*#__PURE__*/React.createElement(\"span\",{className:\"dov-text\"},/*#__PURE__*/React.createElement(IonLabel,{class:\"gray-text\"},\"Deliver Order validity\")),/*#__PURE__*/React.createElement(\"span\",{className:\"dov-number\"},item.deliveryOrderValidity)))),/*#__PURE__*/React.createElement(\"div\",{className:\"twoItems\"},/*#__PURE__*/React.createElement(\"div\",{className:\"eachItemLeft\"},/*#__PURE__*/React.createElement(\"div\",{className:\"decl-info\"},/*#__PURE__*/React.createElement(\"span\",{className:\"decl-number\"},\" \",/*#__PURE__*/React.createElement(IonLabel,{class:\"gray-text\"},\"Consignee\")),/*#__PURE__*/React.createElement(\"span\",{className:\"decl-comments\"},item.consigneeDetails))),/*#__PURE__*/React.createElement(\"div\",{className:\"middle-item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dov\"},/*#__PURE__*/React.createElement(\"span\",{className:\"\"},/*#__PURE__*/React.createElement(Icon,{iconProps:this.contanerIconProps})))),/*#__PURE__*/React.createElement(\"div\",{className:\"eachItemRight\"},/*#__PURE__*/React.createElement(\"div\",{className:\"secondRow\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dov\"},/*#__PURE__*/React.createElement(\"span\",{className:\"dov-number\"},item.containerList.length,\" Nos.\"),item.selectedNumber>0&&/*#__PURE__*/React.createElement(\"span\",{className:\"dov-selected-number\"},item.selectedNumber,\" selected.\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"secondRow\"},/*#__PURE__*/React.createElement(\"div\",{className:\"badgeItem\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dov\"},/*#__PURE__*/React.createElement(\"span\",{className:\"\"},/*#__PURE__*/React.createElement(Badge,{status:item.status})))))))))));declnum=item.referenceNumber;}))),/*#__PURE__*/React.createElement(IonInfiniteScroll,{threshold:\"100px\",disabled:this.state.disableInfiniteScroll,onIonInfinite:e=>this.searchNext(e)},/*#__PURE__*/React.createElement(IonInfiniteScrollContent,{loadingText:\"Loading more...\"})),/*#__PURE__*/React.createElement(CenterFooterButton,{iconType:\"cart\",clickEvent:this.goToContainerCart})),/*#__PURE__*/React.createElement(Footer,null));}}const mapStateToProps=state=>{return{allStoreDeclarations:state.Cart,cartNumber:state.VariableValues,agent:state.CheckUserStatus.user.selectedAgent};};const mapDispatchToProps=()=>{return{addDeclarationToCart:item=>{Store.dispatch({type:reduxActions.ADD_TO_CART,payLoad:item});},removeAllContainersInCart:()=>{Store.dispatch({type:reduxActions.CLEAR_CART});},updateBoesInCart:item=>{Store.dispatch({type:reduxActions.UPDATE_BOE_IN_CART,payLoad:item});}};};export default connect(mapStateToProps,mapDispatchToProps)(Declaration);","map":{"version":3,"sources":["D:/DT/ptmsCheckOutNew/New-MobileApp/src/pages/declaration/Declaration.tsx"],"names":["IonCard","IonCardContent","IonContent","IonInfiniteScroll","IonInfiniteScrollContent","IonLabel","IonPage","React","connect","LongPressable","Icon","decla","TopMenu","EndPointURL","EndPointApi","Store","reduxActions","Badge","Header","Footer","CenterFooterButton","InformationText","SearchBoeByDate","SlideUpModal","minDate","locationProps","longpressed","selectedNumber","selectedcount","scrollLoad","pageNumber","urlParameter","declnum","Declaration","Component","constructor","props","contentRef","createRef","componentDidMount","setState","userType","getState","CheckUserStatus","user","parameter","declarationArray","allStoreDeclarations","length","getAllDeclaration","param","data","url","declarationUrl","callType","header","headers","message","response","fetchAllDeclaration","success","elements","state","disableInfiniteScroll","forEach","arrayItem","addDeclarationToCart","contanerIconProps","name","slot","class","styleProps","zoom","topMenuItems","type","src","clickedOnTopMenu","showModal","topMenuClick","icon","size","doSortList","sortCol","sortOrder","fromDate","toDate","status","consigneeName","removeAllContainersInCart","goToContainerList","selectedDecl","index","checked","decl","selected","containerList","container","updateBoesInCart","showChecked","console","log","contanier","currentSelection","history","push","declarationLonpressed","searchNext","$event","target","complete","onSearchClick","searchByDate","modalStatus","opened","doValidity","searchBoeDate","goToContainerCart","render","checkedProps","addContainerToCart","cartNumber","modalState","dates","map","item","e","stopPropagation","referenceNumber","deliveryOrderValidity","consigneeDetails","mapStateToProps","Cart","VariableValues","agent","selectedAgent","mapDispatchToProps","dispatch","ADD_TO_CART","payLoad","CLEAR_CART","UPDATE_BOE_IN_CART"],"mappings":"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","sourcesContent":["import {\r\n  IonCard,\r\n  IonCardContent,\r\n  IonContent,\r\n  IonInfiniteScroll,\r\n  IonInfiniteScrollContent,\r\n  IonLabel,\r\n  IonPage,\r\n  IonProgressBar,\r\n  IonRow,\r\n  IonToolbar,\r\n} from \"@ionic/react\";\r\n\r\nimport React from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport LongPressable from \"react-longpressable\";\r\nimport Icon from \"../../components/Icon\";\r\nimport { stringToColour } from \"../../util/Utilities\";\r\nimport { decla } from \"../../data\";\r\nimport \"./Declaration.scss\";\r\n\r\n//import TopMenu from \"../../components/TopMenu\";\r\nimport TopMenu from \"../../components/topMenu/TopMenu\";\r\nimport * as EndPointURL from \"../../util/EndPointURL\";\r\nimport * as EndPointApi from \"../../services/EndPointApi\";\r\nimport ClearReduxStore from \"../../util/ClearReduxStore\";\r\nimport Store from \"../../redux/Store\";\r\nimport * as reduxActions from \"../../redux/actionTypes/AllActionTypes\";\r\nimport Badge from \"../../components/Badge/Badge\";\r\nimport Header from \"../../components/Header\";\r\nimport Footer from \"../../components/Footer/Footer\";\r\nimport CenterFooterButton from \"../CenterFooterButton\";\r\nimport InformationText from \"../../components/Texts/InformationText\";\r\nimport SearchBoeByDate from \"../../components/PopUp/SearchBoeByDate\";\r\nimport SlideUpModal from \"../../components/PopUp/SlideUpModal\";\r\nimport { minDate, todayDate } from \"../../services/Common\";\r\n\r\ninterface MyState {\r\n  showModal: boolean;\r\n  selected: boolean;\r\n  opened: boolean;\r\n  message?: string;\r\n  disableInfiniteScroll: boolean;\r\n  declarationArray: any[];\r\n  userType?: any;\r\n  showChecked?: boolean;\r\n  sortOrder?: any;\r\n  searchBoeDate?: any;\r\n}\r\ninterface MyProps {\r\n  //addresses: [];\r\n  //addAddress:((address: object) => void);\r\n  addDeclarationToCart: (item: object) => void;\r\n  removeDeclarationsFromCart: (item: object) => void;\r\n  removeAllContainersInCart: () => void;\r\n  allStoreDeclarations: any[];\r\n  updateBoesInCart: (item: any) => void;\r\n  cartNumber: any;\r\n  agent: any;\r\n}\r\nvar locationProps: any;\r\nvar longpressed = false;\r\nvar selectedNumber = 0;\r\nvar selectedcount = 0;\r\nvar scrollLoad = true;\r\nvar pageNumber = 0;\r\nvar urlParameter = \"\";\r\nvar declnum = \"test\";\r\n\r\nclass Declaration extends React.Component<MyProps, MyState> {\r\n  public contentRef = React.createRef<HTMLDivElement>();\r\n  constructor(props: any) {\r\n    super(props);\r\n    locationProps = props;\r\n    this.state = {\r\n      showModal: false,\r\n      selected: false,\r\n      opened: true,\r\n      message: \"\",\r\n      disableInfiniteScroll: false,\r\n      declarationArray: this.props.allStoreDeclarations,\r\n      userType: {},\r\n      showChecked: false,\r\n      sortOrder: { doValidity: \"asc\", container: \"asc\" },\r\n      searchBoeDate: { fromDate: \"\", toDate: minDate },\r\n    };\r\n    this.contentRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.setState({ userType: Store.getState().CheckUserStatus.user.userType });\r\n    longpressed = false;\r\n    selectedNumber = 0;\r\n    pageNumber = 0;\r\n    var parameter = \"\";\r\n    scrollLoad = true;\r\n    urlParameter = \"\";\r\n    this.setState({ declarationArray: this.props.allStoreDeclarations });\r\n\r\n    if (this.props.allStoreDeclarations?.length === 0)\r\n      this.getAllDeclaration(parameter);\r\n  };\r\n\r\n  getAllDeclaration = async (param: string) => {\r\n    if (!param) {\r\n      param = \"pgSize=10&pgNo=0&option=ALL&locale=en\";\r\n      urlParameter = \"pgSize=10&pgNo=0&option=ALL&locale=en\";\r\n    }\r\n    urlParameter = param;\r\n    var data = {\r\n      url: EndPointURL.declarationUrl + param,\r\n      callType: \"get\",\r\n      header: { headers: \"\" },\r\n    };\r\n    this.setState({ message: \"Loading Data\" });\r\n    var response = await EndPointApi.fetchAllDeclaration(\r\n      EndPointURL.declarationUrl + param\r\n    );\r\n\r\n    if (!response?.success) {\r\n      this.setState({ message: response?.data?.message });\r\n    }\r\n    if (response?.data?.elements?.length > 0) {\r\n      //       this.closeSort();\r\n      if (\r\n        // this.state.declarationArray.length > 0 ||\r\n        response?.data?.elements?.length > 0\r\n      ) {\r\n        this.setState({\r\n          declarationArray: await [\r\n            ...this.state.declarationArray,\r\n            ...response.data.elements,\r\n          ],\r\n        });\r\n        //this.props.addDeclarationToCart(this.state.declarationArray);\r\n        this.setState({\r\n          disableInfiniteScroll: this.state.declarationArray.length < 10,\r\n        });\r\n      } else {\r\n        this.setState({\r\n          declarationArray: [],\r\n        });\r\n        this.setState({ message: \"No Declarations to display\" });\r\n        this.setState({ disableInfiniteScroll: true });\r\n      }\r\n      scrollLoad = false;\r\n\r\n      await this.state.declarationArray.forEach((arrayItem: any) => {\r\n        arrayItem.selectedNumber = 0;\r\n      });\r\n      this.setState({ declarationArray: this.state.declarationArray });\r\n      this.props.addDeclarationToCart(this.state.declarationArray);\r\n    } else {\r\n      var parameter = \"\";\r\n      // this.getAllDeclaration(parameter);\r\n      this.setState({ message: response?.data?.message });\r\n      this.setState({ message: \"No Declarations to display\" });\r\n      this.setState({ disableInfiniteScroll: true });\r\n      if (this.props.allStoreDeclarations?.length === 0)\r\n        this.props.addDeclarationToCart(decla.elements); //offline data\r\n      this.setState({ declarationArray: this.props.allStoreDeclarations });\r\n    }\r\n  };\r\n\r\n  contanerIconProps = {\r\n    name: \"container\",\r\n    slot: \"\",\r\n    class: \"zoom12\",\r\n    styleProps: { zoom: 2.8 },\r\n  };\r\n\r\n  topMenuItems: any = [\r\n    {\r\n      name: \"\",\r\n      type: \"button\",\r\n      src: \"filter\",\r\n      styleProps: { zoom: 1.3 },\r\n      slot: \"\",\r\n      clickedOnTopMenu: () => this.setState({ showModal: true }),\r\n    },\r\n    {\r\n      name: \"expired\",\r\n      src: \"\",\r\n      type: \"button\",\r\n      slot: \"start\",\r\n      clickedOnTopMenu: () => this.topMenuClick(\"\", \"\", \"ALL\", \"\"),\r\n    },\r\n    {\r\n      name: \"active\",\r\n      icon: \"\",\r\n      type: \"button\",\r\n      slot: \"start\",\r\n      clickedOnTopMenu: () => this.topMenuClick(\"\", \"\", \"ACTIVE\", \"\"),\r\n    },\r\n    {\r\n      name: \"Do Validity\",\r\n      src: \"filter-down-arrow\",\r\n      type: \"button\",\r\n      slot: \"start\",\r\n      size: \"0.7rem\",\r\n      clickedOnTopMenu: () => this.doSortList(3, \"doValidity\"), //this.topMenuClick(\"\", \"\", \"\", \"\", 3, \"ASC\"), //this.state.sortOrder.doValidity\r\n    },\r\n    {\r\n      name: \"Containers\",\r\n      src: \"filter-down-arrow\",\r\n      type: \"button\",\r\n      slot: \"start\",\r\n      size: \"0.7rem\",\r\n      //rotate: this.state.showModal,\r\n      clickedOnTopMenu: () => this.doSortList(2, \"container\"),\r\n    },\r\n    // {\r\n    //   name: \"Declaration\",\r\n    //   src: \"filter-down-arrow\",\r\n    //   type: \"button\",\r\n    //   slot: \"start\",\r\n    //   size: \"0.7rem\",\r\n    //   rotate: sortOrderDate == \"ASC\" ? \"rotate(180deg)\" : \"\",\r\n    //   clickedOnTopMenu: () => console.log(\"clicked5\"),\r\n    // },\r\n  ];\r\n\r\n  doSortList = (sortCol, sortOrder) => {\r\n    this.setState({\r\n      sortOrder: {\r\n        ...this.state.sortOrder,\r\n        [sortOrder]:\r\n          this.state.sortOrder[sortOrder] == \"asc\"\r\n            ? \"desc\"\r\n            : \"desc\"\r\n            ? \"asc\"\r\n            : \"\",\r\n      },\r\n    });\r\n    this.topMenuClick(\"\", \"\", \"\", \"\", sortCol, this.state.sortOrder[sortOrder]);\r\n  };\r\n\r\n  topMenuClick = (\r\n    fromDate?: String,\r\n    toDate?,\r\n    status?,\r\n    consigneeName?: String,\r\n    sortCol?,\r\n    sortOrder?\r\n  ) => {\r\n    this.setState({ showModal: false });\r\n    this.setState({ declarationArray: [] });\r\n    this.props.removeAllContainersInCart();\r\n\r\n    var param =\r\n      \"option=ALL&fromDate=\" +\r\n      fromDate +\r\n      \"&toDate=\" +\r\n      toDate +\r\n      \"&consigneeName=&status=\" +\r\n      status +\r\n      \"&pgNo=0&pgSize=10&locale=en\" +\r\n      (sortOrder ? \"&sortOrder=\" + sortOrder : \"\") +\r\n      (sortCol ? \"&sortCol=\" + sortCol : \"\");\r\n    this.getAllDeclaration(param);\r\n  };\r\n\r\n  goToContainerList = (selectedDecl, index, checked?) => {\r\n    if (longpressed) {\r\n      if (checked) {\r\n        if (checked === \"checked\") {\r\n          //console.log(this.props.allStoreDeclarations);\r\n          this.props.allStoreDeclarations.forEach(\r\n            (decl: any, index: number) => {\r\n              decl.selected = true;\r\n              decl.containerList.forEach((container: any, index: number) => {\r\n                decl.containerList[index].selected = true;\r\n              });\r\n              selectedNumber = selectedNumber + decl.containerList.length;\r\n              decl.selectedNumber = decl.containerList.length;\r\n              this.props.updateBoesInCart(decl);\r\n            }\r\n          );\r\n        } else {\r\n          longpressed = false;\r\n          this.setState({ showChecked: false });\r\n          this.props.allStoreDeclarations.forEach(\r\n            (decl: any, index: number) => {\r\n              decl.selected = false;\r\n              decl.containerList.forEach((container: any, index: number) => {\r\n                decl.containerList[index].selected = false;\r\n              });\r\n              selectedNumber = 0;\r\n              decl.selectedNumber = 0;\r\n              this.props.updateBoesInCart(decl);\r\n            }\r\n          );\r\n        }\r\n      } else {\r\n        selectedDecl.selected = !selectedDecl.selected;\r\n        this.setState({ selected: selectedDecl.selected });\r\n        console.log(selectedcount, selectedNumber);\r\n        if (selectedcount > 1 || selectedNumber >= 1) longpressed = true;\r\n        // else if (selectedcount === 0) longpressed = false;\r\n        if (selectedDecl.selected) {\r\n          //selectedNumber = selectedNumber + selectedDecl.containerList.length;\r\n          selectedNumber = 0;\r\n\r\n          selectedDecl.containerList.forEach((contanier: any) => {\r\n            contanier.selected = true;\r\n            selectedNumber = selectedNumber + 1;\r\n            this.setState({ selected: true });\r\n            // selectedDecl.selectedNumber = selectedNumber; //eanas\r\n          });\r\n          selectedcount = selectedcount + 1;\r\n          selectedDecl.selectedNumber = selectedNumber; // selectedDecl.containerList.length;\r\n          console.log(selectedcount);\r\n          this.props.updateBoesInCart(selectedDecl);\r\n        } else {\r\n          //selectedcount = selectedcount - selectedDecl.containerList.length;\r\n          selectedcount = selectedcount - 1;\r\n          selectedNumber = selectedNumber - selectedDecl.containerList.length;\r\n          selectedDecl.containerList.forEach((contanier: any) => {\r\n            contanier.selected = false;\r\n            this.setState({ selected: false });\r\n            selectedDecl.selectedNumber = 0;\r\n            //console.log(this.props.cartNumber, selectedDecl.selectedNumber);\r\n            if (selectedDecl.selectedNumber === 0) {\r\n              console.log(\"uiuiiiu\");\r\n              // longpressed = false;\r\n              this.setState({ showChecked: false });\r\n            }\r\n            console.log(selectedcount);\r\n            if (selectedcount === 0) longpressed = false;\r\n            // this.props.removeDeclarationsFromCart(\r\n            //   containerList.declarationNumber\r\n            // );\r\n            this.props.updateBoesInCart(selectedDecl);\r\n          });\r\n        }\r\n      }\r\n    } else {\r\n      //console.log(selectedDecl);\r\n      selectedDecl.currentSelection = true;\r\n      selectedDecl.containerList.index = index;\r\n      // this.props.addDeclarationToCart(containerList);\r\n      //this.props.addDeclarationToCart(containerList); eanas\r\n      this.props.updateBoesInCart(selectedDecl);\r\n      locationProps.history.push(\"/container\", selectedDecl);\r\n    }\r\n  };\r\n  declarationLonpressed = (containerList) => {\r\n    if (!longpressed) {\r\n      longpressed = true;\r\n      selectedcount = 1;\r\n      this.setState({ showChecked: true });\r\n      containerList.selected = !containerList.selected;\r\n      this.setState({ selected: containerList.selected });\r\n      console.log(containerList);\r\n      //selectedNumber = selectedNumber + containerList.containerList.length;\r\n      if (containerList.selected) {\r\n        containerList.containerList.forEach((contanier: any) => {\r\n          contanier.selected = true;\r\n          selectedNumber = selectedNumber + 1;\r\n          this.setState({ selected: true });\r\n        });\r\n        containerList.selectedNumber = selectedNumber;\r\n        this.props.updateBoesInCart(containerList);\r\n      }\r\n    }\r\n  };\r\n\r\n  searchNext = async ($event: CustomEvent<void>) => {\r\n    pageNumber = pageNumber + 1;\r\n    var param = \"pgSize=10&pgNo=\" + pageNumber + \"&option=ALL&locale=en\";\r\n    await this.getAllDeclaration(param);\r\n    ($event.target as HTMLIonInfiniteScrollElement).complete();\r\n  };\r\n\r\n  onSearchClick = () => {\r\n    //this.getAllDeclaration(param);\r\n    // this.setState({ showSearchPage: true });\r\n    locationProps.history.push(\"/openSearch\", \"declaration\");\r\n  };\r\n\r\n  goToContainerCart() {\r\n    locationProps.history.push(\"/containerCart\");\r\n  }\r\n\r\n  searchByDate = (modalStatus, fromDate, toDate) => {\r\n    this.setState({ showModal: modalStatus });\r\n    //if (fromDate && toDate)\r\n    console.log(fromDate, toDate);\r\n    this.topMenuClick(fromDate, toDate);\r\n  };\r\n\r\n  render() {\r\n    const checkedProps: any = {\r\n      showChecked: this.state.showChecked,\r\n      addContainerToCart: this.goToContainerList,\r\n    };\r\n    var selectedcount = 0;\r\n    if (this.props.cartNumber === 0) longpressed = false;\r\n    return (\r\n      <IonPage className=\"declaration\">\r\n        <Header\r\n          label=\"Declaration\"\r\n          action=\"search\"\r\n          locationProps={locationProps}\r\n          searchClick={() => this.onSearchClick()}\r\n          showAgent={true}\r\n          agentHeader={true}\r\n          checkedProps={checkedProps}\r\n          changedAgent={() => {\r\n            this.setState({ declarationArray: [] });\r\n            this.props.removeAllContainersInCart();\r\n            this.getAllDeclaration(\"\");\r\n          }}\r\n        />\r\n        <IonContent className=\"declaration-Content\">\r\n          {/* <DeclSearch\r\n            showSearchPage={this.state.showSearchPage}\r\n            onclickEvent={(modalState) => {\r\n              console.log(modalState);\r\n              this.setState({ showSearchPage: modalState });\r\n            }}\r\n          /> */}\r\n          <SlideUpModal\r\n            showModal={this.state.showModal}\r\n            openOrCloseModal={(modalState) =>\r\n              this.setState({ showModal: modalState })\r\n            }\r\n            content={\r\n              <SearchBoeByDate\r\n                headerName=\"Delivery Order Validity\"\r\n                openOrCloseModalInsearch={this.searchByDate}\r\n                searchDates={this.state.searchBoeDate}\r\n                setSearchdate={(dates) => {\r\n                  console.log(dates);\r\n                  this.setState({ searchBoeDate: dates });\r\n                }}\r\n              />\r\n            }\r\n          />\r\n          <TopMenu topMenuProps={this.topMenuItems} />\r\n\r\n          {this.state.message && this.state.declarationArray.length <= 0 && (\r\n            <div className=\"warning-message\">{this.state.message}</div>\r\n          )}\r\n\r\n          <div className=\"container-section\">\r\n            {this.state.declarationArray.length > 0 && (\r\n              <InformationText\r\n                message={`${this.state.declarationArray.length} declarations`}\r\n              />\r\n            )}\r\n            <div className=\"decl-container-list\">\r\n              {this.props.allStoreDeclarations.map((item, index) => {\r\n                item.currentSelection = false;\r\n                // if (this.props.allStoreDeclarations[index].selected) {\r\n                //   selectedcount = selectedcount + 1;\r\n                // }\r\n                console.log(selectedcount, selectedNumber);\r\n                // if (selectedcount > 1 || selectedNumber >= 1)\r\n                //   longpressed = true;\r\n                // else if (selectedcount === 0)\r\n                //   console.log(selectedcount, selectedNumber); //longpressed = false;\r\n                return (\r\n                  <LongPressable\r\n                    key={index}\r\n                    onShortPress={(e) => {\r\n                      !this.state.opened\r\n                        ? e.stopPropagation()\r\n                        : this.goToContainerList(item, index);\r\n                    }}\r\n                    onLongPress={(e) => {\r\n                      !this.state.opened\r\n                        ? e.stopPropagation()\r\n                        : this.declarationLonpressed(item);\r\n                    }}\r\n                    longPressTime={800}\r\n                  >\r\n                    <IonCard\r\n                      key={index}\r\n                      className={\r\n                        item.selected\r\n                          ? \"outer-card boxShadow \"\r\n                          : \"outer-card lightShadow\"\r\n                      }\r\n                    >\r\n                      {\" \"}\r\n                      <IonCardContent>\r\n                        <div className=\"container-card\">\r\n                          {/* <div className=\"list-logo\">\r\n                              <RoundedAvatar\r\n                                color={color}\r\n                                name={item.comments}\r\n                              />\r\n                            </div> */}\r\n                          <div className=\"twoItems borderBottom\">\r\n                            <div className=\"eachItemLeft\">\r\n                              <div className=\"decl-info\">\r\n                                <span className=\"decl-number\">\r\n                                  <IonLabel class=\"gray-text\">\r\n                                    Declaration#\r\n                                  </IonLabel>\r\n                                </span>\r\n                                <span className=\"decl-comments\">\r\n                                  {item.referenceNumber}\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"middle-item\">\r\n                              <div className=\"dov\">\r\n                                <span className=\"\">\r\n                                  {/* <Icon\r\n                                        iconProps={this.contanerIconProps}\r\n                                      /> */}\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"eachItemRight\">\r\n                              <div className=\"dov\">\r\n                                <span className=\"dov-text\">\r\n                                  <IonLabel class=\"gray-text\">\r\n                                    Deliver Order validity\r\n                                  </IonLabel>\r\n                                </span>\r\n                                <span className=\"dov-number\">\r\n                                  {item.deliveryOrderValidity}\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                            {/* </div> */}\r\n                          </div>\r\n                          <div className=\"twoItems\">\r\n                            <div className=\"eachItemLeft\">\r\n                              <div className=\"decl-info\">\r\n                                <span className=\"decl-number\">\r\n                                  {\" \"}\r\n                                  <IonLabel class=\"gray-text\">\r\n                                    Consignee\r\n                                  </IonLabel>\r\n                                </span>\r\n                                <span className=\"decl-comments\">\r\n                                  {item.consigneeDetails}\r\n                                  {/* {item.consigneeDetails} */}\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"middle-item\">\r\n                              <div className=\"dov\">\r\n                                <span className=\"\">\r\n                                  <Icon iconProps={this.contanerIconProps} />\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"eachItemRight\">\r\n                              <div className=\"secondRow\">\r\n                                <div className=\"dov\">\r\n                                  <span className=\"dov-number\">\r\n                                    {item.containerList.length} Nos.\r\n                                  </span>\r\n                                  {item.selectedNumber > 0 && (\r\n                                    <span className=\"dov-selected-number\">\r\n                                      {item.selectedNumber} selected.\r\n                                    </span>\r\n                                  )}\r\n                                </div>\r\n                              </div>\r\n\r\n                              <div className=\"secondRow\">\r\n                                <div className=\"badgeItem\">\r\n                                  <div className=\"dov\">\r\n                                    <span className=\"\">\r\n                                      <Badge status={item.status} />\r\n                                    </span>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </IonCardContent>\r\n                    </IonCard>\r\n                  </LongPressable>\r\n                );\r\n                declnum = item.referenceNumber;\r\n              })}\r\n            </div>\r\n          </div>\r\n          <IonInfiniteScroll\r\n            threshold=\"100px\"\r\n            disabled={this.state.disableInfiniteScroll}\r\n            onIonInfinite={(e: CustomEvent<void>) => this.searchNext(e)}\r\n          >\r\n            <IonInfiniteScrollContent loadingText=\"Loading more...\"></IonInfiniteScrollContent>\r\n          </IonInfiniteScroll>\r\n          <CenterFooterButton\r\n            iconType=\"cart\"\r\n            clickEvent={this.goToContainerCart}\r\n          />\r\n        </IonContent>\r\n        <Footer />\r\n      </IonPage>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: any) => {\r\n  return {\r\n    allStoreDeclarations: state.Cart,\r\n    cartNumber: state.VariableValues,\r\n    agent: state.CheckUserStatus.user.selectedAgent,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = () => {\r\n  return {\r\n    addDeclarationToCart: (item: any) => {\r\n      Store.dispatch({\r\n        type: reduxActions.ADD_TO_CART,\r\n        payLoad: item,\r\n      });\r\n    },\r\n\r\n    removeAllContainersInCart: () => {\r\n      Store.dispatch({ type: reduxActions.CLEAR_CART });\r\n    },\r\n    updateBoesInCart: (item) => {\r\n      Store.dispatch({\r\n        type: reduxActions.UPDATE_BOE_IN_CART,\r\n        payLoad: item,\r\n      });\r\n    },\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Declaration);\r\n"]},"metadata":{},"sourceType":"module"}