{"ast":null,"code":"import{IonRow,IonCol,IonLabel,IonContent,IonPage}from\"@ionic/react\";import React,{useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import Icon from\"../../../../components/Icon\";import SlideUpModal from\"../../../../components/PopUp/SlideUpModal\";import UnderLinedText from\"../../../../components/Texts/UnderLinedText\";import{createArrayOfObjectWithKeyAndValue}from\"../../../../services/Common\";import{getMiscellaniousDetails}from\"../../../../services/EndPointApi\";import DeclarationDetails from\"../../../ContainerCart/DeclarationDetails\";import PodCard from\"../../../VerifyPOD/PODCard/PodCard\";import\"./TabInvoice.scss\";var PODDetail=[{container_number:12345,containerType:67890,consigneeDetails:\"Sony Gulf Fze..\",pick_up:\"T2\",date_time:\"10-01-2020 13:20\"}];const InvoiceBooking=_ref=>{var _miscellaniousLis$pay,_miscellaniousLis$con;let{InvoiceDetails}=_ref;let history=useHistory();console.log(InvoiceDetails);const[miscellaniousLis,setmiscellaniousLis]=useState({});const[showSlideUpModal,setshowSlideUpModal]=useState(false);const[selectedIndexNumber,setselectedIndexNumber]=useState({});const[showModal,setshowModal]=useState(false);useEffect(()=>{getDetailsOfMiscellanious();},[]);async function getDetailsOfMiscellanious(){var resp=await getMiscellaniousDetails(InvoiceDetails.bookingNumber);console.log(resp);if(resp===null||resp===void 0?void 0:resp.success){setmiscellaniousLis(resp===null||resp===void 0?void 0:resp.data);}}var starnumbertest=createArrayOfObjectWithKeyAndValue(5);var trackTruckIconProps={name:\"track-truck\",slot:\"\",class:\"zoom12\",style:{stroke:\"#168FE4\"},styleProps:{zoom:2.6}};var editContactIconProps={name:\"eye-blue\",slot:\"\",class:\"zoom12\",style:{stroke:\"#168FE4\"},styleProps:{zoom:2.6}};var startIconProps={name:\"star\",slot:\"\",class:\"zoom12\",style:{stroke:\"#168FE4\"}};function podCardClick(item){console.log(item);setshowSlideUpModal(true);setselectedIndexNumber(item);}return/*#__PURE__*/React.createElement(IonPage,{className:\"BookTruck-Location\"},/*#__PURE__*/React.createElement(IonContent,null,/*#__PURE__*/React.createElement(SlideUpModal,{showModal:showSlideUpModal,openOrCloseModal:modalState=>{setshowSlideUpModal(modalState);//setpodDownLoadModalContent(podDownLoadModalContent);\n},content:/*#__PURE__*/React.createElement(DeclarationDetails,{item:selectedIndexNumber,click:()=>{console.log(\"uuiuiuiuiu\");setshowModal(false);},fromPod:true})}),/*#__PURE__*/React.createElement(\"div\",{className:\"invoice-book-container componentMargins\"},/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,null,/*#__PURE__*/React.createElement(UnderLinedText,{text:\"Payment details\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"invoice-book-container\"},(_miscellaniousLis$pay=miscellaniousLis.paymentDetails)===null||_miscellaniousLis$pay===void 0?void 0:_miscellaniousLis$pay.map((item,index)=>/*#__PURE__*/React.createElement(IonRow,{key:index},/*#__PURE__*/React.createElement(IonCol,null,/*#__PURE__*/React.createElement(IonLabel,{className:\"bold-font\"},item.chargeDescription)),/*#__PURE__*/React.createElement(IonCol,{class:\"ion-text-end\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"bold-font\"},item.totalAmount,\" AED\")))),/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,null)),/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,null,/*#__PURE__*/React.createElement(IonLabel,{className:\"bold-font\"},\"Gross Amount\")),/*#__PURE__*/React.createElement(IonCol,{class:\"ion-text-end\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"bold-font\"},miscellaniousLis.grossAmount,\" AED\"))))),(_miscellaniousLis$con=miscellaniousLis.containerList)===null||_miscellaniousLis$con===void 0?void 0:_miscellaniousLis$con.map((item,index)=>/*#__PURE__*/React.createElement(\"div\",{key:index},/*#__PURE__*/React.createElement(PodCard,{item:item,cardClick:podCardClick//clickedDownloadPOD={podCardClick}\n,icon1:trackTruckIconProps,icon2:editContactIconProps}),/*#__PURE__*/React.createElement(\"div\",{className:\"invoice-book-container componentMargins\"},/*#__PURE__*/React.createElement(IonRow,null,item.rating>0&&createArrayOfObjectWithKeyAndValue(item.rating).map((item,index)=>/*#__PURE__*/React.createElement(Icon,{key:index,iconProps:startIconProps})),/*#__PURE__*/React.createElement(IonCol,{class:\"ion-text-end\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"gray-label\"},\"Completed on: \",item.date_time))))))));};export default InvoiceBooking;","map":{"version":3,"sources":["D:/DT/ptmsCheckOutNew/New-MobileApp/src/pages/ManualInvoice/InvoiceTabs/Tabs/InvoiceBooking.tsx"],"names":["IonRow","IonCol","IonLabel","IonContent","IonPage","React","useEffect","useState","useHistory","Icon","SlideUpModal","UnderLinedText","createArrayOfObjectWithKeyAndValue","getMiscellaniousDetails","DeclarationDetails","PodCard","PODDetail","container_number","containerType","consigneeDetails","pick_up","date_time","InvoiceBooking","InvoiceDetails","history","console","log","miscellaniousLis","setmiscellaniousLis","showSlideUpModal","setshowSlideUpModal","selectedIndexNumber","setselectedIndexNumber","showModal","setshowModal","getDetailsOfMiscellanious","resp","bookingNumber","success","data","starnumbertest","trackTruckIconProps","name","slot","class","style","stroke","styleProps","zoom","editContactIconProps","startIconProps","podCardClick","item","modalState","paymentDetails","map","index","chargeDescription","totalAmount","grossAmount","containerList","rating"],"mappings":"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","sourcesContent":["import {\r\n  IonRow,\r\n  IonCol,\r\n  IonLabel,\r\n  IonFooter,\r\n  IonToolbar,\r\n  IonContent,\r\n  IonPage,\r\n} from \"@ionic/react\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport BlueFooter from \"../../../../components/Footer/BlueFooter\";\r\nimport Footer from \"../../../../components/Footer/Footer\";\r\nimport Icon from \"../../../../components/Icon\";\r\nimport SlideUpModal from \"../../../../components/PopUp/SlideUpModal\";\r\nimport UnderLinedText from \"../../../../components/Texts/UnderLinedText\";\r\nimport { createArrayOfObjectWithKeyAndValue } from \"../../../../services/Common\";\r\nimport { getMiscellaniousDetails } from \"../../../../services/EndPointApi\";\r\nimport DeclarationDetails from \"../../../ContainerCart/DeclarationDetails\";\r\nimport PodCard from \"../../../VerifyPOD/PODCard/PodCard\";\r\nimport \"./TabInvoice.scss\";\r\nvar PODDetail = [\r\n  {\r\n    container_number: 12345,\r\n    containerType: 67890,\r\n    consigneeDetails: \"Sony Gulf Fze..\",\r\n    pick_up: \"T2\",\r\n    date_time: \"10-01-2020 13:20\",\r\n  },\r\n];\r\ninterface InvoiceBookingProps {\r\n  InvoiceDetails;\r\n}\r\nconst InvoiceBooking: React.FC<InvoiceBookingProps> = ({ InvoiceDetails }) => {\r\n  let history: any = useHistory();\r\n  console.log(InvoiceDetails);\r\n  const [miscellaniousLis, setmiscellaniousLis] = useState<any>({});\r\n  const [showSlideUpModal, setshowSlideUpModal] = useState(false);\r\n  const [selectedIndexNumber, setselectedIndexNumber] = useState<any>({});\r\n  const [showModal, setshowModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getDetailsOfMiscellanious();\r\n  }, []);\r\n\r\n  async function getDetailsOfMiscellanious() {\r\n    var resp = await getMiscellaniousDetails(InvoiceDetails.bookingNumber);\r\n    console.log(resp);\r\n    if (resp?.success) {\r\n      setmiscellaniousLis(resp?.data);\r\n    }\r\n  }\r\n  var starnumbertest = createArrayOfObjectWithKeyAndValue(5);\r\n  var trackTruckIconProps = {\r\n    name: \"track-truck\",\r\n    slot: \"\",\r\n    class: \"zoom12\",\r\n    style: { stroke: \"#168FE4\" },\r\n    styleProps: { zoom: 2.6 },\r\n  };\r\n\r\n  var editContactIconProps = {\r\n    name: \"eye-blue\",\r\n    slot: \"\",\r\n    class: \"zoom12\",\r\n    style: { stroke: \"#168FE4\" },\r\n    styleProps: { zoom: 2.6 },\r\n  };\r\n\r\n  var startIconProps = {\r\n    name: \"star\",\r\n    slot: \"\",\r\n    class: \"zoom12\",\r\n    style: { stroke: \"#168FE4\" },\r\n  };\r\n\r\n  function podCardClick(item) {\r\n    console.log(item);\r\n    setshowSlideUpModal(true);\r\n    setselectedIndexNumber(item);\r\n  }\r\n  return (\r\n    <IonPage className=\"BookTruck-Location\">\r\n      <IonContent>\r\n        <SlideUpModal\r\n          showModal={showSlideUpModal}\r\n          openOrCloseModal={(modalState) => {\r\n            setshowSlideUpModal(modalState);\r\n            //setpodDownLoadModalContent(podDownLoadModalContent);\r\n          }}\r\n          content={\r\n            <DeclarationDetails\r\n              item={selectedIndexNumber}\r\n              click={() => {\r\n                console.log(\"uuiuiuiuiu\");\r\n                setshowModal(false);\r\n              }}\r\n              fromPod={true}\r\n            />\r\n          }\r\n        />\r\n        <div className=\"invoice-book-container componentMargins\">\r\n          <IonRow>\r\n            <IonCol>\r\n              <UnderLinedText text=\"Payment details\" />\r\n            </IonCol>\r\n          </IonRow>\r\n          <div className=\"invoice-book-container\">\r\n            {miscellaniousLis.paymentDetails?.map((item, index) => (\r\n              <IonRow key={index}>\r\n                <IonCol>\r\n                  <IonLabel className=\"bold-font\">\r\n                    {item.chargeDescription}\r\n                  </IonLabel>\r\n                </IonCol>\r\n                <IonCol class=\"ion-text-end\">\r\n                  <IonLabel className=\"bold-font\">\r\n                    {item.totalAmount} AED\r\n                  </IonLabel>\r\n                </IonCol>\r\n              </IonRow>\r\n            ))}\r\n\r\n            <IonRow>\r\n              <IonCol></IonCol>\r\n            </IonRow>\r\n            <IonRow>\r\n              <IonCol>\r\n                <IonLabel className=\"bold-font\">Gross Amount</IonLabel>\r\n              </IonCol>\r\n              <IonCol class=\"ion-text-end\">\r\n                <IonLabel className=\"bold-font\">\r\n                  {miscellaniousLis.grossAmount} AED\r\n                </IonLabel>\r\n              </IonCol>\r\n            </IonRow>\r\n          </div>\r\n        </div>\r\n        {miscellaniousLis.containerList?.map((item, index) => (\r\n          <div key={index}>\r\n            <PodCard\r\n              item={item}\r\n              cardClick={podCardClick}\r\n              //clickedDownloadPOD={podCardClick}\r\n              icon1={trackTruckIconProps}\r\n              icon2={editContactIconProps}\r\n            />\r\n            <div className=\"invoice-book-container componentMargins\">\r\n              <IonRow>\r\n                {item.rating > 0 &&\r\n                  createArrayOfObjectWithKeyAndValue(item.rating).map(\r\n                    (item, index) => (\r\n                      <Icon key={index} iconProps={startIconProps} />\r\n                    )\r\n                  )}\r\n                <IonCol class=\"ion-text-end\">\r\n                  <IonLabel className=\"gray-label\">\r\n                    Completed on: {item.date_time}\r\n                  </IonLabel>\r\n                </IonCol>\r\n              </IonRow>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        {/* <CenterFooterButton\r\n          iconType=\"menu\"\r\n          clickEvent={() => console.log(\"2\")}\r\n        /> */}\r\n      </IonContent>\r\n      {/* <IonToolbar>\r\n        <Footer />\r\n      </IonToolbar> */}\r\n    </IonPage>\r\n  );\r\n};\r\nexport default InvoiceBooking;\r\n"]},"metadata":{},"sourceType":"module"}