{"ast":null,"code":"import{IonContent,IonFooter,IonIcon,IonLabel,IonPage,IonRouterOutlet,IonTabBar,IonTabButton,IonTabs,IonToolbar}from\"@ionic/react\";import{arrowForwardOutline}from\"ionicons/icons\";import React,{useEffect,useRef,useState}from\"react\";import{Redirect,Route,useHistory}from\"react-router\";import BookQuick from\"../../components/BookQuick\";import Header from\"../../components/Header\";import PayQuick from\"../../components/PayQuick\";import{updatePaymentStatus}from\"../../redux/actions/AllActions\";import Store from\"../../redux/Store\";import\"./QuickBook.scss\";const QuickBook=props=>{const[buttonState,setbuttonState]=useState(\"\");var history=useHistory();const[screen,setscreen]=useState(Store.getState().VariableValues.paymentStatus);useEffect(()=>{updatePayStatus();setscreen(Store.getState().VariableValues.paymentStatus);},[]);Store.subscribe(()=>{setscreen(Store.getState().VariableValues.paymentStatus);// console.log(\n//   Store.getState().VariableValues.paymentStatus,\n//   \"calling storeee\",\n//   screen\n// );\n});const bookref=useRef();const payref=useRef();function onContinue(){if(props.location.pathname===\"/quickBook/book\"){setbuttonState(\"book\");var test=bookref.current;console.log(bookref);if(bookref.current){test.gotoPaymentDiscPage();console.log(\"09090909\");}console.log(\"00000\");}else if(props.location.pathname===\"/quickBook/payment\")setbuttonState(\"payment\");var test=payref.current;if(payref.current){test.payNow();}}function goToHome(){history.push(\"/tabs/landing\");}function updatePayStatus(){var paymentStatus={status:\"\",reference_num:\"0\"};var paymentSta=updatePaymentStatus(paymentStatus);if(paymentSta)Store.dispatch(paymentSta);console.log(\"^^^^^^^^^^^\",screen);}return/*#__PURE__*/React.createElement(IonPage,{className:\"quick-book-page\"},/*#__PURE__*/React.createElement(Header,{label:\"Quick Book\",action:\"home\",showAgent:true,agentHeader:true}),/*#__PURE__*/React.createElement(IonContent,{className:\"quick-book-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-div\"},/*#__PURE__*/React.createElement(IonTabs,{className:\"declaration-tab\",onIonTabsDidChange:()=>updatePayStatus()},/*#__PURE__*/React.createElement(IonRouterOutlet,null,/*#__PURE__*/React.createElement(Redirect,{exact:true,path:\"/quickBook\",to:\"/quickBook/book\"}),/*#__PURE__*/React.createElement(Route,{path:\"/quickBook/book\",render:()=>/*#__PURE__*/React.createElement(BookQuick,{buttonAction:buttonState,ref:bookref})//}\n,exact:true}),/*#__PURE__*/React.createElement(Route,{path:\"/quickBook/payment\",render:()=>/*#__PURE__*/React.createElement(PayQuick,{buttonAction:buttonState,ref:payref}),exact:true})),/*#__PURE__*/React.createElement(IonTabBar,{slot:\"top\"},/*#__PURE__*/React.createElement(IonTabButton,{tab:\"location\",href:\"/quickBook/book\",className:\"quick-tabButton\",disabled:props.location.pathname===\"/quickBook/payment\"},/*#__PURE__*/React.createElement(IonLabel,null,\"Book\")),/*#__PURE__*/React.createElement(IonTabButton,{tab:\"Payment\",href:\"/quickBook/payment\",className:\"quick-tabButton\",disabled:props.location.pathname===\"/quickBook/book\"},/*#__PURE__*/React.createElement(IonLabel,null,\"Payment\")))))),/*#__PURE__*/React.createElement(IonFooter,null,/*#__PURE__*/React.createElement(IonToolbar,null,(props.location.pathname===\"/quickBook/book\"||props.location.pathname===\"/quickBook/payment\")&&screen.status===\"\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"button-div\"},/*#__PURE__*/React.createElement(\"div\",{className:\"button-holder\",onClick:()=>onContinue()},/*#__PURE__*/React.createElement(IonIcon,{slot:\"icon-only\",icon:arrowForwardOutline}))),screen.status!==\"\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"button-div\"},/*#__PURE__*/React.createElement(\"div\",{className:\"button-holder\",onClick:()=>goToHome()},/*#__PURE__*/React.createElement(IonIcon,{src:\"assets/icon/home-new.svg\",className:\"button\"}))))));};export default QuickBook;","map":{"version":3,"sources":["D:/DT/ptmsCheckOutNew/New-MobileApp/src/pages/quickbook/QuickBook.tsx"],"names":["IonContent","IonFooter","IonIcon","IonLabel","IonPage","IonRouterOutlet","IonTabBar","IonTabButton","IonTabs","IonToolbar","arrowForwardOutline","React","useEffect","useRef","useState","Redirect","Route","useHistory","BookQuick","Header","PayQuick","updatePaymentStatus","Store","QuickBook","props","buttonState","setbuttonState","history","screen","setscreen","getState","VariableValues","paymentStatus","updatePayStatus","subscribe","bookref","payref","onContinue","location","pathname","test","current","console","log","gotoPaymentDiscPage","payNow","goToHome","push","status","reference_num","paymentSta","dispatch"],"mappings":"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","sourcesContent":["import {\r\n  IonContent,\r\n  IonFab,\r\n  IonFabButton,\r\n  IonFooter,\r\n  IonIcon,\r\n  IonLabel,\r\n  IonPage,\r\n  IonRouterOutlet,\r\n  IonTabBar,\r\n  IonTabButton,\r\n  IonTabs,\r\n  IonToolbar,\r\n} from \"@ionic/react\";\r\nimport { arrowForwardOutline } from \"ionicons/icons\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Redirect, Route, useHistory } from \"react-router\";\r\nimport BookQuick from \"../../components/BookQuick\";\r\nimport Header from \"../../components/Header\";\r\nimport PayQuick from \"../../components/PayQuick\";\r\nimport TxtInput from \"../../components/txtinput/TxtInput\";\r\nimport {\r\n  updateAddress,\r\n  updatePaymentStatus,\r\n} from \"../../redux/actions/AllActions\";\r\nimport Store from \"../../redux/Store\";\r\n\r\nimport \"./QuickBook.scss\";\r\nconst QuickBook = (props) => {\r\n  const [buttonState, setbuttonState] = useState(\"\");\r\n  var history = useHistory();\r\n\r\n  const [screen, setscreen] = useState<any>(\r\n    Store.getState().VariableValues.paymentStatus\r\n  );\r\n\r\n  useEffect(() => {\r\n    updatePayStatus();\r\n    setscreen(Store.getState().VariableValues.paymentStatus);\r\n  }, []);\r\n\r\n  Store.subscribe(() => {\r\n    setscreen(Store.getState().VariableValues.paymentStatus);\r\n    // console.log(\r\n    //   Store.getState().VariableValues.paymentStatus,\r\n    //   \"calling storeee\",\r\n    //   screen\r\n    // );\r\n  });\r\n  const bookref = useRef();\r\n  const payref = useRef();\r\n\r\n  function onContinue() {\r\n    if (props.location.pathname === \"/quickBook/book\") {\r\n      setbuttonState(\"book\");\r\n      var test: any = bookref.current;\r\n      console.log(bookref);\r\n      if (bookref.current) {\r\n        test.gotoPaymentDiscPage();\r\n        console.log(\"09090909\");\r\n      }\r\n\r\n      console.log(\"00000\");\r\n    } else if (props.location.pathname === \"/quickBook/payment\")\r\n      setbuttonState(\"payment\");\r\n    var test: any = payref.current;\r\n    if (payref.current) {\r\n      test.payNow();\r\n    }\r\n  }\r\n\r\n  function goToHome() {\r\n    history.push(\"/tabs/landing\");\r\n  }\r\n\r\n  function updatePayStatus() {\r\n    var paymentStatus = { status: \"\", reference_num: \"0\" };\r\n    var paymentSta = updatePaymentStatus(paymentStatus);\r\n    if (paymentSta) Store.dispatch(paymentSta);\r\n    console.log(\"^^^^^^^^^^^\", screen);\r\n  }\r\n  return (\r\n    <IonPage className=\"quick-book-page\">\r\n      {/* <Header label=\"QuickBook\" action=\"home\" /> */}\r\n      <Header\r\n        label=\"Quick Book\"\r\n        action=\"home\"\r\n        showAgent={true}\r\n        agentHeader={true}\r\n      />\r\n      <IonContent className=\"quick-book-content\">\r\n        <div className=\"form-div\">\r\n          <IonTabs\r\n            className=\"declaration-tab\"\r\n            onIonTabsDidChange={() => updatePayStatus()}\r\n          >\r\n            <IonRouterOutlet>\r\n              <Redirect exact path=\"/quickBook\" to=\"/quickBook/book\" />\r\n              <Route\r\n                path=\"/quickBook/book\"\r\n                render={() => (\r\n                  <BookQuick buttonAction={buttonState} ref={bookref} />\r\n                )} //}\r\n                exact={true}\r\n              />\r\n              <Route\r\n                path=\"/quickBook/payment\"\r\n                render={() => (\r\n                  <PayQuick buttonAction={buttonState} ref={payref} />\r\n                )}\r\n                exact={true}\r\n              />\r\n            </IonRouterOutlet>\r\n            <IonTabBar slot=\"top\">\r\n              <IonTabButton\r\n                tab=\"location\"\r\n                href=\"/quickBook/book\"\r\n                className=\"quick-tabButton\"\r\n                disabled={props.location.pathname === \"/quickBook/payment\"}\r\n              >\r\n                <IonLabel>Book</IonLabel>\r\n              </IonTabButton>\r\n\r\n              <IonTabButton\r\n                tab=\"Payment\"\r\n                href=\"/quickBook/payment\"\r\n                className=\"quick-tabButton\"\r\n                disabled={props.location.pathname === \"/quickBook/book\"}\r\n              >\r\n                <IonLabel>Payment</IonLabel>\r\n              </IonTabButton>\r\n            </IonTabBar>\r\n          </IonTabs>\r\n        </div>\r\n      </IonContent>\r\n      <IonFooter>\r\n        <IonToolbar>\r\n          {/* {screen.status === \"\" && ( */}\r\n          {(props.location.pathname === \"/quickBook/book\" ||\r\n            props.location.pathname === \"/quickBook/payment\") &&\r\n            screen.status === \"\" && (\r\n              <div className=\"button-div\">\r\n                <div className=\"button-holder\" onClick={() => onContinue()}>\r\n                  <IonIcon slot=\"icon-only\" icon={arrowForwardOutline} />\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n          {screen.status !== \"\" && (\r\n            <div className=\"button-div\">\r\n              <div className=\"button-holder\" onClick={() => goToHome()}>\r\n                {/* {buttonState !== \"payment\" && buttonState !== \"book\" && (\r\n                  <IonIcon slot=\"icon-only\" icon={arrowForwardOutline} />\r\n                )}\r\n                {buttonState === \"payment\" && ( */}\r\n                <IonIcon src=\"assets/icon/home-new.svg\" className=\"button\" />\r\n                {/* )} */}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </IonToolbar>\r\n      </IonFooter>\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nexport default QuickBook;\r\n"]},"metadata":{},"sourceType":"module"}