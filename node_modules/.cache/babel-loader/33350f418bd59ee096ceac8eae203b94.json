{"ast":null,"code":"import{IonCol,IonContent,IonIcon,IonLabel,IonPage,IonRow,IonText}from\"@ionic/react\";import{alertCircle}from\"ionicons/icons\";import React,{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import{useHistory}from\"react-router-dom\";import Calendar from\"../../components/calendar/Calendar\";import SimpleDropdown from\"../../components/dropdownInput/SimpleDropdown\";import BlueFooter from\"../../components/Footer/BlueFooter\";import SimpleBorder from\"../../components/InputBorders/SimpleBorder\";import UnderLineOnly from\"../../components/InputBorders/UnderLineOnly\";import MultiLocationCard from\"../../components/MultiLocationCard/MultiLocationCard\";import InformationText from\"../../components/Texts/InformationText\";import UnderLinedText from\"../../components/Texts/UnderLinedText\";import{containerType}from\"../../data\";import*as AllActionTypes from\"../../redux/actionTypes/AllActionTypes\";import Store from\"../../redux/Store\";import{calendarTodayDate,createArrayOfObjectWithKeyAndValue,createPaymentObject,formatDate,formatToCalendarDate,minDate}from\"../../services/Common\";import{dropIntervals}from\"../../util/Constants\";import\"./BookTruck.scss\";import moment from\"moment\";import SingleLocContainerCard from\"../../components/SingleLocationDropCard/SingleLocContainerCard\";import AddressLink from\"../../components/Address/AddressLink\";import Toggle from\"../../components/Toggle/Toggle\";import{fetchContainerSummaryPayment,getAddressApi,getContainerTypes}from\"../../services/EndPointApi\";import SortedContainerList from\"../../components/SortedContainerList/SortedContainerList\";import{addContainerTypeList}from\"../../redux/actions/AllActions\";import SlideUpModal from\"../../components/PopUp/SlideUpModal\";import DeclarationDetails from\"../ContainerCart/DeclarationDetails\";import{addTimeToDateTime}from\"../../util/Utilities\";import DiffDateTimeDrop from\"../../components/DiffDateAndTimeDrop/DiffDateTimeDrop\";import Alert from\"../../components/alert/Alert\";var containerIcon={name:\"container\",slot:\"\",class:\"zoom34\"};const BookTruck=props=>{var _props$truckBook,_props$truckBook$cont;let history=useHistory();var isdiff=\"test\";var truckBookData=props.truckBook;//bookTruckSampleData;\n//containerList = props.bookTruck; // bookTruckSampleData.containerList; //props.bookTruck;\nconst[form,setForm]=useState({minDate:minDate,containerType:[],date_time:calendarTodayDate,dropDiffTimeDate:false,dropMultiLoc:false});const[alertPopup,setAlertPopup]=useState(false);const alertProps={isShow:alertPopup,message:\"\",content:\" Are you sure to remove the container?\",icon:\"<img src='/assets/icon/are-you-sure.svg'/>\",alertAction:removeSelectedConainer,itemName:\"\",// cancelPolicy: true\nokButtonName:\"Continue\",cancelButtonName:\"Cancel\"};const[showModal,setshowModal]=useState(false);const[selectedItem,setselectedItem]=useState({});const[toggle,settoggle]=useState({dropDiffTimeDate:false,dropMultiLoc:false});const calenderIcon={name:\"calendar\",slot:\"start\",class:\"slotStart\",styleProps:{zoom:\" 1.2\"}};const intervalIcon={name:\"interval\",slot:\"\",class:\"slotStart\"};const arrowDownIcon={name:\"arrow-down\",slot:\"\",class:\"lastIcon\"};var dataFromDrafts=props.history.location.state;const[errors,setErrors]=useState({});useEffect(()=>{fetchContainerTypes();FetchAddress();if(props.history.location.state&&props.history.location.state.currentStep!==\"location\")goToReview();},[]);var totalTruckNumber=createArrayOfObjectWithKeyAndValue();const handleChange=(e,value)=>{//setErrors({ ...errors, [e.target.name]: \"\" });\nvar element;console.log(form);if(e.target.name===\"date_time\"){setErrors({...errors,date_time:\"\"});var datevalue=moment(new Date(value)).format(\"DD/MM/YYYY H:mm\");var tt=formatToCalendarDate(form.date_time);console.log(new Date(value),form.date_time,new Date(tt));if(new Date(tt)<=new Date(value)){setForm(prevState=>({...prevState,[e.target.name]:datevalue}));element={[e.target.name]:datevalue};props.updateCommonData(element);props.bookTruckUpdateAddress(element);}else{setErrors({...errors,date_time:\"Please enter a valid date\"});}}else{console.log(e.target.name,value);setForm(prevState=>({...prevState,[e.target.name]:datevalue}));element={[e.target.name]:value};props.updateCommonData(element);}};async function goToReview(){// createRequestObject();\nlet resp=await fetchContainerSummaryPayment(props.truckBook);if(resp===null||resp===void 0?void 0:resp.success){var _resp$data,_resp$data$data;var response=(_resp$data=resp.data)===null||_resp$data===void 0?void 0:(_resp$data$data=_resp$data.data)===null||_resp$data$data===void 0?void 0:_resp$data$data.dataItems[0];response.bookTruckDetails=props.truckBook;var payment=createPaymentObject(response);var objToPass={payment:payment,reviewObj:truckBookData};var nextPath=(dataFromDrafts===null||dataFromDrafts===void 0?void 0:dataFromDrafts.currentStep)?dataFromDrafts===null||dataFromDrafts===void 0?void 0:dataFromDrafts.currentStep:\"review\";history.push(\"/bookTruckTab/\"+nextPath,objToPass);}}const setAddress=async(name,data)=>{var temp=data;var addrObj={...temp,address:data};props.bookTruckUpdateAddress(addrObj);};function updateData(e,value,item,index){if(props.truckBook.multiLocAndTime){}var payLoad;if(e===\"droplocation\"){var temp=value;payLoad={containerNumber:item.container_number,element:{...temp,address:value}};props.updateOtherData(payLoad);}else if(e.target.name===\"date_time\"){setErrors({...errors,date_time:\"\"});let te=value;var se=formatDate(te);var timevalue=moment(new Date(value)).format(\"DD/MM/YYYY H:mm\");var tt=formatToCalendarDate(form.date_time);console.log(new Date(value),form.date_time,new Date(tt));if(new Date(tt)<=new Date(value)){setForm(prevState=>({...prevState,[e.target.name]:timevalue}));payLoad={containerNumber:item.container_number,element:{[e.target.name]:timevalue,displayTime:se}};props.updateOtherData(payLoad);}else{//alert(\"not ok\");\nsetErrors({...errors,date_time:\"Please enter a valid date\"});}// setForm((prevState) => ({\n//   ...prevState,\n//   [e.target.name]: value,\n// }));\n// payLoad = {\n//   containerNumber: item.container_number,\n//   element: { [e.target.name]: timevalue, displayTime: se },\n// };\n// props.updateOtherData(payLoad);\n}else{payLoad={containerNumber:item.container_number,element:{[e.target.name]:value}};props.updateOtherData(payLoad);}}function updateCommonData(e,value){var element;if(e.target.name===\"date_time\"){value=moment(new Date(value)).format(\"DD/MM/YYYY H:mm\");setForm(prevState=>({...prevState,[e.target.name]:value}));element={[e.target.name]:value};props.updateCommonData(element);}else if(e.target.name===\"dropDiffTimeDate\"||\"dropMultiLoc\"){setForm(prevState=>({...prevState,[e.target.name]:value}));if(e.target.name===\"dropDiffTimeDate\"){element={dropDiffTimeDate:value,multiLocAndTime:value};}else element={multiLocAndTime:value};}else{element={[e.target.name]:value};props.updateCommonData(element);}props.updateCommonData(element);}async function FetchAddress(){let res=await getAddressApi();var mindateOfDisable=addTimeToDateTime(new Date(),1*(res===null||res===void 0?void 0:res.disableHrs)*60||1);var formattedMindate=mindateOfDisable.toISOString();var newdateTime=moment(new Date(formattedMindate)).format(\"DD/MM/YYYY H:mm\");console.log(newdateTime);setForm(prevState=>({...prevState,date_time:newdateTime}));}async function fetchContainerTypes(){let res=await getContainerTypes();{if(res===null||res===void 0?void 0:res.success){setForm(prevState=>({...prevState,containerType:res.data||containerType}));var updatedContainerType=addContainerTypeList(res.data);if(updatedContainerType)Store.dispatch(updatedContainerType);}else{setForm(prevState=>({...prevState,containerType:containerType//to delete -eanas\n}));}}}function openDeclaDetails(item){setshowModal(true);setselectedItem(item);}function removeSelectedConainer(ite,actionType){//setshowModal(false);\nsetAlertPopup(false);if(actionType){props.removeContainer(selectedItem.container_number);}else{}}const singleDropAttri={multiLocAndTime:false,containerNum:{}};function toggleChange(e,value){console.log(e,value);settoggle({...toggle,[e.target.name]:value});updateCommonData(e,value);}console.log(form);return/*#__PURE__*/React.createElement(IonPage,{className:\"BookTruck-Location\"},/*#__PURE__*/React.createElement(IonContent,null,/*#__PURE__*/React.createElement(Alert,{alertProps:alertProps}),/*#__PURE__*/React.createElement(SlideUpModal,{showModal:showModal,openOrCloseModal:modalState=>setshowModal(modalState),content:/*#__PURE__*/React.createElement(DeclarationDetails,{click:()=>{setshowModal(false);setAlertPopup(true);},item:selectedItem//click={removeSelectedConainer}\n})}),/*#__PURE__*/React.createElement(\"div\",{className:\"tab-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"main-content\"},!form.dropDiffTimeDate&&/*#__PURE__*/React.createElement(IonRow,{className:\"black-label\"},/*#__PURE__*/React.createElement(IonCol,{size:\"9\"},/*#__PURE__*/React.createElement(IonLabel,null,\" Drop containers at multiple locations?\")),/*#__PURE__*/React.createElement(IonCol,{className:\"right-item\"},/*#__PURE__*/React.createElement(Toggle,{value:truckBookData.multiLocAndTime,changeToggle:updateCommonData,name:\"dropMultiLoc\"}))),!form.dropMultiLoc&&/*#__PURE__*/React.createElement(IonRow,{className:\"black-label\"},/*#__PURE__*/React.createElement(IonCol,{size:\"9\"},/*#__PURE__*/React.createElement(IonLabel,null,\"Drop containers at different date & time?\")),/*#__PURE__*/React.createElement(IonCol,{className:\"right-item\"},/*#__PURE__*/React.createElement(Toggle,{value:truckBookData.dropDiffTimeDate,changeToggle://() => {\n// setdropDiffTimeDate(!dropDiffTimeDate);\n//updateCommonData\n//}\nupdateCommonData,name:\"dropDiffTimeDate\"}))),/*#__PURE__*/React.createElement(IonRow,{className:\"black-label\"},/*#__PURE__*/React.createElement(IonCol,{size:\"9\"},/*#__PURE__*/React.createElement(IonLabel,null,\"Number of Trucks Required?\")),/*#__PURE__*/React.createElement(IonCol,{className:\"right-item\"},/*#__PURE__*/React.createElement(SimpleBorder,{label:\"testing\",content:/*#__PURE__*/React.createElement(SimpleDropdown,{name:\"truckNumber\",value:truckBookData.truckNumber||\"1\",errors:errors.truckNumber,type:\"text\",required:true,onChange:handleChange,datatype:\"TEXT\"//placeholder=\"\"\n,listValues:totalTruckNumber,icon:arrowDownIcon})})),/*#__PURE__*/React.createElement(\"div\",{className:\"alert-message\"},/*#__PURE__*/React.createElement(IonIcon,{icon:alertCircle}),\" max limit of 80 containers is one truck\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"sub-content\"},/*#__PURE__*/React.createElement(UnderLinedText,{text:\"Enter drop details\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"sub-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"twoItem\"},!truckBookData.multiLocAndTime&&/*#__PURE__*/React.createElement(\"div\",{className:\"eachElement\"},/*#__PURE__*/React.createElement(UnderLineOnly,{className:\"black-underLine\",content:/*#__PURE__*/React.createElement(Calendar,{name:\"date_time\",value:formatToCalendarDate(form.date_time||calendarTodayDate//truckBookData.date_time\n// ? truckBookData.date_time\n// : calendarTodayDate\n)// ||\n// formatToCalendarDate(calendarTodayDate)\n,label:\"Date\",errors:errors.date_time,type:\"text\",required:true,onChange:handleChange,placeholder:\"text\",minDate:form.minDate,icon:calenderIcon,displayFormat:\"DD-MMM-YYYY HH:mm\",className:\"leftGap\"})})),/*#__PURE__*/React.createElement(\"div\",{className:\"centerElement\"}),!truckBookData.multiLocAndTime&&/*#__PURE__*/React.createElement(\"div\",{className:\"lastElement\"},/*#__PURE__*/React.createElement(UnderLineOnly,{className:\"black-underLine\",content:/*#__PURE__*/React.createElement(SimpleDropdown,{name:\"dropInterval\",value:truckBookData.dropInterval||\"0\",errors:errors.dropInterval,type:\"text\",required:true,onChange:handleChange,datatype:\"TEXT\"//placeholder=\"\"\n,listValues:dropIntervals,icon:intervalIcon,icon2:arrowDownIcon,className:\"firstElement leftGap\"})}))),/*#__PURE__*/React.createElement(\"div\",{className:\"twoItem\"},/*#__PURE__*/React.createElement(\"div\",{className:\"eachElement\"},errors.date_time&&/*#__PURE__*/React.createElement(\"div\",{className:\"topMargin\"},/*#__PURE__*/React.createElement(IonText,{color:\"danger\",className:\"validation-message\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"ion-padding-start\"},errors.date_time)))),/*#__PURE__*/React.createElement(\"div\",{className:\"lastElement\"})),!form.dropMultiLoc&&/*#__PURE__*/React.createElement(AddressLink//value={truckBookData?.containerList[0]?.address || {}}\n,{value:(truckBookData===null||truckBookData===void 0?void 0:truckBookData.containerList[0])||[],setAddress:setAddress,linkClassName:\"flexStart\",attributes:singleDropAttri,openPopup:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"container-list-booktruck\"},/*#__PURE__*/React.createElement(InformationText,{message:\"\".concat(truckBookData.containerList.length,\" containers\")}),(_props$truckBook=props.truckBook)===null||_props$truckBook===void 0?void 0:(_props$truckBook$cont=_props$truckBook.containerList)===null||_props$truckBook$cont===void 0?void 0:_props$truckBook$cont.map((item,index)=>{return/*#__PURE__*/React.createElement(\"div\",{key:index},/*#__PURE__*/React.createElement(SortedContainerList,{isDiff:isdiff===item.boeNumber?true:false,item:item,content:!form.dropMultiLoc&&!form.dropDiffTimeDate?/*#__PURE__*/React.createElement(SingleLocContainerCard,{item:item,icon:containerIcon,arrowDownIcon:arrowDownIcon,updateDate:(arg1,arg2)=>updateData(arg1,arg2,item,index),containerList:form.containerType,containerCardClick:openDeclaDetails}):!form.dropDiffTimeDate&&form.dropMultiLoc?/*#__PURE__*/React.createElement(MultiLocationCard,{item:item,icon:containerIcon,arrowDownIcon:arrowDownIcon,updateDate:(arg1,arg2)=>updateData(arg1,arg2,item,index),containerList:form.containerType,containerCardClick:openDeclaDetails,errors:errors.date_time}):form.dropDiffTimeDate&&!form.dropMultiLoc&&/*#__PURE__*/React.createElement(DiffDateTimeDrop,{item:item,icon:containerIcon,arrowDownIcon:arrowDownIcon,updateDate:(arg1,arg2)=>updateData(arg1,arg2,item,index),containerList:form.containerType,containerCardClick:openDeclaDetails})}),/*#__PURE__*/React.createElement(\"div\",{hidden:true},isdiff=item.boeNumber));})))),/*#__PURE__*/React.createElement(BlueFooter,{onBlueFooterClick:goToReview,footerLabel:\"Continue\"}));};const mapStateToProps=state=>{console.log(state.TruckBook);return{truckBook:state.TruckBook};};const mapDispatchToProps=()=>{return{bookTruckUpdateAddress:item=>{Store.dispatch({type:AllActionTypes.BOOK_TRUCK_UPDATE_ADDRESS,payLoad:item});},updateOtherData:item=>{Store.dispatch({type:AllActionTypes.BOOK_TRUCK_UPDATE_OTHER_DATA,payLoad:item});},updateCommonData:item=>{console.log(item);Store.dispatch({type:AllActionTypes.BOOK_TRUCK_UPDATE_COMMON_DATA,payLoad:item});},removeContainer:item=>{Store.dispatch({type:AllActionTypes.REMOVE_CONTAINER_TRUCK_BOOK,payLoad:item});}};};export default connect(mapStateToProps,mapDispatchToProps)(BookTruck);","map":{"version":3,"sources":["D:/DT/ptmsCheckOutNew/New-MobileApp/src/pages/booktruck/BookTruck.tsx"],"names":["IonCol","IonContent","IonIcon","IonLabel","IonPage","IonRow","IonText","alertCircle","React","useEffect","useState","connect","useHistory","Calendar","SimpleDropdown","BlueFooter","SimpleBorder","UnderLineOnly","MultiLocationCard","InformationText","UnderLinedText","containerType","AllActionTypes","Store","calendarTodayDate","createArrayOfObjectWithKeyAndValue","createPaymentObject","formatDate","formatToCalendarDate","minDate","dropIntervals","moment","SingleLocContainerCard","AddressLink","Toggle","fetchContainerSummaryPayment","getAddressApi","getContainerTypes","SortedContainerList","addContainerTypeList","SlideUpModal","DeclarationDetails","addTimeToDateTime","DiffDateTimeDrop","Alert","containerIcon","name","slot","class","BookTruck","props","history","isdiff","truckBookData","truckBook","form","setForm","date_time","dropDiffTimeDate","dropMultiLoc","alertPopup","setAlertPopup","alertProps","isShow","message","content","icon","alertAction","removeSelectedConainer","itemName","okButtonName","cancelButtonName","showModal","setshowModal","selectedItem","setselectedItem","toggle","settoggle","calenderIcon","styleProps","zoom","intervalIcon","arrowDownIcon","dataFromDrafts","location","state","errors","setErrors","fetchContainerTypes","FetchAddress","currentStep","goToReview","totalTruckNumber","handleChange","e","value","element","console","log","target","datevalue","Date","format","tt","prevState","updateCommonData","bookTruckUpdateAddress","resp","success","response","data","dataItems","bookTruckDetails","payment","objToPass","reviewObj","nextPath","push","setAddress","temp","addrObj","address","updateData","item","index","multiLocAndTime","payLoad","containerNumber","container_number","updateOtherData","te","se","timevalue","displayTime","res","mindateOfDisable","disableHrs","formattedMindate","toISOString","newdateTime","updatedContainerType","dispatch","openDeclaDetails","ite","actionType","removeContainer","singleDropAttri","containerNum","toggleChange","modalState","truckNumber","dropInterval","containerList","length","map","boeNumber","arg1","arg2","mapStateToProps","TruckBook","mapDispatchToProps","type","BOOK_TRUCK_UPDATE_ADDRESS","BOOK_TRUCK_UPDATE_OTHER_DATA","BOOK_TRUCK_UPDATE_COMMON_DATA","REMOVE_CONTAINER_TRUCK_BOOK"],"mappings":"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","sourcesContent":["import {\r\n  IonCol,\r\n  IonContent,\r\n  IonIcon,\r\n  IonLabel,\r\n  IonPage,\r\n  IonRow,\r\n  IonText,\r\n  IonToggle,\r\n} from \"@ionic/react\";\r\nimport { alertCircle } from \"ionicons/icons\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Calendar from \"../../components/calendar/Calendar\";\r\nimport SimpleDropdown from \"../../components/dropdownInput/SimpleDropdown\";\r\nimport BlueFooter from \"../../components/Footer/BlueFooter\";\r\nimport SimpleBorder from \"../../components/InputBorders/SimpleBorder\";\r\nimport UnderLineOnly from \"../../components/InputBorders/UnderLineOnly\";\r\nimport MultiLocationCard from \"../../components/MultiLocationCard/MultiLocationCard\";\r\nimport InformationText from \"../../components/Texts/InformationText\";\r\nimport UnderLinedText from \"../../components/Texts/UnderLinedText\";\r\nimport { bookTruckSampleData, containerType } from \"../../data\";\r\nimport * as AllActionTypes from \"../../redux/actionTypes/AllActionTypes\";\r\nimport Store from \"../../redux/Store\";\r\nimport {\r\n  calendarTodayDate,\r\n  createArrayOfObjectWithKeyAndValue,\r\n  createPaymentObject,\r\n  formatDate,\r\n  formatToCalendarDate,\r\n  minDate,\r\n  todayDate,\r\n} from \"../../services/Common\";\r\nimport { dropIntervals } from \"../../util/Constants\";\r\nimport \"./BookTruck.scss\";\r\nimport SingleLocationDropCard from \"../../components/SingleLocationDropCard/SingleLocationDropCard\";\r\nimport moment from \"moment\";\r\nimport SingleLocContainerCard from \"../../components/SingleLocationDropCard/SingleLocContainerCard\";\r\nimport AddressLink from \"../../components/Address/AddressLink\";\r\nimport Toggle from \"../../components/Toggle/Toggle\";\r\nimport {\r\n  fetchContainerSummaryPayment,\r\n  getAddressApi,\r\n  getContainerTypes,\r\n} from \"../../services/EndPointApi\";\r\nimport SortedContainerList from \"../../components/SortedContainerList/SortedContainerList\";\r\nimport BlueUderLinedLink from \"../../components/Texts/BlueUderLinedLink\";\r\nimport Header from \"../../components/Header\";\r\nimport { addContainerTypeList } from \"../../redux/actions/AllActions\";\r\nimport SlideUpModal from \"../../components/PopUp/SlideUpModal\";\r\nimport DeclarationDetails from \"../ContainerCart/DeclarationDetails\";\r\nimport { addTimeToDateTime } from \"../../util/Utilities\";\r\nimport DiffDateTimeDrop from \"../../components/DiffDateAndTimeDrop/DiffDateTimeDrop\";\r\nimport Alert from \"../../components/alert/Alert\";\r\n\r\ninterface BookTruckProps {\r\n  truckBook;\r\n  bookTruckUpdateAddress;\r\n  updateOtherData;\r\n  updateCommonData;\r\n}\r\n\r\nvar containerIcon = {\r\n  name: \"container\",\r\n  slot: \"\",\r\n  class: \"zoom34\",\r\n};\r\n\r\nconst BookTruck: React.FC<BookTruckProps> = (props: any) => {\r\n  let history = useHistory();\r\n  var isdiff = \"test\";\r\n  var truckBookData = props.truckBook; //bookTruckSampleData;\r\n  //containerList = props.bookTruck; // bookTruckSampleData.containerList; //props.bookTruck;\r\n  const [form, setForm] = useState<any>({\r\n    minDate: minDate,\r\n    containerType: [],\r\n    date_time: calendarTodayDate,\r\n    dropDiffTimeDate: false,\r\n    dropMultiLoc: false,\r\n  });\r\n  const [alertPopup, setAlertPopup] = useState(false);\r\n  const alertProps = {\r\n    isShow: alertPopup,\r\n    message: \"\",\r\n    content: \" Are you sure to remove the container?\",\r\n    icon: \"<img src='/assets/icon/are-you-sure.svg'/>\",\r\n    alertAction: removeSelectedConainer,\r\n\r\n    itemName: \"\",\r\n    // cancelPolicy: true\r\n    okButtonName: \"Continue\",\r\n    cancelButtonName: \"Cancel\",\r\n  };\r\n  const [showModal, setshowModal] = useState(false);\r\n  const [selectedItem, setselectedItem] = useState<any>({});\r\n  const [toggle, settoggle] = useState<any>({\r\n    dropDiffTimeDate: false,\r\n    dropMultiLoc: false,\r\n  });\r\n\r\n  const calenderIcon = {\r\n    name: \"calendar\",\r\n    slot: \"start\",\r\n    class: \"slotStart\",\r\n    styleProps: { zoom: \" 1.2\" },\r\n  };\r\n\r\n  const intervalIcon = {\r\n    name: \"interval\",\r\n    slot: \"\",\r\n    class: \"slotStart\",\r\n  };\r\n  const arrowDownIcon = {\r\n    name: \"arrow-down\",\r\n    slot: \"\",\r\n    class: \"lastIcon\",\r\n  };\r\n  var dataFromDrafts = props.history.location.state;\r\n  const [errors, setErrors] = useState<any>({});\r\n  useEffect(() => {\r\n    fetchContainerTypes();\r\n    FetchAddress();\r\n\r\n    if (\r\n      props.history.location.state &&\r\n      props.history.location.state.currentStep !== \"location\"\r\n    )\r\n      goToReview();\r\n  }, []);\r\n\r\n  var totalTruckNumber = createArrayOfObjectWithKeyAndValue();\r\n\r\n  const handleChange = (e: any, value: any) => {\r\n    //setErrors({ ...errors, [e.target.name]: \"\" });\r\n    var element;\r\n    console.log(form);\r\n    if (e.target.name === \"date_time\") {\r\n      setErrors({\r\n        ...errors,\r\n        date_time: \"\",\r\n      });\r\n      var datevalue = moment(new Date(value)).format(\"DD/MM/YYYY H:mm\");\r\n      var tt = formatToCalendarDate(form.date_time);\r\n      console.log(new Date(value), form.date_time, new Date(tt));\r\n      if (new Date(tt) <= new Date(value)) {\r\n        setForm((prevState) => ({\r\n          ...prevState,\r\n          [e.target.name]: datevalue,\r\n        }));\r\n        element = { [e.target.name]: datevalue };\r\n\r\n        props.updateCommonData(element);\r\n        props.bookTruckUpdateAddress(element);\r\n      } else {\r\n        setErrors({\r\n          ...errors,\r\n          date_time: \"Please enter a valid date\",\r\n        });\r\n      }\r\n    } else {\r\n      console.log(e.target.name, value);\r\n      setForm((prevState) => ({\r\n        ...prevState,\r\n        [e.target.name]: datevalue,\r\n      }));\r\n      element = { [e.target.name]: value };\r\n      props.updateCommonData(element);\r\n    }\r\n  };\r\n  async function goToReview() {\r\n    // createRequestObject();\r\n    let resp: any = await fetchContainerSummaryPayment(props.truckBook);\r\n\r\n    if (resp?.success) {\r\n      var response = resp.data?.data?.dataItems[0];\r\n      response.bookTruckDetails = props.truckBook;\r\n      var payment = createPaymentObject(response);\r\n      var objToPass = { payment: payment, reviewObj: truckBookData };\r\n      var nextPath = dataFromDrafts?.currentStep\r\n        ? dataFromDrafts?.currentStep\r\n        : \"review\";\r\n      history.push(\"/bookTruckTab/\" + nextPath, objToPass);\r\n    }\r\n  }\r\n\r\n  const setAddress = async (name, data) => {\r\n    var temp = data;\r\n\r\n    var addrObj = { ...temp, address: data };\r\n\r\n    props.bookTruckUpdateAddress(addrObj);\r\n  };\r\n\r\n  function updateData(e, value, item?, index?) {\r\n    if (props.truckBook.multiLocAndTime) {\r\n    }\r\n    var payLoad;\r\n    if (e === \"droplocation\") {\r\n      var temp = value;\r\n      payLoad = {\r\n        containerNumber: item.container_number,\r\n        element: { ...temp, address: value },\r\n      };\r\n      props.updateOtherData(payLoad);\r\n    } else if (e.target.name === \"date_time\") {\r\n      setErrors({\r\n        ...errors,\r\n        date_time: \"\",\r\n      });\r\n      let te = value;\r\n      var se = formatDate(te);\r\n\r\n      var timevalue = moment(new Date(value)).format(\"DD/MM/YYYY H:mm\");\r\n\r\n      var tt = formatToCalendarDate(form.date_time);\r\n      console.log(new Date(value), form.date_time, new Date(tt));\r\n      if (new Date(tt) <= new Date(value)) {\r\n        setForm((prevState) => ({\r\n          ...prevState,\r\n          [e.target.name]: timevalue,\r\n        }));\r\n        payLoad = {\r\n          containerNumber: item.container_number,\r\n          element: { [e.target.name]: timevalue, displayTime: se },\r\n        };\r\n        props.updateOtherData(payLoad);\r\n      } else {\r\n        //alert(\"not ok\");\r\n        setErrors({\r\n          ...errors,\r\n          date_time: \"Please enter a valid date\",\r\n        });\r\n      }\r\n\r\n      // setForm((prevState) => ({\r\n      //   ...prevState,\r\n      //   [e.target.name]: value,\r\n      // }));\r\n      // payLoad = {\r\n      //   containerNumber: item.container_number,\r\n      //   element: { [e.target.name]: timevalue, displayTime: se },\r\n      // };\r\n      // props.updateOtherData(payLoad);\r\n    } else {\r\n      payLoad = {\r\n        containerNumber: item.container_number,\r\n        element: { [e.target.name]: value },\r\n      };\r\n      props.updateOtherData(payLoad);\r\n    }\r\n  }\r\n\r\n  function updateCommonData(e, value) {\r\n    var element;\r\n    if (e.target.name === \"date_time\") {\r\n      value = moment(new Date(value)).format(\"DD/MM/YYYY H:mm\");\r\n\r\n      setForm((prevState) => ({\r\n        ...prevState,\r\n        [e.target.name]: value,\r\n      }));\r\n      element = { [e.target.name]: value };\r\n      props.updateCommonData(element);\r\n    } else if (e.target.name === \"dropDiffTimeDate\" || \"dropMultiLoc\") {\r\n      setForm((prevState) => ({\r\n        ...prevState,\r\n        [e.target.name]: value,\r\n      }));\r\n      if (e.target.name === \"dropDiffTimeDate\") {\r\n        element = { dropDiffTimeDate: value, multiLocAndTime: value };\r\n      } else element = { multiLocAndTime: value };\r\n    } else {\r\n      element = { [e.target.name]: value };\r\n      props.updateCommonData(element);\r\n    }\r\n    props.updateCommonData(element);\r\n  }\r\n\r\n  async function FetchAddress() {\r\n    let res = await getAddressApi();\r\n\r\n    var mindateOfDisable = addTimeToDateTime(\r\n      new Date(),\r\n      1 * res?.disableHrs * 60 || 1\r\n    );\r\n    var formattedMindate = mindateOfDisable.toISOString();\r\n    var newdateTime = moment(new Date(formattedMindate)).format(\r\n      \"DD/MM/YYYY H:mm\"\r\n    );\r\n    console.log(newdateTime);\r\n    setForm((prevState) => ({\r\n      ...prevState,\r\n      date_time: newdateTime,\r\n    }));\r\n  }\r\n  async function fetchContainerTypes() {\r\n    let res: any = await getContainerTypes();\r\n    {\r\n      if (res?.success) {\r\n        setForm((prevState) => ({\r\n          ...prevState,\r\n          containerType: res.data || containerType,\r\n        }));\r\n        var updatedContainerType = addContainerTypeList(res.data);\r\n        if (updatedContainerType) Store.dispatch(updatedContainerType);\r\n      } else {\r\n        setForm((prevState) => ({\r\n          ...prevState,\r\n          containerType: containerType, //to delete -eanas\r\n        }));\r\n      }\r\n    }\r\n  }\r\n\r\n  function openDeclaDetails(item) {\r\n    setshowModal(true);\r\n    setselectedItem(item);\r\n  }\r\n\r\n  function removeSelectedConainer(ite, actionType) {\r\n    //setshowModal(false);\r\n    setAlertPopup(false);\r\n    if (actionType) {\r\n      props.removeContainer(selectedItem.container_number);\r\n    } else {\r\n    }\r\n  }\r\n\r\n  const singleDropAttri = { multiLocAndTime: false, containerNum: {} };\r\n\r\n  function toggleChange(e, value) {\r\n    console.log(e, value);\r\n    settoggle({ ...toggle, [e.target.name]: value });\r\n    updateCommonData(e, value);\r\n  }\r\n  console.log(form);\r\n  return (\r\n    <IonPage className=\"BookTruck-Location\">\r\n      <IonContent>\r\n        <Alert alertProps={alertProps} />\r\n        <SlideUpModal\r\n          showModal={showModal}\r\n          openOrCloseModal={(modalState) => setshowModal(modalState)}\r\n          content={\r\n            <DeclarationDetails\r\n              click={() => {\r\n                setshowModal(false);\r\n                setAlertPopup(true);\r\n              }}\r\n              item={selectedItem}\r\n              //click={removeSelectedConainer}\r\n            />\r\n          }\r\n        />\r\n        <div className=\"tab-content\">\r\n          <div className=\"main-content\">\r\n            {!form.dropDiffTimeDate && (\r\n              <IonRow className=\"black-label\">\r\n                <IonCol size=\"9\">\r\n                  <IonLabel> Drop containers at multiple locations?</IonLabel>\r\n                </IonCol>\r\n                <IonCol className=\"right-item\">\r\n                  <Toggle\r\n                    value={truckBookData.multiLocAndTime}\r\n                    changeToggle={updateCommonData}\r\n                    name=\"dropMultiLoc\"\r\n                  />\r\n                </IonCol>\r\n              </IonRow>\r\n            )}\r\n            {!form.dropMultiLoc && (\r\n              <IonRow className=\"black-label\">\r\n                <IonCol size=\"9\">\r\n                  <IonLabel>Drop containers at different date & time?</IonLabel>\r\n                </IonCol>\r\n                <IonCol className=\"right-item\">\r\n                  <Toggle\r\n                    value={truckBookData.dropDiffTimeDate}\r\n                    changeToggle={\r\n                      //() => {\r\n                      // setdropDiffTimeDate(!dropDiffTimeDate);\r\n                      //updateCommonData\r\n                      //}\r\n                      updateCommonData\r\n                    }\r\n                    name=\"dropDiffTimeDate\"\r\n                  />\r\n                </IonCol>\r\n              </IonRow>\r\n            )}\r\n            <IonRow className=\"black-label\">\r\n              <IonCol size=\"9\">\r\n                <IonLabel>Number of Trucks Required?</IonLabel>\r\n              </IonCol>\r\n              <IonCol className=\"right-item\">\r\n                <SimpleBorder\r\n                  label=\"testing\"\r\n                  content={\r\n                    <SimpleDropdown\r\n                      name={\"truckNumber\"}\r\n                      value={truckBookData.truckNumber || \"1\"}\r\n                      errors={errors.truckNumber}\r\n                      type=\"text\"\r\n                      required={true}\r\n                      onChange={handleChange}\r\n                      datatype=\"TEXT\"\r\n                      //placeholder=\"\"\r\n                      listValues={totalTruckNumber}\r\n                      icon={arrowDownIcon}\r\n                    />\r\n                  }\r\n                />\r\n              </IonCol>\r\n              <div className=\"alert-message\">\r\n                <IonIcon icon={alertCircle}></IonIcon> max limit of 80\r\n                containers is one truck\r\n              </div>\r\n            </IonRow>\r\n          </div>\r\n          <div className=\"sub-content\">\r\n            <UnderLinedText text=\"Enter drop details\" />\r\n          </div>\r\n          {/* {!truckBookData.multiLocAndTime && ( */}\r\n          <div className=\"sub-content\">\r\n            {/* <SingleLocationDropCard /> */}\r\n            <div className=\"twoItem\">\r\n              {!truckBookData.multiLocAndTime && (\r\n                <div className=\"eachElement\">\r\n                  <UnderLineOnly\r\n                    className=\"black-underLine\"\r\n                    content={\r\n                      <Calendar\r\n                        name={\"date_time\"}\r\n                        value={\r\n                          formatToCalendarDate(\r\n                            form.date_time || calendarTodayDate\r\n                            //truckBookData.date_time\r\n                            // ? truckBookData.date_time\r\n                            // : calendarTodayDate\r\n                          )\r\n                          // ||\r\n                          // formatToCalendarDate(calendarTodayDate)\r\n                        }\r\n                        label=\"Date\"\r\n                        errors={errors.date_time}\r\n                        type=\"text\"\r\n                        required={true}\r\n                        onChange={handleChange}\r\n                        placeholder=\"text\"\r\n                        minDate={form.minDate}\r\n                        icon={calenderIcon}\r\n                        displayFormat=\"DD-MMM-YYYY HH:mm\"\r\n                        className=\"leftGap\"\r\n                      />\r\n                    }\r\n                  />\r\n                </div>\r\n              )}\r\n              <div className=\"centerElement\"></div>\r\n              {!truckBookData.multiLocAndTime && (\r\n                <div className=\"lastElement\">\r\n                  <UnderLineOnly\r\n                    className=\"black-underLine\"\r\n                    content={\r\n                      <SimpleDropdown\r\n                        name={\"dropInterval\"}\r\n                        value={truckBookData.dropInterval || \"0\"}\r\n                        errors={errors.dropInterval}\r\n                        type=\"text\"\r\n                        required={true}\r\n                        onChange={handleChange}\r\n                        datatype=\"TEXT\"\r\n                        //placeholder=\"\"\r\n                        listValues={dropIntervals}\r\n                        icon={intervalIcon}\r\n                        icon2={arrowDownIcon}\r\n                        className=\"firstElement leftGap\"\r\n                      />\r\n                    }\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"twoItem\">\r\n              <div className=\"eachElement\">\r\n                {errors.date_time && (\r\n                  <div className=\"topMargin\">\r\n                    <IonText color=\"danger\" className=\"validation-message\">\r\n                      <IonLabel className=\"ion-padding-start\">\r\n                        {errors.date_time}\r\n                      </IonLabel>\r\n                    </IonText>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              {/* <div className=\"centerElement\"></div> */}\r\n              <div className=\"lastElement\"></div>\r\n            </div>\r\n            {!form.dropMultiLoc && (\r\n              <AddressLink\r\n                //value={truckBookData?.containerList[0]?.address || {}}\r\n                value={truckBookData?.containerList[0] || []}\r\n                setAddress={setAddress}\r\n                linkClassName=\"flexStart\"\r\n                attributes={singleDropAttri}\r\n                openPopup={true}\r\n              />\r\n            )}\r\n          </div>\r\n          {/* )} */}\r\n\r\n          <div className=\"container-list-booktruck\">\r\n            <InformationText\r\n              message={`${truckBookData.containerList.length} containers`}\r\n            />\r\n            {/* {truckBookData.containerList?.map((item, index) => { */}\r\n            {props.truckBook?.containerList?.map((item, index) => {\r\n              return (\r\n                <div key={index}>\r\n                  <SortedContainerList\r\n                    isDiff={isdiff === item.boeNumber ? true : false}\r\n                    item={item}\r\n                    content={\r\n                      !form.dropMultiLoc && !form.dropDiffTimeDate ? (\r\n                        <SingleLocContainerCard\r\n                          item={item}\r\n                          icon={containerIcon}\r\n                          arrowDownIcon={arrowDownIcon}\r\n                          updateDate={(arg1, arg2) =>\r\n                            updateData(arg1, arg2, item, index)\r\n                          }\r\n                          containerList={form.containerType}\r\n                          containerCardClick={openDeclaDetails}\r\n                        />\r\n                      ) : !form.dropDiffTimeDate && form.dropMultiLoc ? (\r\n                        <MultiLocationCard\r\n                          item={item}\r\n                          icon={containerIcon}\r\n                          arrowDownIcon={arrowDownIcon}\r\n                          updateDate={(arg1, arg2) =>\r\n                            updateData(arg1, arg2, item, index)\r\n                          }\r\n                          containerList={form.containerType}\r\n                          containerCardClick={openDeclaDetails}\r\n                          errors={errors.date_time}\r\n                        />\r\n                      ) : (\r\n                        form.dropDiffTimeDate &&\r\n                        !form.dropMultiLoc && (\r\n                          <DiffDateTimeDrop\r\n                            item={item}\r\n                            icon={containerIcon}\r\n                            arrowDownIcon={arrowDownIcon}\r\n                            updateDate={(arg1, arg2) =>\r\n                              updateData(arg1, arg2, item, index)\r\n                            }\r\n                            containerList={form.containerType}\r\n                            containerCardClick={openDeclaDetails}\r\n                          />\r\n                        )\r\n                      )\r\n                    }\r\n                  />\r\n\r\n                  <div hidden={true}>{(isdiff = item.boeNumber)}</div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </IonContent>\r\n      {/* <div className=\"footerPosition\"> */}\r\n      <BlueFooter onBlueFooterClick={goToReview} footerLabel=\"Continue\" />\r\n      {/* </div> */}\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: any) => {\r\n  console.log(state.TruckBook);\r\n  return {\r\n    truckBook: state.TruckBook,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = () => {\r\n  return {\r\n    bookTruckUpdateAddress: (item: any) => {\r\n      Store.dispatch({\r\n        type: AllActionTypes.BOOK_TRUCK_UPDATE_ADDRESS,\r\n        payLoad: item,\r\n      });\r\n    },\r\n    updateOtherData: (item: any) => {\r\n      Store.dispatch({\r\n        type: AllActionTypes.BOOK_TRUCK_UPDATE_OTHER_DATA,\r\n        payLoad: item,\r\n      });\r\n    },\r\n    updateCommonData: (item: any) => {\r\n      console.log(item);\r\n      Store.dispatch({\r\n        type: AllActionTypes.BOOK_TRUCK_UPDATE_COMMON_DATA,\r\n        payLoad: item,\r\n      });\r\n    },\r\n    removeContainer: (item: any) => {\r\n      Store.dispatch({\r\n        type: AllActionTypes.REMOVE_CONTAINER_TRUCK_BOOK,\r\n        payLoad: item,\r\n      });\r\n    },\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BookTruck);\r\n"]},"metadata":{},"sourceType":"module"}