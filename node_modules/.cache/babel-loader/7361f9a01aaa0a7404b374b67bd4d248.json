{"ast":null,"code":"import{IonContent,IonIcon,IonLabel,IonList,IonPage,IonText}from\"@ionic/react\";import{arrowForwardOutline}from\"ionicons/icons\";import React,{useState}from\"react\";import TxtInput from\"../../components/txtinput/TxtInput\";import{confirmUserDetails}from\"../../services/EndPointApi\";import{isEmpty}from\"../../util/Utilities\";import*as EndPoints from\"../../util/EndPointURL\";import\"./ConfirmDetails.scss\";function ConfirmDetails(confirmDetailsProps){const[form,setForm]=useState(confirmDetailsProps.location.state);const[validate,setvalidate]=useState();const[errors,setErrors]=useState({});const addOrUpdateuserDetails=async()=>{let errs={};if(isEmpty(form.firstName)){errs.firstName=\"First Name is required\";}if(isEmpty(form.lastName)){errs.lastName=\"Last Name is required\";}if(isEmpty(form.email)){errs.email=\"Email is required\";}if(isEmpty(form.mobileNumber)){errs.mobileNumber=\"Mobile number is required\";}if(isEmpty(form.landLineNumber)){errs.landLineNumber=\"Phone number is required\";}// if (!validate) {\n//   console.log(validate);\n// } else\nif(form.firstName&&form.lastName&&form.email&&form.mobileNumber&&form.landLineNumber){form.confirmDetails=true;var response=await confirmUserDetails(EndPoints.confirmDetailUrl,form);//var result = response.data?.data?.dataItems[0];\nif(response&&(response===null||response===void 0?void 0:response.success)){confirmDetailsProps.history.push(\"/tabs/\",{direction:\"none\"});}else{var _response$data;errs.errorGeneral=(response===null||response===void 0?void 0:(_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.message)||\"Error occured\";}}setErrors(errs);};const handleChange=(e,value,validate)=>{setvalidate(validate);setForm({...form,[e.target.name]:value});setErrors({...errors,[e.target.name]:\"\"});};return/*#__PURE__*/React.createElement(IonPage,{id:\"profilePage\"},/*#__PURE__*/React.createElement(IonContent,null,/*#__PURE__*/React.createElement(\"div\",{className:\"main-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login-logo\"},/*#__PURE__*/React.createElement(\"img\",{src:\"assets/img/dubai_trade_logo.png\",alt:\"Ionic logo\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login-box-header\"}),/*#__PURE__*/React.createElement(\"form\",{noValidate:true,onSubmit:addOrUpdateuserDetails,autoComplete:\"off\"},/*#__PURE__*/React.createElement(IonList,{className:\"form-section\"},/*#__PURE__*/React.createElement(\"div\",{className:\"welcome-note\"},\"Dear \",form===null||form===void 0?void 0:form.userName,\",\",/*#__PURE__*/React.createElement(\"br\",null),\"Welcome to DT Trucking.\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),\"Kindly confirm your contact details in order to proceed with booking.\"),/*#__PURE__*/React.createElement(TxtInput,{name:\"firstName\",value:form===null||form===void 0?void 0:form.firstName,label:\"First Name\",errors:errors.firstName,type:\"text\",required:true,onChange:handleChange,datatype:\"TEXT\",placeholder:\"First Name\"}),/*#__PURE__*/React.createElement(TxtInput,{name:\"lastName\",value:form===null||form===void 0?void 0:form.lastName,label:\"Last Name\",errors:errors.lastName,type:\"text\",required:true,onChange:handleChange,placeholder:\"Last Name\"}),/*#__PURE__*/React.createElement(TxtInput,{name:\"email\",value:form===null||form===void 0?void 0:form.email,label:\"Email\",errors:errors.email,type:\"email\",required:true,onChange:handleChange,description:\"Email Format abc@xyz.com\",placeholder:\"Email\"}),/*#__PURE__*/React.createElement(TxtInput,{name:\"mobileNumber\",value:form===null||form===void 0?void 0:form.mobileNumber,label:\"Mobile\",errors:errors.mobileNumber,type:\"text\",required:true,onChange:handleChange,datatype:\"TEL_NUM\",pattern:\"###-##-#######\",description:\"Tel Format 971-xx-xxxxxxx\",placeholder:\"Mobile\"}),/*#__PURE__*/React.createElement(TxtInput,{name:\"landLineNumber\",value:form===null||form===void 0?void 0:form.landLineNumber,label:\"Phone\",errors:errors.landLineNumber,type:\"text\",required:true,onChange:handleChange,datatype:\"TEL_NUM\",pattern:\"###-##-#######\",description:\"Tel Format 971-xx-xxxxxxx\",placeholder:\"Phone\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"\"},(errors===null||errors===void 0?void 0:errors.errorGeneral)&&/*#__PURE__*/React.createElement(IonText,{color:\"danger\",className:\"validation-message genralError\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"ion-padding-start\"},errors===null||errors===void 0?void 0:errors.errorGeneral))),/*#__PURE__*/React.createElement(\"div\",{className:\"button-div\"},/*#__PURE__*/React.createElement(\"div\",{className:\"button-holder\",onClick:addOrUpdateuserDetails},/*#__PURE__*/React.createElement(IonIcon,{slot:\"icon-only\",icon:arrowForwardOutline}))))))));}export default ConfirmDetails;","map":{"version":3,"sources":["D:/DT/ptmsCheckOutNew/New-MobileApp/src/pages/confirmDetails/ConfirmDetails.tsx"],"names":["IonContent","IonIcon","IonLabel","IonList","IonPage","IonText","arrowForwardOutline","React","useState","TxtInput","confirmUserDetails","isEmpty","EndPoints","ConfirmDetails","confirmDetailsProps","form","setForm","location","state","validate","setvalidate","errors","setErrors","addOrUpdateuserDetails","errs","firstName","lastName","email","mobileNumber","landLineNumber","confirmDetails","response","confirmDetailUrl","success","history","push","direction","errorGeneral","data","message","handleChange","e","value","target","name","userName"],"mappings":"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","sourcesContent":["import {\r\n  IonContent,\r\n  IonIcon,\r\n  IonLabel,\r\n  IonList,\r\n  IonPage,\r\n  IonText,\r\n} from \"@ionic/react\";\r\nimport { arrowForwardOutline } from \"ionicons/icons\";\r\nimport React, { useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport TxtInput from \"../../components/txtinput/TxtInput\";\r\nimport { confirmUserDetails } from \"../../services/EndPointApi\";\r\nimport { isEmpty } from \"../../util/Utilities\";\r\nimport * as EndPoints from \"../../util/EndPointURL\";\r\n\r\nimport \"./ConfirmDetails.scss\";\r\n\r\ninterface OwnProps extends RouteComponentProps {}\r\n\r\ninterface LoginProps extends OwnProps {}\r\n\r\nfunction ConfirmDetails(confirmDetailsProps) {\r\n  const [form, setForm] = useState(confirmDetailsProps.location.state);\r\n  const [validate, setvalidate] = useState();\r\n  const [errors, setErrors] = useState<any>({});\r\n\r\n  const addOrUpdateuserDetails = async () => {\r\n    let errs: any = {};\r\n    if (isEmpty(form.firstName)) {\r\n      errs.firstName = \"First Name is required\";\r\n    }\r\n    if (isEmpty(form.lastName)) {\r\n      errs.lastName = \"Last Name is required\";\r\n    }\r\n\r\n    if (isEmpty(form.email)) {\r\n      errs.email = \"Email is required\";\r\n    }\r\n    if (isEmpty(form.mobileNumber)) {\r\n      errs.mobileNumber = \"Mobile number is required\";\r\n    }\r\n    if (isEmpty(form.landLineNumber)) {\r\n      errs.landLineNumber = \"Phone number is required\";\r\n    }\r\n    // if (!validate) {\r\n    //   console.log(validate);\r\n    // } else\r\n    if (\r\n      form.firstName &&\r\n      form.lastName &&\r\n      form.email &&\r\n      form.mobileNumber &&\r\n      form.landLineNumber\r\n    ) {\r\n      form.confirmDetails = true;\r\n      var response = await confirmUserDetails(EndPoints.confirmDetailUrl, form);\r\n      //var result = response.data?.data?.dataItems[0];\r\n      if (response && response?.success) {\r\n        confirmDetailsProps.history.push(\"/tabs/\", { direction: \"none\" });\r\n      } else {\r\n        errs.errorGeneral = response?.data?.message || \"Error occured\";\r\n      }\r\n    }\r\n    setErrors(errs);\r\n  };\r\n\r\n  const handleChange = (e: any, value: any, validate: any) => {\r\n    setvalidate(validate);\r\n    setForm({\r\n      ...form,\r\n      [e.target.name]: value,\r\n    });\r\n    setErrors({ ...errors, [e.target.name]: \"\" });\r\n  };\r\n\r\n  return (\r\n    <IonPage id=\"profilePage\">\r\n      <IonContent>\r\n        <div className=\"main-container\">\r\n          <div className=\"login-logo\">\r\n            <img src=\"assets/img/dubai_trade_logo.png\" alt=\"Ionic logo\" />\r\n          </div>\r\n          <div className=\"form-content\">\r\n            <div className=\"login-box-header\"></div>\r\n            <form\r\n              noValidate\r\n              onSubmit={addOrUpdateuserDetails}\r\n              autoComplete=\"off\"\r\n            >\r\n              <IonList className=\"form-section\">\r\n                <div className=\"welcome-note\">\r\n                  Dear {form?.userName},\r\n                  <br />\r\n                  Welcome to DT Trucking.\r\n                  <br />\r\n                  <br />\r\n                  Kindly confirm your contact details in order to proceed with\r\n                  booking.\r\n                </div>\r\n\r\n                <TxtInput\r\n                  name={\"firstName\"}\r\n                  value={form?.firstName}\r\n                  label=\"First Name\"\r\n                  errors={errors.firstName}\r\n                  type=\"text\"\r\n                  required={true}\r\n                  onChange={handleChange}\r\n                  datatype=\"TEXT\"\r\n                  placeholder=\"First Name\"\r\n                />\r\n                <TxtInput\r\n                  name={\"lastName\"}\r\n                  value={form?.lastName}\r\n                  label=\"Last Name\"\r\n                  errors={errors.lastName}\r\n                  type=\"text\"\r\n                  required={true}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Last Name\"\r\n                />\r\n                <TxtInput\r\n                  name={\"email\"}\r\n                  value={form?.email}\r\n                  label=\"Email\"\r\n                  errors={errors.email}\r\n                  type=\"email\"\r\n                  required={true}\r\n                  onChange={handleChange}\r\n                  description=\"Email Format abc@xyz.com\"\r\n                  placeholder=\"Email\"\r\n                />\r\n                <TxtInput\r\n                  name={\"mobileNumber\"}\r\n                  value={form?.mobileNumber}\r\n                  label=\"Mobile\"\r\n                  errors={errors.mobileNumber}\r\n                  type=\"text\"\r\n                  required={true}\r\n                  onChange={handleChange}\r\n                  datatype=\"TEL_NUM\"\r\n                  pattern=\"###-##-#######\"\r\n                  description=\"Tel Format 971-xx-xxxxxxx\"\r\n                  placeholder=\"Mobile\"\r\n                />\r\n                <TxtInput\r\n                  name={\"landLineNumber\"}\r\n                  value={form?.landLineNumber}\r\n                  label=\"Phone\"\r\n                  errors={errors.landLineNumber}\r\n                  type=\"text\"\r\n                  required={true}\r\n                  onChange={handleChange}\r\n                  datatype=\"TEL_NUM\"\r\n                  pattern=\"###-##-#######\"\r\n                  description=\"Tel Format 971-xx-xxxxxxx\"\r\n                  placeholder=\"Phone\"\r\n                />\r\n              </IonList>\r\n\r\n              <div className=\"\">\r\n                {errors?.errorGeneral && (\r\n                  <IonText\r\n                    color=\"danger\"\r\n                    className=\"validation-message genralError\"\r\n                  >\r\n                    <IonLabel className=\"ion-padding-start\">\r\n                      {errors?.errorGeneral}\r\n                    </IonLabel>\r\n                  </IonText>\r\n                )}\r\n              </div>\r\n              <div className=\"button-div\">\r\n                <div className=\"button-holder\" onClick={addOrUpdateuserDetails}>\r\n                  <IonIcon slot=\"icon-only\" icon={arrowForwardOutline} />\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n}\r\n\r\nexport default ConfirmDetails;\r\n"]},"metadata":{},"sourceType":"module"}