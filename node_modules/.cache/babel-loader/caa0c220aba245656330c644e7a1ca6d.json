{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{IonContent,IonPage,IonInfiniteScroll,IonInfiniteScrollContent,IonRow,IonGrid}from\"@ionic/react\";import BookingCard from\"./bookingCard/BookingCard\";import*as EndPointURL from\"../../../util/EndPointURL\";import{httpGetCallWithoutHeader}from\"../../../services/EndPointApi\";import Header from\"../../../components/Header\";import Store from\"../../../redux/Store\";import{chevronDownOutline}from\"ionicons/icons\";import TopMenu from\"../../../components/topMenu/TopMenu\";// import PaymentSuccess from \"./PaymentSuccess\";\n// import PaymentFailed from \"./PaymentFailed\";\n// import PaymentPending from \"./PaymentPending\";\n// import Footer from \"./Footer\";\nimport\"./BookingDetails.scss\";import MainTabs from\"../../MainTabs\";import SlideUpModal from\"../../../components/PopUp/SlideUpModal\";import SearchBoeByDate from\"../../../components/PopUp/SearchBoeByDate\";import SearchBooking from'./searchBooking/searchBooking';import{updatePaymentStatus}from\"../../../redux/actions/AllActions\";import Success from\"../../PaymentStatus/Success\";import Fail from\"../../PaymentStatus/Fail\";import Pending from\"../../PaymentStatus/Pending\";var pageNumber=0;export default function MyBookingDetails(props){console.log(\"MyBookingDetails\",props);const blankIcon={name:\"\",slot:\"\",class:\"\",iconClick:()=>console.log()};const[result,setResult]=useState([]);const[disableInfiniteScroll,setDisableInfiniteScroll]=useState(false);const[title,setTitle]=useState(\"\");const[requestStatus,setRequestStatus]=useState(\"\");const[paymentPage,setPaymentPage]=useState(\"\");const[referenceNumber,setReferenceNumber]=useState();const[agent,setAgent]=useState();const[sortOrderDate,setSortOrderDate]=useState(\"DESC\");const[sortOrderAmount,setSortOrderAmount]=useState(\"ASC\");const[showModal,setShowModal]=useState(false);const[searchClick,isSearchClick]=useState(false);// const [seachValue, setSearchValue] = useState<string>(\"\");\nconst[icon,setIcon]=useState(blankIcon);const[screen,setscreen]=useState({});const getTitle=status=>{switch(status){case\"ALL\":setTitle(\"ALL BOOKINGS\");break;case\"PODUPL\":setTitle(\"VERIFY POD'S\");break;case\"INVSUBMT\":setTitle(\"VERIFY INVOICES\");break;default:setTitle(\"\");}};const onCardClick=item=>{console.log(\"onCardClick\",item);var userType=Store.getState().CheckUserStatus.user.userType;let bookingDetails={bookingNumber:item===null||item===void 0?void 0:item.bookingNumber,requesterName:item===null||item===void 0?void 0:item.requesterName,requesterContact:item===null||item===void 0?void 0:item.requesterContact,importerComments:item===null||item===void 0?void 0:item.importerComments,// totalAmount: item?.amountPaid,\ntotalAmount:item===null||item===void 0?void 0:item.totalAmount,truckCount:item===null||item===void 0?void 0:item.noOfTrucks,containerCount:item===null||item===void 0?void 0:item.noOfContainers,userType:userType,cardStatus:props.match.params.status,bookingStatus:item===null||item===void 0?void 0:item.statusCode};props.history.push(\"/containerDetails\",{bookingDetails:bookingDetails});};// useEffect(()=>{\n//   console.log(seachValue)\n//   onSearchBooking(seachValue) \n// },[seachValue])\nuseEffect(()=>{Store.subscribe(()=>{console.log(\"Subscribed to store\",Store.getState().VariableValues.paymentStatus);setscreen(Store.getState().VariableValues.paymentStatus);});return()=>{console.log(\"destory\");let paymentStatus=updatePaymentStatus({status:\"\",reference_num:0});Store.dispatch(paymentStatus);};// setscreen(Store.getState().VariableValues.paymentStatus);\nconsole.log(\"calling store\",screen);},[]);useEffect(()=>{Store.subscribe(()=>{setAgent(Store.getState().CheckUserStatus.user.selectedAgent);});console.log(\"Store\",Store.getState().CheckUserStatus.user.selectedAgent);var parameter=\"\";pageNumber=0;fetchData(parameter);},[agent]);const footerProps={locationProps:props.history};const fetchData=async function(param){console.log(arguments.length<=1?undefined:arguments[1]);const key=props.match.params.status;setRequestStatus(key);getTitle(key);if(!param){param=key==\"ALL\"?\"sortOrder=\".concat(sortOrderDate,\"&sortCol=1&pgSize=10&pgNo=0&locale=en\"):\"statusCode=\".concat(key,\"&sortOrder=\").concat(sortOrderDate,\"&sortCol=1&pgSize=10&pgNo=0&locale=en\");}let appUrl=\"\".concat(EndPointURL.bookingDetails,\"&\").concat(param);var response=await httpGetCallWithoutHeader(appUrl);console.log(\"BookingDetails fetchdata\",response);if(await response.success){(arguments.length<=1?undefined:arguments[1])?setResult([...response.data.elements]):setResult([...result,...response.data.elements]);console.log(response.data.elements);setDisableInfiniteScroll(response.data.elements.length<10);}};async function searchNext($event){pageNumber=pageNumber+1;const key=props.match.params.status;var param=\"sortOrder=\".concat(sortOrderDate,\"&sortCol=1&pgSize=10&pgNo=\").concat(pageNumber,\"&locale=en\");await fetchData(param);$event.target.complete();}const goBack=()=>{props.history.push(\"/tabs/status\");};const onStatusChange=async status=>{let param=\"status=\".concat(status,\"&pgSize=10&pgNo=0&locale=en\");await fetchData(param,true);};// const onSearchBooking = async (bookingNumber) => {\n//   if (seachValue !== \"\") {\n//     let param = `bookingNumber=${bookingNumber}&pgSize=10&pgNo=0&locale=en`;\n//     await fetchData(param, true);\n//   }\n// };\nconst onSearchBooking=async bookingNumber=>{// if (bookingNumber !== \"\") {\nlet param=\"bookingNumber=\".concat(bookingNumber,\"&pgSize=10&pgNo=0&locale=en\");await fetchData(param,true);// }else{\n//   setResult([])\n// }\n};const onSort=async column=>{let sortOrder;if(column==1){sortOrder=sortOrderDate==\"ASC\"?\"DESC\":\"ASC\";setSortOrderDate(sortOrder);}else{sortOrder=sortOrderAmount==\"ASC\"?\"DESC\":\"ASC\";setSortOrderAmount(sortOrder);}let param=\"sortOrder=\".concat(sortOrder,\"&sortCol=\").concat(column,\"&pgSize=10&pgNo=0&locale=en\");await fetchData(param,true);};const onDateSearch=async(fromDate,toDate)=>{if(fromDate&&toDate){let param=\"fromDate=\".concat(fromDate,\"&toDate=\").concat(toDate,\"&pgSize=10&pgNo=0&locale=en\");await fetchData(param,true);}};const topMenuItems=[{name:\"\",src:\"filter\",slot:\"\",type:\"button\",clickedOnTopMenu:()=>{setShowModal(true);}},{name:\"Booked Status\",icon:chevronDownOutline,slot:\"end\",type:\"dropDown\",list:[{label:\"Pending Payment\",value:\"PPAY\"},{label:\"Failed Payment\",value:\"FPAY\"},{label:\"Transporter Pending\",value:\"SUCC\"},{label:\"Transporter Confirmed\",value:\"TRANSCONF\"},{label:\"MT IN Delivered\",value:\"FPAY\"}],clickedOnTopMenu:e=>{console.log(\"clicked2\",e);onStatusChange(e.value);}},{name:\"Booked on\",slot:\"start\",src:\"filter-down-arrow\",rotate:sortOrderDate==\"ASC\"?\"rotate(180deg)\":\"\",size:\"0.7rem\",type:\"button\",clickedOnTopMenu:()=>onSort(1)},{name:\"Amount\",slot:\"start\",src:\"filter-down-arrow\",rotate:sortOrderAmount==\"ASC\"?\"rotate(180deg)\":\"\",size:\"0.7rem\",type:\"button\",clickedOnTopMenu:()=>onSort(5)}];// function SearchBooking() {\n//   console.log(\"searchBooking\")\n//   return (\n//     <div>\n//       <IonToolbar className=\"border-bottom-booking\">\n//         <IonInput\n//           placeholder={\"Search with Booking Number\"}\n//           type=\"search\"\n//           value={seachValue}\n//           className=\"input-box\"\n//           // onIonBlur={() => onSearchBooking(seachValue)}\n//           onIonChange={(e) => setSearchValue(e.detail.value!)}\n//         ></IonInput>\n//         {\n//         seachValue == \"\" ? (\n//           <IonButtons slot=\"end\" className=\"search-icon \">\n//             <IonIcon slot=\"icon-only\" icon={search} />\n//           </IonButtons>\n//         ) : (\n//           <IonButtons slot=\"end\">\n//             <IonLabel\n//               className=\"search-clear\"\n//               onClick={() => {\n//                 setSearchValue(\"\");\n//                 fetchData(\"\");\n//               }}\n//             >\n//               Clear\n//             </IonLabel>\n//           </IonButtons>\n//         )}\n//       </IonToolbar>\n//     </div>\n//   );\n// }\nreturn/*#__PURE__*/React.createElement(IonPage,{id:\"booking-page\"},/*#__PURE__*/React.createElement(Header,{label:title,action:\"search\",customBack:true,backClick:goBack,showAgent:true,agentHeader:true,searchClick:()=>{isSearchClick(!searchClick);}}),/*#__PURE__*/React.createElement(IonContent,{fullscreen:true,\"padding-top\":true,scrollEvents:true,hidden:paymentPage!==\"\",className:\"page-content\"},screen.status===\"\"&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(SlideUpModal,{showModal:showModal,openOrCloseModal:status=>setShowModal(status),content:/*#__PURE__*/React.createElement(SearchBoeByDate,{openOrCloseModalInsearch:(modalStatus,fromDate,toDate)=>{setShowModal(modalStatus);onDateSearch(fromDate,toDate);},headerName:\"Booked On Date Filter\"})}),/*#__PURE__*/React.createElement(IonRow,{className:\"horizontal-scroll\"},searchClick?/*#__PURE__*/ // <SearchBooking />\nReact.createElement(SearchBooking,{onSearchBooking:onSearchBooking}):/*#__PURE__*/React.createElement(TopMenu,{topMenuProps:topMenuItems})),/*#__PURE__*/React.createElement(\"div\",{className:\"decl-count\"},\" Displaying \",result.length,\" bookings\"),/*#__PURE__*/React.createElement(IonGrid,{\"margin-top\":true},result.map((item,id)=>{var _item$totalAmount;return/*#__PURE__*/React.createElement(BookingCard,{status:requestStatus,key:id,town:item===null||item===void 0?void 0:item.containersToTown,yard:item===null||item===void 0?void 0:item.containersInYard,delivered:item===null||item===void 0?void 0:item.containersDelivered,completed:item===null||item===void 0?void 0:item.containersCompleted,bookingNumber:item===null||item===void 0?void 0:item.bookingNumber,amount:(_item$totalAmount=item===null||item===void 0?void 0:item.totalAmount)!==null&&_item$totalAmount!==void 0?_item$totalAmount:\"0 AED\",bookedOn:item===null||item===void 0?void 0:item.bookedOn,noOfContainers:item===null||item===void 0?void 0:item.noOfContainers// countTitle={title}\n,paymentStatus:item===null||item===void 0?void 0:item.statusCode,noOfTrucks:item.noOfTrucks,clickCard:()=>onCardClick(item),paymentClick:e=>{setPaymentPage(e);setReferenceNumber(item===null||item===void 0?void 0:item.bookingNumber);}});})),/*#__PURE__*/React.createElement(IonInfiniteScroll,{threshold:\"100px\",disabled:disableInfiniteScroll,onIonInfinite:e=>searchNext(e)},/*#__PURE__*/React.createElement(IonInfiniteScrollContent,{loadingText:\"Loading more...\"}))),screen.status===\"SUCC\"&&/*#__PURE__*/React.createElement(Success,{txnId:screen.reference_num}),screen.status===\"FAIL\"&&/*#__PURE__*/React.createElement(Fail,{txnId:screen.reference_num}),screen.status===\"PEND\"&&/*#__PURE__*/React.createElement(Pending,{txnId:screen.reference_num})),/*#__PURE__*/React.createElement(IonContent,{style:{maxHeight:\"86px\"}},/*#__PURE__*/React.createElement(MainTabs,{tab:\"status\"})));}","map":{"version":3,"sources":["D:/DT/ptmsCheckOutNew/New-MobileApp/src/pages/myBooking/bookingDetails/BookingDetails.tsx"],"names":["React","useEffect","useState","IonContent","IonPage","IonInfiniteScroll","IonInfiniteScrollContent","IonRow","IonGrid","BookingCard","EndPointURL","httpGetCallWithoutHeader","Header","Store","chevronDownOutline","TopMenu","MainTabs","SlideUpModal","SearchBoeByDate","SearchBooking","updatePaymentStatus","Success","Fail","Pending","pageNumber","MyBookingDetails","props","console","log","blankIcon","name","slot","class","iconClick","result","setResult","disableInfiniteScroll","setDisableInfiniteScroll","title","setTitle","requestStatus","setRequestStatus","paymentPage","setPaymentPage","referenceNumber","setReferenceNumber","agent","setAgent","sortOrderDate","setSortOrderDate","sortOrderAmount","setSortOrderAmount","showModal","setShowModal","searchClick","isSearchClick","icon","setIcon","screen","setscreen","getTitle","status","onCardClick","item","userType","getState","CheckUserStatus","user","bookingDetails","bookingNumber","requesterName","requesterContact","importerComments","totalAmount","truckCount","noOfTrucks","containerCount","noOfContainers","cardStatus","match","params","bookingStatus","statusCode","history","push","subscribe","VariableValues","paymentStatus","reference_num","dispatch","selectedAgent","parameter","fetchData","footerProps","locationProps","param","key","appUrl","response","success","data","elements","length","searchNext","$event","target","complete","goBack","onStatusChange","onSearchBooking","onSort","column","sortOrder","onDateSearch","fromDate","toDate","topMenuItems","src","type","clickedOnTopMenu","list","label","value","e","rotate","size","modalStatus","map","id","containersToTown","containersInYard","containersDelivered","containersCompleted","bookedOn","maxHeight"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OACEC,UADF,CAEEC,OAFF,CAGEC,iBAHF,CAIEC,wBAJF,CAKEC,MALF,CAMEC,OANF,KAaO,cAbP,CAcA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,2BAA7B,CACA,OAASC,wBAAT,KAAyC,+BAAzC,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,sBAAlB,CACA,OAASC,kBAAT,KAA2C,gBAA3C,CACA,MAAOC,CAAAA,OAAP,KAAoB,qCAApB,CACA;AACA;AACA;AACA;AACA,MAAO,uBAAP,CACA,MAAOC,CAAAA,QAAP,KAAqB,gBAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,wCAAzB,CACA,MAAOC,CAAAA,eAAP,KAA4B,2CAA5B,CAEA,MAAOC,CAAAA,aAAP,KAA0B,+BAA1B,CACA,OAASC,mBAAT,KAAoC,mCAApC,CACA,MAAOC,CAAAA,OAAP,KAAoB,6BAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,0BAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,6BAApB,CAGA,GAAIC,CAAAA,UAAU,CAAG,CAAjB,CACA,cAAe,SAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAC9CC,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAA+BF,KAA/B,EACA,KAAMG,CAAAA,SAAS,CAAG,CAChBC,IAAI,CAAE,EADU,CAEhBC,IAAI,CAAE,EAFU,CAGhBC,KAAK,CAAE,EAHS,CAIhBC,SAAS,CAAE,IAAMN,OAAO,CAACC,GAAR,EAJD,CAAlB,CAQA,KAAM,CAACM,MAAD,CAASC,SAAT,EAAsBjC,QAAQ,CAAC,EAAD,CAApC,CACA,KAAM,CAACkC,qBAAD,CAAwBC,wBAAxB,EACJnC,QAAQ,CAAU,KAAV,CADV,CAEA,KAAM,CAACoC,KAAD,CAAQC,QAAR,EAAoBrC,QAAQ,CAAC,EAAD,CAAlC,CACA,KAAM,CAACsC,aAAD,CAAgBC,gBAAhB,EAAoCvC,QAAQ,CAAC,EAAD,CAAlD,CACA,KAAM,CAACwC,WAAD,CAAcC,cAAd,EAAgCzC,QAAQ,CAAC,EAAD,CAA9C,CACA,KAAM,CAAC0C,eAAD,CAAkBC,kBAAlB,EAAwC3C,QAAQ,EAAtD,CACA,KAAM,CAAC4C,KAAD,CAAQC,QAAR,EAAoB7C,QAAQ,EAAlC,CACA,KAAM,CAAC8C,aAAD,CAAgBC,gBAAhB,EAAoC/C,QAAQ,CAAS,MAAT,CAAlD,CACA,KAAM,CAACgD,eAAD,CAAkBC,kBAAlB,EAAwCjD,QAAQ,CAAS,KAAT,CAAtD,CACA,KAAM,CAACkD,SAAD,CAAYC,YAAZ,EAA4BnD,QAAQ,CAAU,KAAV,CAA1C,CACA,KAAM,CAACoD,WAAD,CAAcC,aAAd,EAA+BrD,QAAQ,CAAU,KAAV,CAA7C,CACA;AACA,KAAM,CAACsD,IAAD,CAAOC,OAAP,EAAkBvD,QAAQ,CAAM2B,SAAN,CAAhC,CAGC,KAAM,CAAC6B,MAAD,CAASC,SAAT,EAAsBzD,QAAQ,CAAM,EAAN,CAApC,CAID,KAAM0D,CAAAA,QAAQ,CAAIC,MAAD,EAAY,CAC3B,OAAQA,MAAR,EACE,IAAK,KAAL,CACEtB,QAAQ,CAAC,cAAD,CAAR,CACA,MACF,IAAK,QAAL,CACEA,QAAQ,CAAC,cAAD,CAAR,CACA,MACF,IAAK,UAAL,CACEA,QAAQ,CAAC,iBAAD,CAAR,CACA,MACF,QACEA,QAAQ,CAAC,EAAD,CAAR,CAXJ,CAaD,CAdD,CAgBA,KAAMuB,CAAAA,WAAW,CAAIC,IAAD,EAAU,CAC5BpC,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA0BmC,IAA1B,EACA,GAAIC,CAAAA,QAAQ,CAAGnD,KAAK,CAACoD,QAAN,GAAiBC,eAAjB,CAAiCC,IAAjC,CAAsCH,QAArD,CACA,GAAII,CAAAA,cAAc,CAAG,CACnBC,aAAa,CAAEN,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEM,aADF,CAEnBC,aAAa,CAAEP,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEO,aAFF,CAGnBC,gBAAgB,CAAER,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEQ,gBAHL,CAInBC,gBAAgB,CAAET,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAES,gBAJL,CAKnB;AACAC,WAAW,CAAEV,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEU,WANA,CAOnBC,UAAU,CAAEX,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEY,UAPC,CAQnBC,cAAc,CAAEb,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEc,cARH,CASnBb,QAAQ,CAAEA,QATS,CAUnBc,UAAU,CAAEpD,KAAK,CAACqD,KAAN,CAAYC,MAAZ,CAAmBnB,MAVZ,CAWnBoB,aAAa,CAAElB,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEmB,UAXF,CAArB,CAaAxD,KAAK,CAACyD,OAAN,CAAcC,IAAd,CAAmB,mBAAnB,CAAwC,CACtChB,cAAc,CAAGA,cADqB,CAAxC,EAGD,CAnBD,CAsBA;AACA;AACA;AACA;AAEAnE,SAAS,CAAC,IAAM,CACdY,KAAK,CAACwE,SAAN,CAAgB,IAAM,CACpB1D,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAkCf,KAAK,CAACoD,QAAN,GAAiBqB,cAAjB,CAAgCC,aAAlE,EACA5B,SAAS,CAAC9C,KAAK,CAACoD,QAAN,GAAiBqB,cAAjB,CAAgCC,aAAjC,CAAT,CACD,CAHD,EAKA,MAAO,IAAM,CACX5D,OAAO,CAACC,GAAR,CAAY,SAAZ,EACA,GAAI2D,CAAAA,aAAa,CAAGnE,mBAAmB,CAAC,CAAEyC,MAAM,CAAE,EAAV,CAAc2B,aAAa,CAAE,CAA7B,CAAD,CAAvC,CACA3E,KAAK,CAAC4E,QAAN,CAAeF,aAAf,EACD,CAJD,CAMA;AACA5D,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6B8B,MAA7B,EACD,CAdQ,CAcN,EAdM,CAAT,CAgBAzD,SAAS,CAAC,IAAM,CACdY,KAAK,CAACwE,SAAN,CAAgB,IAAM,CACpBtC,QAAQ,CAAClC,KAAK,CAACoD,QAAN,GAAiBC,eAAjB,CAAiCC,IAAjC,CAAsCuB,aAAvC,CAAR,CACD,CAFD,EAGA/D,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBf,KAAK,CAACoD,QAAN,GAAiBC,eAAjB,CAAiCC,IAAjC,CAAsCuB,aAA3D,EACA,GAAIC,CAAAA,SAAS,CAAG,EAAhB,CACAnE,UAAU,CAAG,CAAb,CACAoE,SAAS,CAACD,SAAD,CAAT,CACD,CARQ,CAQN,CAAC7C,KAAD,CARM,CAAT,CAUA,KAAM+C,CAAAA,WAAW,CAAG,CAClBC,aAAa,CAAEpE,KAAK,CAACyD,OADH,CAApB,CAIA,KAAMS,CAAAA,SAAS,CAAG,eAAOG,KAAP,CAA8B,CAC9CpE,OAAO,CAACC,GAAR,6CACA,KAAMoE,CAAAA,GAAG,CAAGtE,KAAK,CAACqD,KAAN,CAAYC,MAAZ,CAAmBnB,MAA/B,CACApB,gBAAgB,CAACuD,GAAD,CAAhB,CACApC,QAAQ,CAACoC,GAAD,CAAR,CACA,GAAI,CAACD,KAAL,CAAY,CACVA,KAAK,CACHC,GAAG,EAAI,KAAP,qBACiBhD,aADjB,+DAEkBgD,GAFlB,uBAEmChD,aAFnC,yCADF,CAID,CAED,GAAIiD,CAAAA,MAAM,WAAMvF,WAAW,CAAC0D,cAAlB,aAAoC2B,KAApC,CAAV,CAEA,GAAIG,CAAAA,QAAQ,CAAG,KAAMvF,CAAAA,wBAAwB,CAACsF,MAAD,CAA7C,CACAtE,OAAO,CAACC,GAAR,CAAY,0BAAZ,CAAwCsE,QAAxC,EACA,GAAI,KAAMA,CAAAA,QAAQ,CAACC,OAAnB,CAA4B,CAC1B,6CACIhE,SAAS,CAAC,CAAC,GAAG+D,QAAQ,CAACE,IAAT,CAAcC,QAAlB,CAAD,CADb,CAEIlE,SAAS,CAAC,CAAC,GAAGD,MAAJ,CAAY,GAAGgE,QAAQ,CAACE,IAAT,CAAcC,QAA7B,CAAD,CAFb,CAGA1E,OAAO,CAACC,GAAR,CAAYsE,QAAQ,CAACE,IAAT,CAAcC,QAA1B,EACAhE,wBAAwB,CAAC6D,QAAQ,CAACE,IAAT,CAAcC,QAAd,CAAuBC,MAAvB,CAAgC,EAAjC,CAAxB,CACD,CACF,CAvBD,CAyBA,cAAeC,CAAAA,UAAf,CAA0BC,MAA1B,CAAqD,CACnDhF,UAAU,CAAGA,UAAU,CAAG,CAA1B,CACA,KAAMwE,CAAAA,GAAG,CAAGtE,KAAK,CAACqD,KAAN,CAAYC,MAAZ,CAAmBnB,MAA/B,CACA,GAAIkC,CAAAA,KAAK,qBAAgB/C,aAAhB,sCAA0DxB,UAA1D,cAAT,CACA,KAAMoE,CAAAA,SAAS,CAACG,KAAD,CAAf,CACCS,MAAM,CAACC,MAAR,CAAgDC,QAAhD,GACD,CAED,KAAMC,CAAAA,MAAM,CAAG,IAAM,CACnBjF,KAAK,CAACyD,OAAN,CAAcC,IAAd,CAAmB,cAAnB,EACD,CAFD,CAIA,KAAMwB,CAAAA,cAAc,CAAG,KAAO/C,CAAAA,MAAP,EAAkB,CACvC,GAAIkC,CAAAA,KAAK,kBAAalC,MAAb,+BAAT,CACA,KAAM+B,CAAAA,SAAS,CAACG,KAAD,CAAQ,IAAR,CAAf,CACD,CAHD,CAKA;AACA;AACA;AACA;AACA;AACA;AAEA,KAAMc,CAAAA,eAAe,CAAG,KAAOxC,CAAAA,aAAP,EAAyB,CAC/C;AACE,GAAI0B,CAAAA,KAAK,yBAAoB1B,aAApB,+BAAT,CACA,KAAMuB,CAAAA,SAAS,CAACG,KAAD,CAAQ,IAAR,CAAf,CACF;AACA;AACA;AACD,CAPD,CASA,KAAMe,CAAAA,MAAM,CAAG,KAAOC,CAAAA,MAAP,EAAkB,CAC/B,GAAIC,CAAAA,SAAJ,CACA,GAAID,MAAM,EAAI,CAAd,CAAiB,CACfC,SAAS,CAAGhE,aAAa,EAAI,KAAjB,CAAyB,MAAzB,CAAkC,KAA9C,CACAC,gBAAgB,CAAC+D,SAAD,CAAhB,CACD,CAHD,IAGO,CACLA,SAAS,CAAG9D,eAAe,EAAI,KAAnB,CAA2B,MAA3B,CAAoC,KAAhD,CACAC,kBAAkB,CAAC6D,SAAD,CAAlB,CACD,CAED,GAAIjB,CAAAA,KAAK,qBAAgBiB,SAAhB,qBAAqCD,MAArC,+BAAT,CACA,KAAMnB,CAAAA,SAAS,CAACG,KAAD,CAAQ,IAAR,CAAf,CACD,CAZD,CAcA,KAAMkB,CAAAA,YAAY,CAAG,MAAOC,QAAP,CAAiBC,MAAjB,GAA4B,CAC/C,GAAID,QAAQ,EAAIC,MAAhB,CAAwB,CACtB,GAAIpB,CAAAA,KAAK,oBAAemB,QAAf,oBAAkCC,MAAlC,+BAAT,CACA,KAAMvB,CAAAA,SAAS,CAACG,KAAD,CAAQ,IAAR,CAAf,CACD,CACF,CALD,CAOA,KAAMqB,CAAAA,YAAY,CAAG,CACnB,CACEtF,IAAI,CAAE,EADR,CAEEuF,GAAG,CAAE,QAFP,CAGEtF,IAAI,CAAE,EAHR,CAIEuF,IAAI,CAAE,QAJR,CAKEC,gBAAgB,CAAE,IAAM,CACtBlE,YAAY,CAAC,IAAD,CAAZ,CACD,CAPH,CADmB,CAUnB,CACEvB,IAAI,CAAE,eADR,CAEE0B,IAAI,CAAE1C,kBAFR,CAGEiB,IAAI,CAAE,KAHR,CAIEuF,IAAI,CAAE,UAJR,CAKEE,IAAI,CAAE,CACJ,CAAEC,KAAK,CAAE,iBAAT,CAA4BC,KAAK,CAAE,MAAnC,CADI,CAEJ,CAAED,KAAK,CAAE,gBAAT,CAA2BC,KAAK,CAAE,MAAlC,CAFI,CAGJ,CAAED,KAAK,CAAE,qBAAT,CAAgCC,KAAK,CAAE,MAAvC,CAHI,CAIJ,CAAED,KAAK,CAAE,uBAAT,CAAkCC,KAAK,CAAE,WAAzC,CAJI,CAKJ,CAAED,KAAK,CAAE,iBAAT,CAA4BC,KAAK,CAAE,MAAnC,CALI,CALR,CAYEH,gBAAgB,CAAGI,CAAD,EAAO,CACvBhG,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwB+F,CAAxB,EACAf,cAAc,CAACe,CAAC,CAACD,KAAH,CAAd,CACD,CAfH,CAVmB,CA2BnB,CACE5F,IAAI,CAAE,WADR,CAEEC,IAAI,CAAE,OAFR,CAGEsF,GAAG,CAAE,mBAHP,CAIEO,MAAM,CAAE5E,aAAa,EAAI,KAAjB,CAAyB,gBAAzB,CAA4C,EAJtD,CAKE6E,IAAI,CAAE,QALR,CAMEP,IAAI,CAAE,QANR,CAOEC,gBAAgB,CAAE,IAAMT,MAAM,CAAC,CAAD,CAPhC,CA3BmB,CAoCnB,CACEhF,IAAI,CAAE,QADR,CAEEC,IAAI,CAAE,OAFR,CAGEsF,GAAG,CAAE,mBAHP,CAIEO,MAAM,CAAE1E,eAAe,EAAI,KAAnB,CAA2B,gBAA3B,CAA8C,EAJxD,CAKE2E,IAAI,CAAE,QALR,CAMEP,IAAI,CAAE,QANR,CAOEC,gBAAgB,CAAE,IAAMT,MAAM,CAAC,CAAD,CAPhC,CApCmB,CAArB,CA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,mBACE,oBAAC,OAAD,EAAS,EAAE,CAAC,cAAZ,eACE,oBAAC,MAAD,EACE,KAAK,CAAExE,KADT,CAEE,MAAM,CAAC,QAFT,CAGE,UAAU,CAAE,IAHd,CAIE,SAAS,CAAEqE,MAJb,CAKE,SAAS,CAAE,IALb,CAME,WAAW,CAAE,IANf,CAOE,WAAW,CAAE,IAAM,CACjBpD,aAAa,CAAC,CAACD,WAAF,CAAb,CACD,CATH,EADF,cAaE,oBAAC,UAAD,EACE,UAAU,KADZ,CAEE,kBAFF,CAGE,YAAY,CAAE,IAHhB,CAIE,MAAM,CAAEZ,WAAW,GAAK,EAJ1B,CAKE,SAAS,CAAC,cALZ,EAQEgB,MAAM,CAACG,MAAP,GAAkB,EAAlB,eACE,qDACF,oBAAC,YAAD,EACE,SAAS,CAAET,SADb,CAEE,gBAAgB,CAAGS,MAAD,EAAYR,YAAY,CAACQ,MAAD,CAF5C,CAGE,OAAO,cACL,oBAAC,eAAD,EACE,wBAAwB,CAAE,CAACiE,WAAD,CAAcZ,QAAd,CAAwBC,MAAxB,GAAmC,CAC3D9D,YAAY,CAACyE,WAAD,CAAZ,CACAb,YAAY,CAACC,QAAD,CAAWC,MAAX,CAAZ,CACD,CAJH,CAKE,UAAU,CAAC,uBALb,EAJJ,EADE,cAcF,oBAAC,MAAD,EAAQ,SAAS,CAAC,mBAAlB,EAGE7D,WAAW,eACT;AACA,oBAAC,aAAD,EACJ,eAAe,CAAEuD,eADb,EAFS,cAKT,oBAAC,OAAD,EAAS,YAAY,CAAEO,YAAvB,EARJ,CAdE,cA0BF,2BAAK,SAAS,CAAC,YAAf,iBAAyClF,MAAM,CAACoE,MAAhD,aA1BE,cA2BF,oBAAC,OAAD,EAAS,iBAAT,EACGpE,MAAM,CAAC6F,GAAP,CAAW,CAAChE,IAAD,CAAOiE,EAAP,6CACV,oBAAC,WAAD,EACE,MAAM,CAAExF,aADV,CAEE,GAAG,CAAEwF,EAFP,CAGE,IAAI,CAAEjE,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEkE,gBAHd,CAIE,IAAI,CAAElE,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEmE,gBAJd,CAKE,SAAS,CAAEnE,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEoE,mBALnB,CAME,SAAS,CAAEpE,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEqE,mBANnB,CAOE,aAAa,CAAErE,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEM,aAPvB,CAQE,MAAM,oBAAEN,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEU,WAAR,uDAAuB,OAR/B,CASE,QAAQ,CAAEV,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEsE,QATlB,CAUE,cAAc,CAAEtE,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEc,cACtB;AAXF,CAYE,aAAa,CAAEd,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEmB,UAZvB,CAaE,UAAU,CAAEnB,IAAI,CAACY,UAbnB,CAcE,SAAS,CAAE,IAAMb,WAAW,CAACC,IAAD,CAd9B,CAeE,YAAY,CAAG4D,CAAD,EAAO,CACnBhF,cAAc,CAACgF,CAAD,CAAd,CACA9E,kBAAkB,CAACkB,IAAD,SAACA,IAAD,iBAACA,IAAI,CAAEM,aAAP,CAAlB,CACD,CAlBH,EADU,EAAX,CADH,CA3BE,cAmDF,oBAAC,iBAAD,EACE,SAAS,CAAC,OADZ,CAEE,QAAQ,CAAEjC,qBAFZ,CAGE,aAAa,CAAGuF,CAAD,EAA0BpB,UAAU,CAACoB,CAAD,CAHrD,eAKE,oBAAC,wBAAD,EAA0B,WAAW,CAAC,iBAAtC,EALF,CAnDE,CATJ,CAsEIjE,MAAM,CAACG,MAAP,GAAkB,MAAlB,eAA4B,oBAAC,OAAD,EAAS,KAAK,CAAEH,MAAM,CAAC8B,aAAvB,EAtEhC,CAuED9B,MAAM,CAACG,MAAP,GAAkB,MAAlB,eAA4B,oBAAC,IAAD,EAAM,KAAK,CAAEH,MAAM,CAAC8B,aAApB,EAvE3B,CAwED9B,MAAM,CAACG,MAAP,GAAkB,MAAlB,eAA4B,oBAAC,OAAD,EAAS,KAAK,CAAEH,MAAM,CAAC8B,aAAvB,EAxE3B,CAbF,cAgHE,oBAAC,UAAD,EAAY,KAAK,CAAE,CAAE8C,SAAS,CAAE,MAAb,CAAnB,eACE,oBAAC,QAAD,EAAU,GAAG,CAAC,QAAd,EADF,CAhHF,CADF,CAsHD","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  IonContent,\r\n  IonPage,\r\n  IonInfiniteScroll,\r\n  IonInfiniteScrollContent,\r\n  IonRow,\r\n  IonGrid,\r\n  IonToolbar,\r\n  IonInput,\r\n  IonButtons,\r\n  IonIcon,\r\n  IonLabel,\r\n  IonCol,\r\n} from \"@ionic/react\";\r\nimport BookingCard from \"./bookingCard/BookingCard\";\r\nimport * as EndPointURL from \"../../../util/EndPointURL\";\r\nimport { httpGetCallWithoutHeader } from \"../../../services/EndPointApi\";\r\nimport Header from \"../../../components/Header\";\r\nimport Store from \"../../../redux/Store\";\r\nimport { chevronDownOutline, search } from \"ionicons/icons\";\r\nimport TopMenu from \"../../../components/topMenu/TopMenu\";\r\n// import PaymentSuccess from \"./PaymentSuccess\";\r\n// import PaymentFailed from \"./PaymentFailed\";\r\n// import PaymentPending from \"./PaymentPending\";\r\n// import Footer from \"./Footer\";\r\nimport \"./BookingDetails.scss\";\r\nimport MainTabs from \"../../MainTabs\";\r\nimport SlideUpModal from \"../../../components/PopUp/SlideUpModal\";\r\nimport SearchBoeByDate from \"../../../components/PopUp/SearchBoeByDate\";\r\nimport TxtInput from \"../../../components/txtinput/TxtInput\";\r\nimport SearchBooking from './searchBooking/searchBooking'\r\nimport { updatePaymentStatus } from \"../../../redux/actions/AllActions\";\r\nimport Success from \"../../PaymentStatus/Success\";\r\nimport Fail from \"../../PaymentStatus/Fail\";\r\nimport Pending from \"../../PaymentStatus/Pending\";\r\n\r\n\r\nvar pageNumber = 0;\r\nexport default function MyBookingDetails(props) {\r\n  console.log(\"MyBookingDetails\",props)\r\n  const blankIcon = {\r\n    name: \"\",\r\n    slot: \"\",\r\n    class: \"\",\r\n    iconClick: () => console.log(),\r\n  };\r\n\r\n\r\n  const [result, setResult] = useState([]);\r\n  const [disableInfiniteScroll, setDisableInfiniteScroll] =\r\n    useState<boolean>(false);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [requestStatus, setRequestStatus] = useState(\"\");\r\n  const [paymentPage, setPaymentPage] = useState(\"\");\r\n  const [referenceNumber, setReferenceNumber] = useState();\r\n  const [agent, setAgent] = useState();\r\n  const [sortOrderDate, setSortOrderDate] = useState<string>(\"DESC\");\r\n  const [sortOrderAmount, setSortOrderAmount] = useState<string>(\"ASC\");\r\n  const [showModal, setShowModal] = useState<boolean>(false);\r\n  const [searchClick, isSearchClick] = useState<boolean>(false);\r\n  // const [seachValue, setSearchValue] = useState<string>(\"\");\r\n  const [icon, setIcon] = useState<any>(blankIcon);\r\n\r\n\r\n   const [screen, setscreen] = useState<any>({});\r\n\r\n \r\n\r\n  const getTitle = (status) => {\r\n    switch (status) {\r\n      case \"ALL\":\r\n        setTitle(\"ALL BOOKINGS\");\r\n        break;\r\n      case \"PODUPL\":\r\n        setTitle(\"VERIFY POD'S\");\r\n        break;\r\n      case \"INVSUBMT\":\r\n        setTitle(\"VERIFY INVOICES\");\r\n        break;\r\n      default:\r\n        setTitle(\"\");\r\n    }\r\n  };\r\n\r\n  const onCardClick = (item) => {\r\n    console.log(\"onCardClick\",item)\r\n    var userType = Store.getState().CheckUserStatus.user.userType;\r\n    let bookingDetails = {\r\n      bookingNumber: item?.bookingNumber,\r\n      requesterName: item?.requesterName,\r\n      requesterContact: item?.requesterContact,\r\n      importerComments: item?.importerComments,\r\n      // totalAmount: item?.amountPaid,\r\n      totalAmount: item?.totalAmount,\r\n      truckCount: item?.noOfTrucks,\r\n      containerCount: item?.noOfContainers,\r\n      userType: userType,\r\n      cardStatus: props.match.params.status,\r\n      bookingStatus: item?.statusCode,\r\n    };\r\n    props.history.push(\"/containerDetails\", {\r\n      bookingDetails : bookingDetails\r\n    });\r\n  };\r\n\r\n\r\n  // useEffect(()=>{\r\n  //   console.log(seachValue)\r\n  //   onSearchBooking(seachValue) \r\n  // },[seachValue])\r\n\r\n  useEffect(() => {\r\n    Store.subscribe(() => {\r\n      console.log(\"Subscribed to store\",Store.getState().VariableValues.paymentStatus);\r\n      setscreen(Store.getState().VariableValues.paymentStatus);\r\n    });\r\n\r\n    return () => {\r\n      console.log(\"destory\")\r\n      let paymentStatus = updatePaymentStatus({ status: \"\", reference_num: 0 });\r\n      Store.dispatch(paymentStatus)\r\n    };\r\n\r\n    // setscreen(Store.getState().VariableValues.paymentStatus);\r\n    console.log(\"calling store\", screen);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    Store.subscribe(() => {\r\n      setAgent(Store.getState().CheckUserStatus.user.selectedAgent);\r\n    });\r\n    console.log(\"Store\", Store.getState().CheckUserStatus.user.selectedAgent);\r\n    var parameter = \"\";\r\n    pageNumber = 0;\r\n    fetchData(parameter);\r\n  }, [agent]);\r\n\r\n  const footerProps = {\r\n    locationProps: props.history,\r\n  };\r\n\r\n  const fetchData = async (param, ...isFilter) => {\r\n    console.log(isFilter[0]);\r\n    const key = props.match.params.status;\r\n    setRequestStatus(key);\r\n    getTitle(key);\r\n    if (!param) {\r\n      param =\r\n        key == \"ALL\"\r\n          ? `sortOrder=${sortOrderDate}&sortCol=1&pgSize=10&pgNo=0&locale=en`\r\n          : `statusCode=${key}&sortOrder=${sortOrderDate}&sortCol=1&pgSize=10&pgNo=0&locale=en`;\r\n    }\r\n\r\n    let appUrl = `${EndPointURL.bookingDetails}&${param}`;\r\n\r\n    var response = await httpGetCallWithoutHeader(appUrl);\r\n    console.log(\"BookingDetails fetchdata\", response)\r\n    if (await response.success) {\r\n      isFilter[0]\r\n        ? setResult([...response.data.elements])\r\n        : setResult([...result, ...response.data.elements]);\r\n      console.log(response.data.elements);\r\n      setDisableInfiniteScroll(response.data.elements.length < 10);\r\n    }\r\n  };\r\n\r\n  async function searchNext($event: CustomEvent<void>) {\r\n    pageNumber = pageNumber + 1;\r\n    const key = props.match.params.status;\r\n    var param = `sortOrder=${sortOrderDate}&sortCol=1&pgSize=10&pgNo=${pageNumber}&locale=en`;\r\n    await fetchData(param);\r\n    ($event.target as HTMLIonInfiniteScrollElement).complete();\r\n  }\r\n\r\n  const goBack = () => {\r\n    props.history.push(\"/tabs/status\");\r\n  };\r\n\r\n  const onStatusChange = async (status) => {\r\n    let param = `status=${status}&pgSize=10&pgNo=0&locale=en`;\r\n    await fetchData(param, true);\r\n  };\r\n\r\n  // const onSearchBooking = async (bookingNumber) => {\r\n  //   if (seachValue !== \"\") {\r\n  //     let param = `bookingNumber=${bookingNumber}&pgSize=10&pgNo=0&locale=en`;\r\n  //     await fetchData(param, true);\r\n  //   }\r\n  // };\r\n\r\n  const onSearchBooking = async (bookingNumber) => {\r\n    // if (bookingNumber !== \"\") {\r\n      let param = `bookingNumber=${bookingNumber}&pgSize=10&pgNo=0&locale=en`;\r\n      await fetchData(param, true);\r\n    // }else{\r\n    //   setResult([])\r\n    // }\r\n  };\r\n\r\n  const onSort = async (column) => {\r\n    let sortOrder;\r\n    if (column == 1) {\r\n      sortOrder = sortOrderDate == \"ASC\" ? \"DESC\" : \"ASC\";\r\n      setSortOrderDate(sortOrder);\r\n    } else {\r\n      sortOrder = sortOrderAmount == \"ASC\" ? \"DESC\" : \"ASC\";\r\n      setSortOrderAmount(sortOrder);\r\n    }\r\n\r\n    let param = `sortOrder=${sortOrder}&sortCol=${column}&pgSize=10&pgNo=0&locale=en`;\r\n    await fetchData(param, true);\r\n  };\r\n\r\n  const onDateSearch = async (fromDate, toDate) => {\r\n    if (fromDate && toDate) {\r\n      let param = `fromDate=${fromDate}&toDate=${toDate}&pgSize=10&pgNo=0&locale=en`;\r\n      await fetchData(param, true);\r\n    }\r\n  };\r\n\r\n  const topMenuItems = [\r\n    {\r\n      name: \"\",\r\n      src: \"filter\",\r\n      slot: \"\",\r\n      type: \"button\",\r\n      clickedOnTopMenu: () => {\r\n        setShowModal(true);\r\n      },\r\n    },\r\n    {\r\n      name: \"Booked Status\",\r\n      icon: chevronDownOutline,\r\n      slot: \"end\",\r\n      type: \"dropDown\",\r\n      list: [\r\n        { label: \"Pending Payment\", value: \"PPAY\" },\r\n        { label: \"Failed Payment\", value: \"FPAY\" },\r\n        { label: \"Transporter Pending\", value: \"SUCC\" },\r\n        { label: \"Transporter Confirmed\", value: \"TRANSCONF\" },\r\n        { label: \"MT IN Delivered\", value: \"FPAY\" },\r\n      ],\r\n      clickedOnTopMenu: (e) => {\r\n        console.log(\"clicked2\", e);\r\n        onStatusChange(e.value);\r\n      },\r\n    },\r\n    {\r\n      name: \"Booked on\",\r\n      slot: \"start\",\r\n      src: \"filter-down-arrow\",\r\n      rotate: sortOrderDate == \"ASC\" ? \"rotate(180deg)\" : \"\",\r\n      size: \"0.7rem\",\r\n      type: \"button\",\r\n      clickedOnTopMenu: () => onSort(1),\r\n    },\r\n    {\r\n      name: \"Amount\",\r\n      slot: \"start\",\r\n      src: \"filter-down-arrow\",\r\n      rotate: sortOrderAmount == \"ASC\" ? \"rotate(180deg)\" : \"\",\r\n      size: \"0.7rem\",\r\n      type: \"button\",\r\n      clickedOnTopMenu: () => onSort(5),\r\n    },\r\n  ];\r\n\r\n  // function SearchBooking() {\r\n  //   console.log(\"searchBooking\")\r\n  //   return (\r\n  //     <div>\r\n  //       <IonToolbar className=\"border-bottom-booking\">\r\n  //         <IonInput\r\n  //           placeholder={\"Search with Booking Number\"}\r\n  //           type=\"search\"\r\n  //           value={seachValue}\r\n  //           className=\"input-box\"\r\n  //           // onIonBlur={() => onSearchBooking(seachValue)}\r\n  //           onIonChange={(e) => setSearchValue(e.detail.value!)}\r\n  //         ></IonInput>\r\n  //         {\r\n  //         seachValue == \"\" ? (\r\n  //           <IonButtons slot=\"end\" className=\"search-icon \">\r\n  //             <IonIcon slot=\"icon-only\" icon={search} />\r\n  //           </IonButtons>\r\n  //         ) : (\r\n  //           <IonButtons slot=\"end\">\r\n  //             <IonLabel\r\n  //               className=\"search-clear\"\r\n  //               onClick={() => {\r\n  //                 setSearchValue(\"\");\r\n  //                 fetchData(\"\");\r\n  //               }}\r\n  //             >\r\n  //               Clear\r\n  //             </IonLabel>\r\n  //           </IonButtons>\r\n  //         )}\r\n  //       </IonToolbar>\r\n  //     </div>\r\n  //   );\r\n  // }\r\n\r\n  return (\r\n    <IonPage id=\"booking-page\">\r\n      <Header\r\n        label={title}\r\n        action=\"search\"\r\n        customBack={true}\r\n        backClick={goBack}\r\n        showAgent={true}\r\n        agentHeader={true}\r\n        searchClick={() => {\r\n          isSearchClick(!searchClick);\r\n        }}\r\n      />\r\n      \r\n      <IonContent\r\n        fullscreen\r\n        padding-top\r\n        scrollEvents={true}\r\n        hidden={paymentPage !== \"\"}\r\n        className=\"page-content\"\r\n      >\r\n        { \r\n        screen.status === \"\" && (\r\n          <>\r\n        <SlideUpModal\r\n          showModal={showModal}\r\n          openOrCloseModal={(status) => setShowModal(status)}\r\n          content={\r\n            <SearchBoeByDate\r\n              openOrCloseModalInsearch={(modalStatus, fromDate, toDate) => {\r\n                setShowModal(modalStatus);\r\n                onDateSearch(fromDate, toDate);\r\n              }}\r\n              headerName=\"Booked On Date Filter\"\r\n            />\r\n          }\r\n        />\r\n        <IonRow className=\"horizontal-scroll\">\r\n        \r\n          {\r\n          searchClick ? (\r\n            // <SearchBooking />\r\n            <SearchBooking \r\n        onSearchBooking={onSearchBooking}/>\r\n          ) : (\r\n            <TopMenu topMenuProps={topMenuItems} />\r\n          )\r\n          }\r\n        </IonRow>\r\n        <div className=\"decl-count\"> Displaying {result.length} bookings</div>\r\n        <IonGrid margin-top>\r\n          {result.map((item, id) => (\r\n            <BookingCard\r\n              status={requestStatus}\r\n              key={id}\r\n              town={item?.containersToTown}\r\n              yard={item?.containersInYard}\r\n              delivered={item?.containersDelivered}\r\n              completed={item?.containersCompleted}\r\n              bookingNumber={item?.bookingNumber}\r\n              amount={item?.totalAmount ?? \"0 AED\"}\r\n              bookedOn={item?.bookedOn}\r\n              noOfContainers={item?.noOfContainers}\r\n              // countTitle={title}\r\n              paymentStatus={item?.statusCode}\r\n              noOfTrucks={item.noOfTrucks}\r\n              clickCard={() => onCardClick(item)}\r\n              paymentClick={(e) => {\r\n                setPaymentPage(e);\r\n                setReferenceNumber(item?.bookingNumber);\r\n              }}\r\n            />\r\n          ))}\r\n        </IonGrid>\r\n        <IonInfiniteScroll\r\n          threshold=\"100px\"\r\n          disabled={disableInfiniteScroll}\r\n          onIonInfinite={(e: CustomEvent<void>) => searchNext(e)}\r\n        >\r\n          <IonInfiniteScrollContent loadingText=\"Loading more...\"></IonInfiniteScrollContent>\r\n        </IonInfiniteScroll>\r\n        \r\n        </>\r\n        )}\r\n         {screen.status === \"SUCC\" && <Success txnId={screen.reference_num} />}\r\n    {screen.status === \"FAIL\" && <Fail txnId={screen.reference_num} />}\r\n    {screen.status === \"PEND\" && <Pending txnId={screen.reference_num} />}\r\n     </IonContent>\r\n     \r\n\r\n       {/* {screen.status === \"SUCC\" && <Success txnId={screen.reference_num} />}\r\n    {screen.status === \"FAIL\" && <Fail txnId={screen.reference_num} />}\r\n    {screen.status === \"PEND\" && <Pending txnId={screen.reference_num} />} */}\r\n\r\n      {/* <IonContent  fullscreen hidden={paymentPage == \"\"}>\r\n          <div hidden={paymentPage !== \"success\"}>\r\n            <PaymentSuccess \r\n            referenceNumber={referenceNumber}\r\n            locationProps={props.history}/>\r\n          </div>\r\n          <div hidden={paymentPage !== \"fail\"}>\r\n            <PaymentFailed \r\n            referenceNumber={referenceNumber}\r\n            locationProps={props.history}/>\r\n          </div>\r\n          <div hidden={paymentPage !== \"pending\"}>\r\n            <PaymentPending\r\n              hidden={true}\r\n              referenceNumber={referenceNumber}\r\n              locationProps={props.history}\r\n            />\r\n          </div>\r\n          </IonContent> */}\r\n      <IonContent style={{ maxHeight: \"86px\" }}>\r\n        <MainTabs tab=\"status\" />\r\n      </IonContent>\r\n    </IonPage>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}