{"ast":null,"code":"import{SocialSharing}from\"@ionic-native/social-sharing\";import{IonLabel}from\"@ionic/react\";import React from\"react\";import{useHistory}from\"react-router-dom\";import Icon from\"../../components/Icon\";import{HttpGetRequest}from\"../../services/HttpsServices\";import{downloadReceipt,downloadTaxInvoice}from\"../../util/EndPointURL\";import\"./PaymentStatus.scss\";const Success=_ref=>{let{txnId}=_ref;var history=useHistory();var successIconProps={name:\"success\",class:\"zoom84\"};function openDownloadForm(bookingNumber){var data={url:downloadReceipt+bookingNumber,callType:\"get\",header:{}};HttpGetRequest(data).then(result=>{if(result.success){SocialSharing.share(\"Your Payment Receipt\",\"Booking-Receipt-\"+bookingNumber,\"data:application/pdf;base64,\"+result.data,null);}});}function openReceiptForm(bookingNumber){var data={url:downloadTaxInvoice+bookingNumber,callType:\"get\",header:{}};HttpGetRequest(data).then(result=>{if(result.success){SocialSharing.share(\"Your Tax Invoice Receipt\",\"Booking-Receipt-\"+bookingNumber,\"data:application/pdf;base64,\"+result.data,null);}});}return/*#__PURE__*/React.createElement(\"div\",{className:\"success-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"icon-container\"},/*#__PURE__*/React.createElement(Icon,{iconProps:successIconProps})),/*#__PURE__*/React.createElement(\"div\",{className:\"successLabel\"},\"Your Payment is Successful\"),/*#__PURE__*/React.createElement(\"div\",{className:\"sub-label\"},\"An Email confirmation will be send to you shortly with booking details\"),/*#__PURE__*/React.createElement(\"div\",{className:\"booking-label\"},\" \",/*#__PURE__*/React.createElement(IonLabel,null,\" Booking number #\",txnId)),/*#__PURE__*/React.createElement(\"div\",{className:\"sub-label\"},\"Check your\",\" \",/*#__PURE__*/React.createElement(IonLabel,{className:\"underLine-label\",onClick:()=>history.push(\"/tabs/status\")},\"Booking Status\"),\"here\"),/*#__PURE__*/React.createElement(\"div\",{className:\"button-outline\",onClick:()=>openDownloadForm(\"props.referenceNumber\")},/*#__PURE__*/React.createElement(\"div\",{className:\"button-label\"},\"Download Receipt\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"button-outline\",onClick:()=>openReceiptForm(\"props.referenceNumber\")},/*#__PURE__*/React.createElement(\"div\",{className:\"button-label\"},\"Tax Invoice\"))));};export default Success;","map":{"version":3,"sources":["D:/DT/ptmsCheckOutNew/New-MobileApp/src/pages/PaymentStatus/Success.tsx"],"names":["SocialSharing","IonLabel","React","useHistory","Icon","HttpGetRequest","downloadReceipt","downloadTaxInvoice","Success","txnId","history","successIconProps","name","class","openDownloadForm","bookingNumber","data","url","callType","header","then","result","success","share","openReceiptForm","push"],"mappings":"AAAA,OAASA,aAAT,KAA8B,8BAA9B,CACA,OAAoBC,QAApB,KAAoC,cAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,IAAP,KAAiB,uBAAjB,CACA,OAASC,cAAT,KAA+B,8BAA/B,CACA,OAASC,eAAT,CAA0BC,kBAA1B,KAAoD,wBAApD,CACA,MAAO,sBAAP,CAMA,KAAMC,CAAAA,OAA+B,CAAG,MAAe,IAAd,CAAEC,KAAF,CAAc,MACrD,GAAIC,CAAAA,OAAO,CAAGP,UAAU,EAAxB,CACA,GAAIQ,CAAAA,gBAAgB,CAAG,CACrBC,IAAI,CAAE,SADe,CAErBC,KAAK,CAAE,QAFc,CAAvB,CAKA,QAASC,CAAAA,gBAAT,CAA0BC,aAA1B,CAAiD,CAC/C,GAAIC,CAAAA,IAAI,CAAG,CACTC,GAAG,CAAEX,eAAe,CAAGS,aADd,CAETG,QAAQ,CAAE,KAFD,CAGTC,MAAM,CAAE,EAHC,CAAX,CAKAd,cAAc,CAACW,IAAD,CAAd,CAAqBI,IAArB,CAA2BC,MAAD,EAAY,CACpC,GAAIA,MAAM,CAACC,OAAX,CAAoB,CAClBtB,aAAa,CAACuB,KAAd,CACE,sBADF,CAEE,mBAAqBR,aAFvB,CAGE,+BAAiCM,MAAM,CAACL,IAH1C,CAIE,IAJF,EAMD,CACF,CATD,EAUD,CAED,QAASQ,CAAAA,eAAT,CAAyBT,aAAzB,CAAgD,CAC9C,GAAIC,CAAAA,IAAI,CAAG,CACTC,GAAG,CAAEV,kBAAkB,CAAGQ,aADjB,CAETG,QAAQ,CAAE,KAFD,CAGTC,MAAM,CAAE,EAHC,CAAX,CAKAd,cAAc,CAACW,IAAD,CAAd,CAAqBI,IAArB,CAA2BC,MAAD,EAAY,CACpC,GAAIA,MAAM,CAACC,OAAX,CAAoB,CAClBtB,aAAa,CAACuB,KAAd,CACE,0BADF,CAEE,mBAAqBR,aAFvB,CAGE,+BAAiCM,MAAM,CAACL,IAH1C,CAIE,IAJF,EAMD,CACF,CATD,EAUD,CACD,mBACE,2BAAK,SAAS,CAAC,mBAAf,eACE,2BAAK,SAAS,CAAC,SAAf,eACE,2BAAK,SAAS,CAAC,gBAAf,eACE,oBAAC,IAAD,EAAM,SAAS,CAAEL,gBAAjB,EADF,CADF,cAIE,2BAAK,SAAS,CAAC,cAAf,+BAJF,cAKE,2BAAK,SAAS,CAAC,WAAf,2EALF,cAQE,2BAAK,SAAS,CAAC,eAAf,EACG,GADH,cAEE,oBAAC,QAAD,0BAA4BF,KAA5B,CAFF,CARF,cAYE,2BAAK,SAAS,CAAC,WAAf,eACa,GADb,cAEE,oBAAC,QAAD,EACE,SAAS,CAAC,iBADZ,CAEE,OAAO,CAAE,IAAMC,OAAO,CAACe,IAAR,CAAa,cAAb,CAFjB,mBAFF,QAZF,cAsBE,2BACE,SAAS,CAAC,gBADZ,CAEE,OAAO,CAAE,IAAMX,gBAAgB,CAAC,uBAAD,CAFjC,eAIE,2BAAK,SAAS,CAAC,cAAf,qBAJF,CAtBF,cA4BE,8BA5BF,cA6BE,2BACE,SAAS,CAAC,gBADZ,CAEE,OAAO,CAAE,IAAMU,eAAe,CAAC,uBAAD,CAFhC,eAIE,2BAAK,SAAS,CAAC,cAAf,gBAJF,CA7BF,CADF,CADF,CAwCD,CAlFD,CAmFA,cAAehB,CAAAA,OAAf","sourcesContent":["import { SocialSharing } from \"@ionic-native/social-sharing\";\r\nimport { IonButton, IonLabel } from \"@ionic/react\";\r\nimport React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Icon from \"../../components/Icon\";\r\nimport { HttpGetRequest } from \"../../services/HttpsServices\";\r\nimport { downloadReceipt, downloadTaxInvoice } from \"../../util/EndPointURL\";\r\nimport \"./PaymentStatus.scss\";\r\n\r\ninterface SuccessProps {\r\n  txnId: any;\r\n}\r\n\r\nconst Success: React.FC<SuccessProps> = ({ txnId }) => {\r\n  var history = useHistory();\r\n  var successIconProps = {\r\n    name: \"success\",\r\n    class: \"zoom84\",\r\n  };\r\n\r\n  function openDownloadForm(bookingNumber: string) {\r\n    var data = {\r\n      url: downloadReceipt + bookingNumber,\r\n      callType: \"get\",\r\n      header: {},\r\n    };\r\n    HttpGetRequest(data).then((result) => {\r\n      if (result.success) {\r\n        SocialSharing.share(\r\n          \"Your Payment Receipt\",\r\n          \"Booking-Receipt-\" + bookingNumber,\r\n          \"data:application/pdf;base64,\" + result.data,\r\n          null\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  function openReceiptForm(bookingNumber: string) {\r\n    var data = {\r\n      url: downloadTaxInvoice + bookingNumber,\r\n      callType: \"get\",\r\n      header: {},\r\n    };\r\n    HttpGetRequest(data).then((result) => {\r\n      if (result.success) {\r\n        SocialSharing.share(\r\n          \"Your Tax Invoice Receipt\",\r\n          \"Booking-Receipt-\" + bookingNumber,\r\n          \"data:application/pdf;base64,\" + result.data,\r\n          null\r\n        );\r\n      }\r\n    });\r\n  }\r\n  return (\r\n    <div className=\"success-container\">\r\n      <div className=\"content\">\r\n        <div className=\"icon-container\">\r\n          <Icon iconProps={successIconProps} />\r\n        </div>\r\n        <div className=\"successLabel\">Your Payment is Successful</div>\r\n        <div className=\"sub-label\">\r\n          An Email confirmation will be send to you shortly with booking details\r\n        </div>\r\n        <div className=\"booking-label\">\r\n          {\" \"}\r\n          <IonLabel> Booking number #{txnId}</IonLabel>\r\n        </div>\r\n        <div className=\"sub-label\">\r\n          Check your{\" \"}\r\n          <IonLabel\r\n            className=\"underLine-label\"\r\n            onClick={() => history.push(\"/tabs/status\")}\r\n          >\r\n            Booking Status\r\n          </IonLabel>\r\n          here\r\n        </div>\r\n        <div\r\n          className=\"button-outline\"\r\n          onClick={() => openDownloadForm(\"props.referenceNumber\")}\r\n        >\r\n          <div className=\"button-label\">Download Receipt</div>\r\n        </div>\r\n        <br />\r\n        <div\r\n          className=\"button-outline\"\r\n          onClick={() => openReceiptForm(\"props.referenceNumber\")}\r\n        >\r\n          <div className=\"button-label\">Tax Invoice</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Success;\r\n"]},"metadata":{},"sourceType":"module"}