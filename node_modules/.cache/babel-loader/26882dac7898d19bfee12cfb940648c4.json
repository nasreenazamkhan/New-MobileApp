{"ast":null,"code":"import{IonButton,IonLabel,IonText}from\"@ionic/react\";import moment from\"moment\";import React,{useState}from\"react\";import{lastYear,todayDate}from\"../../services/Common\";import Calendar from\"../calendar/Calendar\";import BorderWithFloatingText from\"../InputBorders/BorderWithFloatingText\";const SearchBoeByDate=_ref=>{let{openOrCloseModalInsearch,headerName,searchDates,setSearchdate}=_ref;console.log(searchDates);const[form,setForm]=useState({fromDate:{value:searchDates.fromDate,minDate:\"\",maxdate:\"\"},toDate:{value:searchDates.toDate,minDate:\"\",maxdate:\"\"}});console.log(form);const[error,seterror]=useState({fromDate:\"\",toDate:\"\"});const handleChange=(e,value)=>{// if (e.target.name === \"fromDate\") {\n//   setForm({\n//     ...form,\n//     toDate: {\n//       value: value,\n//       //minDate: moment(new Date(value)).format(\"YYYY-MM-DD\"),\n//       paramDate: moment(new Date(value)).format(\"DD/MM/yyyy\"),\n//     },\n//   });\n// }\nseterror({fromDate:\"\"});setForm(prevState=>({...prevState,[e.target.name]:{...form[e.target.name],paramDate:moment(new Date(value)).format(\"DD/MM/yyyy\"),value:value}}));setSearchdate({...searchDates,[e.target.name]:moment(new Date(value)).format(\"YYYY-MM-DD\")});};const calenderIcon={name:\"calendar\",slot:\"end\",class:\"calenderMargin\"};function reset(){setSearchdate({fromDate:\"\",toDate:todayDate});// setForm({\n//   fromDate: { value: \"\", minDate: \"\", maxdate: \"\" },\n//   toDate: { value: todayDate, minDate: \"\", maxdate: \"\" },\n// });\nopenOrCloseModalInsearch(false,\"\",\"\");}function applyFilter(){if(form.fromDate.value===\"\")seterror({fromDate:\"Choose 'From Date'\"});else openOrCloseModalInsearch(false,form.fromDate.paramDate,//form.toDate.paramDate ||\n// searchDates.toDate ||\nmoment(new Date(searchDates.toDate).toISOString()).format(\"DD/MM/YYYY\"));}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"popup-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"header-title\"},/*#__PURE__*/React.createElement(\"span\",null,headerName))),/*#__PURE__*/React.createElement(\"div\",{className:\"popup-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\" twoItems\"},/*#__PURE__*/React.createElement(BorderWithFloatingText,{label:\"From Date\",content:/*#__PURE__*/React.createElement(Calendar,{name:\"fromDate\",value:form.fromDate.value,label:\"From Date\"// errors={errors.dateAndTime}\n,type:\"text\",required:true,onChange:handleChange,placeholder:\"--/--/----\",minDate:lastYear,icon:calenderIcon,className:\"leftCalendar\",displayFormat:\"DD/MMM/YYYY\"//max={minDate}\n})}),/*#__PURE__*/React.createElement(BorderWithFloatingText,{label:\"To Date\",content:/*#__PURE__*/React.createElement(Calendar,{name:\"toDate\",value:form.toDate.value//{form.toDate.value}\n,label:\"To Date\"//errors={errors.dateAndTime}\n,type:\"text\",required:true,onChange:handleChange,placeholder:\"--/--/----\",minDate:lastYear,icon:calenderIcon,className:\"rightCalendar\",displayFormat:\"DD/MMM/YYYY\"//max={minDate}\n})})),error.fromDate&&/*#__PURE__*/React.createElement(\"div\",{className:\" twoItems1 validate-date\"},\" \",/*#__PURE__*/React.createElement(\"div\",{className:\"topMargin\"},/*#__PURE__*/React.createElement(IonText,{color:\"danger\",className:\"validation-message\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"ion-padding-start\"},error.fromDate)))),/*#__PURE__*/React.createElement(\"div\",{className:\"twoItems\"},/*#__PURE__*/React.createElement(IonButton,{className:\"reset\",fill:\"clear\",onClick:()=>reset()},\"Reset\"),/*#__PURE__*/React.createElement(IonButton,{className:\"apply-filter\",fill:\"clear\",onClick:()=>{console.log(form.fromDate.paramDate,form.toDate.value,searchDates.toDate);applyFilter();}},\"Apply Filter\"))));};export default SearchBoeByDate;","map":{"version":3,"sources":["D:/DT/ptmsCheckOutNew/New-MobileApp/src/components/PopUp/SearchBoeByDate.tsx"],"names":["IonButton","IonLabel","IonText","moment","React","useState","lastYear","todayDate","Calendar","BorderWithFloatingText","SearchBoeByDate","openOrCloseModalInsearch","headerName","searchDates","setSearchdate","console","log","form","setForm","fromDate","value","minDate","maxdate","toDate","error","seterror","handleChange","e","prevState","target","name","paramDate","Date","format","calenderIcon","slot","class","reset","applyFilter","toISOString"],"mappings":"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","sourcesContent":["import { IonButton, IonLabel, IonText } from \"@ionic/react\";\r\nimport moment from \"moment\";\r\nimport React, { useState } from \"react\";\r\nimport { lastYear, minDate, todayDate } from \"../../services/Common\";\r\nimport Calendar from \"../calendar/Calendar\";\r\nimport BorderWithFloatingText from \"../InputBorders/BorderWithFloatingText\";\r\n\r\ninterface searchBoeByDateProps {\r\n  openOrCloseModalInsearch?: (modalStatus, param1?, param2?) => any;\r\n  headerName: string;\r\n  searchDates?: any;\r\n  setSearchdate?: any;\r\n}\r\n\r\nconst SearchBoeByDate: React.FC<searchBoeByDateProps> = ({\r\n  openOrCloseModalInsearch,\r\n  headerName,\r\n  searchDates,\r\n  setSearchdate,\r\n}) => {\r\n  console.log(searchDates);\r\n  const [form, setForm] = useState<any>({\r\n    fromDate: { value: searchDates.fromDate, minDate: \"\", maxdate: \"\" },\r\n    toDate: { value: searchDates.toDate, minDate: \"\", maxdate: \"\" },\r\n  });\r\n  console.log(form);\r\n  const [error, seterror] = useState<any>({ fromDate: \"\", toDate: \"\" });\r\n  const handleChange = (e: any, value: any) => {\r\n    // if (e.target.name === \"fromDate\") {\r\n    //   setForm({\r\n    //     ...form,\r\n    //     toDate: {\r\n    //       value: value,\r\n    //       //minDate: moment(new Date(value)).format(\"YYYY-MM-DD\"),\r\n    //       paramDate: moment(new Date(value)).format(\"DD/MM/yyyy\"),\r\n    //     },\r\n    //   });\r\n    // }\r\n    seterror({ fromDate: \"\" });\r\n\r\n    setForm((prevState) => ({\r\n      ...prevState,\r\n      [e.target.name]: {\r\n        ...form[e.target.name],\r\n        paramDate: moment(new Date(value)).format(\"DD/MM/yyyy\"),\r\n        value: value,\r\n      },\r\n    }));\r\n    setSearchdate({\r\n      ...searchDates,\r\n      [e.target.name]: moment(new Date(value)).format(\"YYYY-MM-DD\"),\r\n    });\r\n  };\r\n\r\n  const calenderIcon = {\r\n    name: \"calendar\",\r\n    slot: \"end\",\r\n    class: \"calenderMargin\",\r\n  };\r\n\r\n  function reset() {\r\n    setSearchdate({ fromDate: \"\", toDate: todayDate });\r\n    // setForm({\r\n    //   fromDate: { value: \"\", minDate: \"\", maxdate: \"\" },\r\n    //   toDate: { value: todayDate, minDate: \"\", maxdate: \"\" },\r\n    // });\r\n    openOrCloseModalInsearch(false, \"\", \"\");\r\n  }\r\n\r\n  function applyFilter() {\r\n    if (form.fromDate.value === \"\")\r\n      seterror({ fromDate: \"Choose 'From Date'\" });\r\n    else\r\n      openOrCloseModalInsearch(\r\n        false,\r\n        form.fromDate.paramDate,\r\n        //form.toDate.paramDate ||\r\n        // searchDates.toDate ||\r\n        moment(new Date(searchDates.toDate).toISOString()).format(\"DD/MM/YYYY\")\r\n      );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"popup-header\">\r\n        <div className=\"header-title\">\r\n          <span>{headerName}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"popup-content\">\r\n        <div className=\" twoItems\">\r\n          <BorderWithFloatingText\r\n            label=\"From Date\"\r\n            content={\r\n              <Calendar\r\n                name={\"fromDate\"}\r\n                value={form.fromDate.value}\r\n                label=\"From Date\"\r\n                // errors={errors.dateAndTime}\r\n                type=\"text\"\r\n                required={true}\r\n                onChange={handleChange}\r\n                placeholder=\"--/--/----\"\r\n                minDate={lastYear}\r\n                icon={calenderIcon}\r\n                className=\"leftCalendar\"\r\n                displayFormat=\"DD/MMM/YYYY\"\r\n                //max={minDate}\r\n              />\r\n            }\r\n          />\r\n\r\n          <BorderWithFloatingText\r\n            label=\"To Date\"\r\n            content={\r\n              <Calendar\r\n                name={\"toDate\"}\r\n                value={form.toDate.value} //{form.toDate.value}\r\n                label=\"To Date\"\r\n                //errors={errors.dateAndTime}\r\n                type=\"text\"\r\n                required={true}\r\n                onChange={handleChange}\r\n                placeholder=\"--/--/----\"\r\n                minDate={lastYear}\r\n                icon={calenderIcon}\r\n                className=\"rightCalendar\"\r\n                displayFormat=\"DD/MMM/YYYY\"\r\n                //max={minDate}\r\n              />\r\n            }\r\n          />\r\n        </div>\r\n        {error.fromDate && (\r\n          <div className=\" twoItems1 validate-date\">\r\n            {\" \"}\r\n            <div className=\"topMargin\">\r\n              <IonText color=\"danger\" className=\"validation-message\">\r\n                <IonLabel className=\"ion-padding-start\">\r\n                  {error.fromDate}\r\n                </IonLabel>\r\n              </IonText>\r\n            </div>\r\n          </div>\r\n        )}\r\n        <div className=\"twoItems\">\r\n          <IonButton className=\"reset\" fill=\"clear\" onClick={() => reset()}>\r\n            Reset\r\n          </IonButton>\r\n          <IonButton\r\n            className=\"apply-filter\"\r\n            fill=\"clear\"\r\n            onClick={() => {\r\n              console.log(\r\n                form.fromDate.paramDate,\r\n                form.toDate.value,\r\n                searchDates.toDate\r\n              );\r\n              applyFilter();\r\n            }}\r\n          >\r\n            Apply Filter\r\n          </IonButton>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default SearchBoeByDate;\r\n"]},"metadata":{},"sourceType":"module"}