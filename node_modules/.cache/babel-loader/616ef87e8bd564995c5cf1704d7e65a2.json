{"ast":null,"code":"import{IonContent,IonPage}from\"@ionic/react\";import React,{useEffect,useRef,useState}from\"react\";import{useHistory}from\"react-router-dom\";import BlueFooter from\"../../components/Footer/BlueFooter\";import Footer from\"../../components/Footer/Footer\";import Payment from\"../../components/Payment\";import Store from\"../../redux/Store\";import CenterFooterButton from\"../CenterFooterButton\";export default function BookTruckPaymnet(props){var _props$history,_props$history$locati;var history=useHistory();var allPayableDetails=props===null||props===void 0?void 0:(_props$history=props.history)===null||_props$history===void 0?void 0:(_props$history$locati=_props$history.location)===null||_props$history$locati===void 0?void 0:_props$history$locati.state;const[screen,setscreen]=useState({});useEffect(()=>{setscreen(Store.getState().VariableValues.paymentStatus);console.log(\"calling store\",screen);},[]);Store.subscribe(()=>{setscreen(Store.getState().VariableValues.paymentStatus);console.log(Store.getState().VariableValues.paymentStatus,\"calling store\",screen);});const myref=useRef();const handleOnClick=()=>{console.log(\"0000000\",myref);var test=myref.current;if(myref.current){test.openRosoom();}};return/*#__PURE__*/React.createElement(IonPage,{className:\"BookTruck-Location\"},/*#__PURE__*/React.createElement(IonContent,null,/*#__PURE__*/React.createElement(Payment,{allPayableDetails:allPayableDetails===null||allPayableDetails===void 0?void 0:allPayableDetails.payment//buttonAction={buttonAction}\n,ref:myref}),screen.status!==\"\"&&/*#__PURE__*/React.createElement(CenterFooterButton,{iconType:\"menu\",clickEvent:()=>history.push(\"/tabs/landing\")})),screen.status===\"\"?/*#__PURE__*/React.createElement(BlueFooter,{onBlueFooterClick:handleOnClick,footerLabel:\" PAY AED \".concat(allPayableDetails===null||allPayableDetails===void 0?void 0:allPayableDetails.payment.grossAmount,\" \")}):/*#__PURE__*/React.createElement(Footer,null));}","map":{"version":3,"sources":["D:/DT/ptmsCheckOutNew/New-MobileApp/src/pages/booktruck/BookTruckPaymnet.tsx"],"names":["IonContent","IonPage","React","useEffect","useRef","useState","useHistory","BlueFooter","Footer","Payment","Store","CenterFooterButton","BookTruckPaymnet","props","history","allPayableDetails","location","state","screen","setscreen","getState","VariableValues","paymentStatus","console","log","subscribe","myref","handleOnClick","test","current","openRosoom","payment","status","push","grossAmount"],"mappings":"AAAA,OAASA,UAAT,CAAqBC,OAArB,KAAoC,cAApC,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,CAAmCC,QAAnC,KAAmD,OAAnD,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,oCAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,gCAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,0BAApB,CAEA,MAAOC,CAAAA,KAAP,KAAkB,mBAAlB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,uBAA/B,CAEA,cAAe,SAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,0CAC9C,GAAIC,CAAAA,OAAO,CAAGR,UAAU,EAAxB,CACA,GAAIS,CAAAA,iBAAiB,CAAGF,KAAH,SAAGA,KAAH,iCAAGA,KAAK,CAAEC,OAAV,gEAAG,eAAgBE,QAAnB,gDAAG,sBAA0BC,KAAlD,CACA,KAAM,CAACC,MAAD,CAASC,SAAT,EAAsBd,QAAQ,CAAM,EAAN,CAApC,CAEAF,SAAS,CAAC,IAAM,CACdgB,SAAS,CAACT,KAAK,CAACU,QAAN,GAAiBC,cAAjB,CAAgCC,aAAjC,CAAT,CACAC,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6BN,MAA7B,EACD,CAHQ,CAGN,EAHM,CAAT,CAKAR,KAAK,CAACe,SAAN,CAAgB,IAAM,CACpBN,SAAS,CAACT,KAAK,CAACU,QAAN,GAAiBC,cAAjB,CAAgCC,aAAjC,CAAT,CACAC,OAAO,CAACC,GAAR,CACEd,KAAK,CAACU,QAAN,GAAiBC,cAAjB,CAAgCC,aADlC,CAEE,eAFF,CAGEJ,MAHF,EAKD,CAPD,EAQA,KAAMQ,CAAAA,KAAK,CAAGtB,MAAM,EAApB,CAEA,KAAMuB,CAAAA,aAAa,CAAG,IAAM,CAC1BJ,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBE,KAAvB,EACA,GAAIE,CAAAA,IAAS,CAAGF,KAAK,CAACG,OAAtB,CACA,GAAIH,KAAK,CAACG,OAAV,CAAmB,CACjBD,IAAI,CAACE,UAAL,GACD,CACF,CAND,CAOA,mBACE,oBAAC,OAAD,EAAS,SAAS,CAAC,oBAAnB,eACE,oBAAC,UAAD,mBACE,oBAAC,OAAD,EACE,iBAAiB,CAAEf,iBAAF,SAAEA,iBAAF,iBAAEA,iBAAiB,CAAEgB,OACtC;AAFF,CAGE,GAAG,CAAEL,KAHP,EADF,CAMGR,MAAM,CAACc,MAAP,GAAkB,EAAlB,eACC,oBAAC,kBAAD,EACE,QAAQ,CAAC,MADX,CAEE,UAAU,CAAE,IAAMlB,OAAO,CAACmB,IAAR,CAAa,eAAb,CAFpB,EAPJ,CADF,CAcGf,MAAM,CAACc,MAAP,GAAkB,EAAlB,cACC,oBAAC,UAAD,EACE,iBAAiB,CAAEL,aADrB,CAEE,WAAW,oBAAcZ,iBAAd,SAAcA,iBAAd,iBAAcA,iBAAiB,CAAEgB,OAAnB,CAA2BG,WAAzC,KAFb,EADD,cAMC,oBAAC,MAAD,MApBJ,CADF,CAyBD","sourcesContent":["import { IonContent, IonPage } from \"@ionic/react\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport BlueFooter from \"../../components/Footer/BlueFooter\";\r\nimport Footer from \"../../components/Footer/Footer\";\r\nimport Payment from \"../../components/Payment\";\r\nimport PayQuick from \"../../components/PayQuick\";\r\nimport Store from \"../../redux/Store\";\r\nimport CenterFooterButton from \"../CenterFooterButton\";\r\n\r\nexport default function BookTruckPaymnet(props) {\r\n  var history = useHistory();\r\n  var allPayableDetails = props?.history?.location?.state;\r\n  const [screen, setscreen] = useState<any>({});\r\n\r\n  useEffect(() => {\r\n    setscreen(Store.getState().VariableValues.paymentStatus);\r\n    console.log(\"calling store\", screen);\r\n  }, []);\r\n\r\n  Store.subscribe(() => {\r\n    setscreen(Store.getState().VariableValues.paymentStatus);\r\n    console.log(\r\n      Store.getState().VariableValues.paymentStatus,\r\n      \"calling store\",\r\n      screen\r\n    );\r\n  });\r\n  const myref = useRef();\r\n\r\n  const handleOnClick = () => {\r\n    console.log(\"0000000\", myref);\r\n    var test: any = myref.current;\r\n    if (myref.current) {\r\n      test.openRosoom();\r\n    }\r\n  };\r\n  return (\r\n    <IonPage className=\"BookTruck-Location\">\r\n      <IonContent>\r\n        <Payment\r\n          allPayableDetails={allPayableDetails?.payment}\r\n          //buttonAction={buttonAction}\r\n          ref={myref}\r\n        />\r\n        {screen.status !== \"\" && (\r\n          <CenterFooterButton\r\n            iconType=\"menu\"\r\n            clickEvent={() => history.push(\"/tabs/landing\")}\r\n          />\r\n        )}\r\n      </IonContent>\r\n      {screen.status === \"\" ? (\r\n        <BlueFooter\r\n          onBlueFooterClick={handleOnClick}\r\n          footerLabel={` PAY AED ${allPayableDetails?.payment.grossAmount} `}\r\n        />\r\n      ) : (\r\n        <Footer />\r\n      )}\r\n    </IonPage>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}