{"ast":null,"code":"import{IonButton,IonCheckbox,IonHeader,IonIcon,IonLabel,IonSelect,IonSelectOption,IonText,IonToolbar}from\"@ionic/react\";import{closeSharp,search}from\"ionicons/icons\";import React,{useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import ClearReduxStore from\"../util/ClearReduxStore\";import\"./Header.scss\";import Icon from\"./Icon\";import Store from\"../redux/Store\";import*as EndPointURL from\"../util/EndPointURL\";import*as reduxActions from\"../redux/actions/AllActions\";import{loginWithAgent}from\"../services/EndPointApi\";const Header=HeaderParam=>{const[actionType,setActionType]=useState({search:true,check:true,close:true,home:true,info:false});var userDetails=Store.getState().CheckUserStatus.user;const[checked,setChecked]=useState(false);const[checkedLabel,setCheckedLabel]=useState(\"Select All\");const backIconProps={name:\"back-arrow\",slot:\"icon-only\",zoom:\"\"};const homeIconProps={name:\"home-new\",slot:\"icon-only\",zoom:\"\"};const checkIconProps={name:\"Check\",slot:\"icon-only\",zoom:\"\"};function checkAndUncheckAll(checked){console.log(checked);setChecked(checked);if(checked){setCheckedLabel(\"Unselect All\");HeaderParam.checkedProps.addContainerToCart(\"\",\"\",\"checked\");}else{HeaderParam.checkedProps.addContainerToCart(\"\",\"\",\"unchecked\");setCheckedLabel(\"Select All\");}}useEffect(()=>{updateActionType(HeaderParam.action?HeaderParam.action:\"none\");},[]);let history=useHistory();const back=e=>{if(HeaderParam.customClick)HeaderParam.customClick(\"/containerCart\");else{if(HeaderParam.customBack){HeaderParam.backClick(e);}else{history.goBack();}}};const updateActionType=myValue=>{if(myValue){if(myValue===\"search\"){setActionType({search:false,check:true,close:true,home:true,info:true});}else if(myValue===\"check\"){setActionType({search:true,check:false,close:true,home:true,info:true});}else if(myValue===\"close\"){setActionType({search:true,check:true,close:false,home:true,info:true});}else if(myValue===\"home\"){setActionType({search:true,check:true,close:true,home:false,info:true});}else if(myValue===\"info\"){setActionType({search:true,check:true,close:true,home:true,info:false});}}};function homeButtonClicked(){if(HeaderParam.customClick)HeaderParam.customClick(\"/tabs/landing\");else{history.push(\"/tabs/landing\");ClearReduxStore();}}const selectUserType=async e=>{let data=e.detail.value;let url=EndPointURL.loginAgent+\"?agentCode=\"+data.agentCode+\"&agentType=\"+data.agentType;var endPointHeader={userName:userDetails.userName,userType:\"IMPORTER_APP\"};var response=await loginWithAgent(url,endPointHeader);var result=response.data.data.dataItems[0];if(await response.success){var accessToken=await reduxActions.AddAccessToKen(result.accessToken);if(accessToken)Store.dispatch(accessToken);var agentType=await reduxActions.AddAgentType(result.user.activeCompanyCode);if(agentType)Store.dispatch(agentType);var selectedAgent=await reduxActions.AddSelectedAgent(data);if(selectedAgent)Store.dispatch(selectedAgent);var test=Store.getState().CheckUserStatus;HeaderParam.changedAgent?HeaderParam.changedAgent():console.log(\"changed\");}};const agentCodeoptions={cssClass:\"agent-interface\"};return/*#__PURE__*/React.createElement(IonHeader,{style:HeaderParam.agentHeader?{height:\"102px\"}:{height:\"10%\"}},/*#__PURE__*/React.createElement(IonToolbar,{className:\"header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mainContainer\",style:!HeaderParam.agentHeader?{paddingBottom:0}:{}},HeaderParam.checkedProps?/*#__PURE__*/React.createElement(\"div\",{className:\"selectAllBg\",hidden:!HeaderParam.checkedProps.showChecked},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(IonButton,{fill:\"clear\",onClick:e=>{back(e);}},/*#__PURE__*/React.createElement(Icon,{iconProps:backIconProps}))),/*#__PURE__*/React.createElement(\"div\",{className:\"checkBoxContainer\"},/*#__PURE__*/React.createElement(IonCheckbox,{className:\"checkBox\",checked:checked,onIonChange:e=>checkAndUncheckAll(e.detail.checked)})),/*#__PURE__*/React.createElement(\"div\",{className:\"checkBoxLabelCol\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"checkBoxLabel\"},checkedLabel),\" \")):/*#__PURE__*/React.createElement(React.Fragment,null),/*#__PURE__*/React.createElement(\"div\",{className:\"backArrow\"},HeaderParam.label!=\"Home\"&&actionType.close?/*#__PURE__*/React.createElement(IonButton,{fill:\"clear\",onClick:e=>{back(e);}},/*#__PURE__*/React.createElement(Icon,{iconProps:backIconProps})):/*#__PURE__*/React.createElement(React.Fragment,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"header-label\"},\" \",/*#__PURE__*/React.createElement(IonText,null,HeaderParam.label)),/*#__PURE__*/React.createElement(\"div\",{className:\"header-right\"},/*#__PURE__*/React.createElement(IonButton,{hidden:actionType.search,fill:\"clear\",onClick:HeaderParam.searchClick},/*#__PURE__*/React.createElement(IonIcon,{slot:\"icon-only\",icon:search,style:{minWidth:\"30px\"}})),/*#__PURE__*/React.createElement(IonButton,{hidden:actionType.info,fill:\"clear\",onClick:HeaderParam.infoClick},/*#__PURE__*/React.createElement(IonIcon,{src:\"assets/icon/\"+\"info-italic\"+\".svg\",slot:\"icon-only\"// icon={informationCircle}\n,style:{minWidth:\"30px\"}})),/*#__PURE__*/React.createElement(IonButton,{hidden:actionType.check,fill:\"clear\",onClick:HeaderParam.checkClick},/*#__PURE__*/React.createElement(Icon,{iconProps:checkIconProps})),/*#__PURE__*/React.createElement(IonButton,{hidden:actionType.home,fill:\"clear\",onClick:e=>homeButtonClicked()},/*#__PURE__*/React.createElement(Icon,{iconProps:homeIconProps})),/*#__PURE__*/React.createElement(IonButton,{hidden:actionType.close,fill:\"clear\",onClick:e=>{back(e);}},/*#__PURE__*/React.createElement(IonIcon,{slot:\"icon-only\",icon:closeSharp})),/*#__PURE__*/React.createElement(IonButton,{hidden:HeaderParam.action!==\"\",fill:\"clear\"},/*#__PURE__*/React.createElement(IonIcon,null)))),userDetails.agents&&HeaderParam.agentHeader&&/*#__PURE__*/React.createElement(IonToolbar,{className:\"agent-code-header\"},/*#__PURE__*/React.createElement(IonSelect,{value:userDetails.selectedAgent,interface:\"popover\",onIonChange:e=>selectUserType(e),disabled:!HeaderParam.showAgent||userDetails.agents.length==1,style:!HeaderParam.showAgent?{backgroundColor:\"#DDF1FF\"}:{},interfaceOptions:agentCodeoptions},userDetails.agents.map((item,index)=>{return/*#__PURE__*/React.createElement(IonSelectOption,{value:item,key:index,className:\"select-agent-opt\"},item.agentCode+\"-\"+item.agentName);})),/*#__PURE__*/React.createElement(IonIcon,{src:\"assets/icon/arrow-down.svg\",className:\"arrow-down-icon\",hidden:!HeaderParam.showAgent||userDetails.agents.length==1}))));};export default Header;","map":{"version":3,"sources":["D:/DT/ptmsCheckOutNew/New-MobileApp/src/components/Header.tsx"],"names":["IonButton","IonCheckbox","IonHeader","IonIcon","IonLabel","IonSelect","IonSelectOption","IonText","IonToolbar","closeSharp","search","React","useEffect","useState","useHistory","ClearReduxStore","Icon","Store","EndPointURL","reduxActions","loginWithAgent","Header","HeaderParam","actionType","setActionType","check","close","home","info","userDetails","getState","CheckUserStatus","user","checked","setChecked","checkedLabel","setCheckedLabel","backIconProps","name","slot","zoom","homeIconProps","checkIconProps","checkAndUncheckAll","console","log","checkedProps","addContainerToCart","updateActionType","action","history","back","e","customClick","customBack","backClick","goBack","myValue","homeButtonClicked","push","selectUserType","data","detail","value","url","loginAgent","agentCode","agentType","endPointHeader","userName","userType","response","result","dataItems","success","accessToken","AddAccessToKen","dispatch","AddAgentType","activeCompanyCode","selectedAgent","AddSelectedAgent","test","changedAgent","agentCodeoptions","cssClass","agentHeader","height","paddingBottom","showChecked","label","searchClick","minWidth","infoClick","checkClick","agents","showAgent","length","backgroundColor","map","item","index","agentName"],"mappings":"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","sourcesContent":["import {\r\n  IonButton,\r\n  IonCheckbox,\r\n  IonHeader,\r\n  IonIcon,\r\n  IonImg,\r\n  IonLabel,\r\n  IonSelect,\r\n  IonSelectOption,\r\n  IonText,\r\n  IonToolbar,\r\n} from \"@ionic/react\";\r\nimport { closeSharp, informationCircle, search } from \"ionicons/icons\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ClearReduxStore from \"../util/ClearReduxStore\";\r\nimport \"./Header.scss\";\r\nimport Icon from \"./Icon\";\r\nimport Store from \"../redux/Store\";\r\nimport * as EndPointURL from \"../util/EndPointURL\";\r\nimport * as reduxActions from \"../redux/actions/AllActions\";\r\nimport { loginWithAgent } from \"../services/EndPointApi\";\r\n\r\ninterface HeaderParam {\r\n  label?: string;\r\n  action?: string;\r\n  showAgent?: boolean;\r\n  agentHeader?: boolean;\r\n  customBack?: boolean;\r\n  searchClick?(e: any): void;\r\n  infoClick?(e: any): void;\r\n  checkClick?(e: any): void;\r\n  backClick?(e: any): void;\r\n  locationProps?: any;\r\n  checkedProps?: any;\r\n  customClick?(actionTYpe: string): void;\r\n  changedAgent?(): void;\r\n}\r\nconst Header: React.FC<HeaderParam> = (HeaderParam) => {\r\n  const [actionType, setActionType] = useState({\r\n    search: true,\r\n    check: true,\r\n    close: true,\r\n    home: true,\r\n    info: false,\r\n  });\r\n\r\n  var userDetails = Store.getState().CheckUserStatus.user;\r\n\r\n  const [checked, setChecked] = useState(false);\r\n  const [checkedLabel, setCheckedLabel] = useState(\"Select All\");\r\n  const backIconProps = {\r\n    name: \"back-arrow\",\r\n    slot: \"icon-only\",\r\n    zoom: \"\",\r\n  };\r\n  const homeIconProps = {\r\n    name: \"home-new\",\r\n    slot: \"icon-only\",\r\n    zoom: \"\",\r\n  };\r\n  const checkIconProps = {\r\n    name: \"Check\",\r\n    slot: \"icon-only\",\r\n    zoom: \"\",\r\n  };\r\n\r\n  function checkAndUncheckAll(checked) {\r\n    console.log(checked);\r\n    setChecked(checked);\r\n    if (checked) {\r\n      setCheckedLabel(\"Unselect All\");\r\n      HeaderParam.checkedProps.addContainerToCart(\"\", \"\", \"checked\");\r\n    } else {\r\n      HeaderParam.checkedProps.addContainerToCart(\"\", \"\", \"unchecked\");\r\n      setCheckedLabel(\"Select All\");\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    updateActionType(HeaderParam.action ? HeaderParam.action : \"none\");\r\n  }, []);\r\n\r\n  let history = useHistory();\r\n  const back = (e: any) => {\r\n    if (HeaderParam.customClick) HeaderParam.customClick(\"/containerCart\");\r\n    else {\r\n      if (HeaderParam.customBack) {\r\n        HeaderParam.backClick(e);\r\n      } else {\r\n        history.goBack();\r\n      }\r\n    }\r\n  };\r\n\r\n  const updateActionType = (myValue: string) => {\r\n    if (myValue) {\r\n      if (myValue === \"search\") {\r\n        setActionType({\r\n          search: false,\r\n          check: true,\r\n          close: true,\r\n          home: true,\r\n          info: true,\r\n        });\r\n      } else if (myValue === \"check\") {\r\n        setActionType({\r\n          search: true,\r\n          check: false,\r\n          close: true,\r\n          home: true,\r\n          info: true,\r\n        });\r\n      } else if (myValue === \"close\") {\r\n        setActionType({\r\n          search: true,\r\n          check: true,\r\n          close: false,\r\n          home: true,\r\n          info: true,\r\n        });\r\n      } else if (myValue === \"home\") {\r\n        setActionType({\r\n          search: true,\r\n          check: true,\r\n          close: true,\r\n          home: false,\r\n          info: true,\r\n        });\r\n      } else if (myValue === \"info\") {\r\n        setActionType({\r\n          search: true,\r\n          check: true,\r\n          close: true,\r\n          home: true,\r\n          info: false,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  function homeButtonClicked() {\r\n    if (HeaderParam.customClick) HeaderParam.customClick(\"/tabs/landing\");\r\n    else {\r\n      history.push(\"/tabs/landing\");\r\n      ClearReduxStore();\r\n    }\r\n  }\r\n\r\n  const selectUserType = async (e: any) => {\r\n    let data = e.detail.value;\r\n    let url =\r\n      EndPointURL.loginAgent +\r\n      \"?agentCode=\" +\r\n      data.agentCode +\r\n      \"&agentType=\" +\r\n      data.agentType;\r\n\r\n    var endPointHeader = {\r\n      userName: userDetails.userName,\r\n      userType: \"IMPORTER_APP\",\r\n    };\r\n\r\n    var response = await loginWithAgent(url, endPointHeader);\r\n    var result = response.data.data.dataItems[0];\r\n    if (await response.success) {\r\n      var accessToken = await reduxActions.AddAccessToKen(result.accessToken);\r\n      if (accessToken) Store.dispatch(accessToken);\r\n\r\n      var agentType = await reduxActions.AddAgentType(\r\n        result.user.activeCompanyCode\r\n      );\r\n      if (agentType) Store.dispatch(agentType);\r\n\r\n      var selectedAgent = await reduxActions.AddSelectedAgent(data);\r\n\r\n      if (selectedAgent) Store.dispatch(selectedAgent);\r\n\r\n      var test = Store.getState().CheckUserStatus;\r\n      HeaderParam.changedAgent\r\n        ? HeaderParam.changedAgent()\r\n        : console.log(\"changed\");\r\n    }\r\n  };\r\n\r\n  const agentCodeoptions = {\r\n    cssClass: \"agent-interface\",\r\n  };\r\n\r\n  return (\r\n    <IonHeader\r\n      style={HeaderParam.agentHeader ? { height: \"102px\" } : { height: \"10%\" }}\r\n    >\r\n      <IonToolbar className=\"header\">\r\n        <div\r\n          className=\"mainContainer\"\r\n          style={!HeaderParam.agentHeader ? { paddingBottom: 0 } : {}}\r\n        >\r\n          {HeaderParam.checkedProps ? (\r\n            <div\r\n              className=\"selectAllBg\"\r\n              hidden={!HeaderParam.checkedProps.showChecked}\r\n            >\r\n              <div>\r\n                <IonButton\r\n                  fill=\"clear\"\r\n                  onClick={(e) => {\r\n                    back(e);\r\n                  }}\r\n                >\r\n                  <Icon iconProps={backIconProps} />\r\n                </IonButton>\r\n              </div>\r\n              <div className=\"checkBoxContainer\">\r\n                <IonCheckbox\r\n                  className=\"checkBox\"\r\n                  checked={checked}\r\n                  onIonChange={(e) => checkAndUncheckAll(e.detail.checked)}\r\n                />\r\n              </div>\r\n              <div className=\"checkBoxLabelCol\">\r\n                <IonLabel className=\"checkBoxLabel\">{checkedLabel}</IonLabel>{\" \"}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          <div className=\"backArrow\">\r\n            {HeaderParam.label != \"Home\" && actionType.close ? (\r\n              <IonButton\r\n                fill=\"clear\"\r\n                onClick={(e) => {\r\n                  back(e);\r\n                }}\r\n              >\r\n                <Icon iconProps={backIconProps} />\r\n              </IonButton>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </div>\r\n          <div className=\"header-label\">\r\n            {\" \"}\r\n            <IonText>{HeaderParam.label}</IonText>\r\n          </div>\r\n          <div className=\"header-right\">\r\n            <IonButton\r\n              hidden={actionType.search}\r\n              fill=\"clear\"\r\n              onClick={HeaderParam.searchClick}\r\n            >\r\n              <IonIcon\r\n                slot=\"icon-only\"\r\n                icon={search}\r\n                style={{ minWidth: \"30px\" }}\r\n              />\r\n            </IonButton>\r\n            <IonButton\r\n              hidden={actionType.info}\r\n              fill=\"clear\"\r\n              onClick={HeaderParam.infoClick}\r\n            >\r\n              <IonIcon\r\n                src={\"assets/icon/\" + \"info-italic\" + \".svg\"}\r\n                slot=\"icon-only\"\r\n                // icon={informationCircle}\r\n                style={{ minWidth: \"30px\" }}\r\n              />\r\n               \r\n            </IonButton>\r\n            <IonButton\r\n              hidden={actionType.check}\r\n              fill=\"clear\"\r\n              onClick={HeaderParam.checkClick}\r\n            >\r\n              {/* <IonIcon slot=\"icon-only\" src=\"\" style={{minWidth:'30px'}}/> */}\r\n              <Icon iconProps={checkIconProps} />\r\n            </IonButton>\r\n            <IonButton\r\n              hidden={actionType.home}\r\n              fill=\"clear\"\r\n              onClick={(e) => homeButtonClicked()}\r\n            >\r\n              <Icon iconProps={homeIconProps} />\r\n            </IonButton>\r\n            <IonButton\r\n              hidden={actionType.close}\r\n              fill=\"clear\"\r\n              onClick={(e) => {\r\n                back(e);\r\n              }}\r\n            >\r\n              <IonIcon slot=\"icon-only\" icon={closeSharp} />\r\n            </IonButton>\r\n            <IonButton hidden={HeaderParam.action !== \"\"} fill=\"clear\">\r\n              <IonIcon />\r\n            </IonButton>\r\n          </div>\r\n        </div>\r\n        {userDetails.agents && HeaderParam.agentHeader && (\r\n          <IonToolbar className=\"agent-code-header\">\r\n            <IonSelect\r\n              value={userDetails.selectedAgent}\r\n              interface=\"popover\"\r\n              onIonChange={(e) => selectUserType(e)}\r\n              disabled={\r\n                !HeaderParam.showAgent || userDetails.agents.length == 1\r\n              }\r\n              style={\r\n                !HeaderParam.showAgent ? { backgroundColor: \"#DDF1FF\" } : {}\r\n              }\r\n              interfaceOptions={agentCodeoptions}\r\n            >\r\n              {userDetails.agents.map((item, index) => {\r\n                return (\r\n                  <IonSelectOption\r\n                    value={item}\r\n                    key={index}\r\n                    className=\"select-agent-opt\"\r\n                  >\r\n                    {item.agentCode + \"-\" + item.agentName}\r\n                  </IonSelectOption>\r\n                );\r\n              })}\r\n            </IonSelect>\r\n            <IonIcon\r\n              src=\"assets/icon/arrow-down.svg\"\r\n              className=\"arrow-down-icon\"\r\n              hidden={!HeaderParam.showAgent || userDetails.agents.length == 1}\r\n            />\r\n          </IonToolbar>\r\n        )}\r\n        {/* </IonImg> */}\r\n      </IonToolbar>\r\n    </IonHeader>\r\n  );\r\n};\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}