{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{IonGrid,IonCol,IonContent,IonIcon,IonLabel,IonPage,IonRow,IonText,IonToolbar,IonButton,IonCard,IonCardContent}from\"@ionic/react\";import ContainerCard from\"../containerDetails/containerCard/ContainerCard\";import Header from\"../../../components/Header\";import{useHistory}from\"react-router-dom\";import{httpPostCallWithoutHeaderAndWithBody,httpGetCallWithoutHeader,httpPostCallWithoutHeaderAndBody,getInvoiceDetails}from\"../../../services/EndPointApi\";import*as EndPointURL from\"../../../util/EndPointURL\";import\"./ContainerDetails.scss\";import Alert from\"../../../components/alert/Alert\";import SlideUpModal from\"../../../components/PopUp/SlideUpModal\";import RoundedAvatar from\"../../../components/Avatar/RoundedAvatar\";import{InAppBrowser}from\"@ionic-native/in-app-browser\";import DownloadReciept from\"../../../components/DownloadReciept/DownloadReciept\";export default function ContainerDetails(value){var _value$history,_value$history$locati,_data$bookingDetails16,_data$bookingDetails17,_data$bookingDetails18;const[data,setData]=useState({});const[groupedData,setGroupedData]=useState({});const[]=useState(false);const[alertPopup,setAlertPopup]=useState(false);const[message,setMessage]=useState(\"\");const[deleteContainer,setDeleteContainer]=useState({});const[showModal,setShowModal]=useState(false);const[showPaymentModal,setShowPaymentModal]=useState(false);const[showDownloadModal,setShowDownloadModal]=useState(false);const[containerDetails,setContainerDetails]=useState();const[isInProgress,setIsInProgress]=useState(false);const[isDelivered,setIsDelivered]=useState(false);const[isCompleted,setIsCompleted]=useState(false);const[paymentPage,setPaymentPage]=useState(\"\");const[bookingDetails,setBookingDetails]=useState(value===null||value===void 0?void 0:(_value$history=value.history)===null||_value$history===void 0?void 0:(_value$history$locati=_value$history.location)===null||_value$history$locati===void 0?void 0:_value$history$locati.state.bookingDetails);let history=useHistory();var ref;var txnIds;var options=\"zoom=no,footer=no,location=no\";useEffect(()=>{var _value$history2,_value$history2$locat,_value$history2$locat2,_value$history2$locat3;fetchData(value===null||value===void 0?void 0:(_value$history2=value.history)===null||_value$history2===void 0?void 0:(_value$history2$locat=_value$history2.location)===null||_value$history2$locat===void 0?void 0:(_value$history2$locat2=_value$history2$locat.state)===null||_value$history2$locat2===void 0?void 0:(_value$history2$locat3=_value$history2$locat2.bookingDetails)===null||_value$history2$locat3===void 0?void 0:_value$history2$locat3.bookingNumber);},[]);const[isPOD,setisPOD]=useState(false);const fetchData=async referenceNumber=>{let appUrl=EndPointURL.containerDetails+\"refNo=\"+referenceNumber;var response=await httpGetCallWithoutHeader(appUrl);if(await response.success){var _value$history3,_value$history3$locat,_value$history3$locat2;var resp=await getInvoiceDetails(referenceNumber);if(resp===null||resp===void 0?void 0:resp.success){if(resp.data.data.dataItems[0].invoiceList.length>0){setisPOD(true);}}// bookingDetails: value?.history?.location?.state,\nsetData({...data,bookingDetails:bookingDetails,response:response});let bookingStatus=value===null||value===void 0?void 0:(_value$history3=value.history)===null||_value$history3===void 0?void 0:(_value$history3$locat=_value$history3.location)===null||_value$history3$locat===void 0?void 0:(_value$history3$locat2=_value$history3$locat.state)===null||_value$history3$locat2===void 0?void 0:_value$history3$locat2.bookingStatus;setContainerDetails(response===null||response===void 0?void 0:response.data);if(bookingStatus==\"TRANSCONF\"||bookingStatus===\"STARTED\"){OnInProgress(\"inProgress\",response===null||response===void 0?void 0:response.data);}else{var conts=response===null||response===void 0?void 0:response.data.containerList;var list=groupingByDeclaration(conts);setGroupedData(list);}}};const OnInProgress=function(status){let conts;if(status==\"inProgress\"){setIsCompleted(false);setIsDelivered(false);setIsInProgress(true);let inProgressStatus=[\"PEND\",\"PENTRUCK\",\"PODUPL\",\"INPRO\",\"TRUCK_ASGN\",\"PENDING_TOKEN\"];for(var _len=arguments.length,cont=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){cont[_key-1]=arguments[_key];}conts=containerDetails==undefined?cont[0].containerList.filter(cL=>{var _cL$refStatus;return inProgressStatus.includes((_cL$refStatus=cL.refStatus)===null||_cL$refStatus===void 0?void 0:_cL$refStatus.code);}):containerDetails.containerList.filter(cL=>{var _cL$refStatus2;return inProgressStatus.includes((_cL$refStatus2=cL.refStatus)===null||_cL$refStatus2===void 0?void 0:_cL$refStatus2.code);});}else if(status==\"delivered\"){setIsInProgress(false);setIsCompleted(false);setIsDelivered(true);let deliveredStatus=[\"FCL_DEL\",\"PMTTOK\",\"MTTOKASGN\",\"MTTRK_ASGN\"];conts=containerDetails.containerList.filter(cL=>{var _cL$refStatus3;return deliveredStatus.includes((_cL$refStatus3=cL.refStatus)===null||_cL$refStatus3===void 0?void 0:_cL$refStatus3.code);});}else{setIsInProgress(false);setIsDelivered(false);setIsCompleted(true);let completedStatus=[\"MT_DEL\",\"COMPL\"];conts=containerDetails.containerList.filter(cL=>{var _cL$refStatus4;return completedStatus.includes((_cL$refStatus4=cL.refStatus)===null||_cL$refStatus4===void 0?void 0:_cL$refStatus4.code);});}var list=groupingByDeclaration(conts);setGroupedData(list);};const groupingByDeclaration=containers=>{return containers.reduce(function(acc,_ref){let{...item}=_ref;const key=\"\".concat(item.boeNumber,\",\").concat(item.orderValidity?item.orderValidity:\"\");(acc[key]=acc[key]||[]).push(item);return acc;},{});};const canCellationRequest=async ctn=>{try{await console.info(\"BEFORE DELETE \",JSON.stringify(data.containers));let response=await httpPostCallWithoutHeaderAndWithBody(EndPointURL.cancelRequestContainerUrl,ctn);await console.info(\"DELETE \",JSON.stringify(ctn.key));if(response===null||response===void 0?void 0:response.success){var _data$bookingDetails;await delete data.containers[ctn.key];let r=await{booking:data.booking,containers:data.containers};console.info(\"AFTER DELETED  \",r);await setData(r);history.push(\"/bookingDetails/\"+(data===null||data===void 0?void 0:(_data$bookingDetails=data.bookingDetails)===null||_data$bookingDetails===void 0?void 0:_data$bookingDetails.cardStatus));}}catch(error){await console.log(\"ERROR +++ {} \",error);}};const handleDelete=(item,actionType)=>{if(actionType){setAlertPopup(false);deleteContainer.cancelRemarks=item.cancellationReason;canCellationRequest(deleteContainer);}else{}};const alertProps={isShow:alertPopup,message:message,content:\"cancel the container?\",icon:\"<img src='/assets/icon/are-you-sure.svg'/>\",alertAction:handleDelete,inputs:[{name:\"cancellationReason\",type:\"textarea\",placeholder:\"Reason for cancellaltion\",cssClass:\"input-class\"}],itemName:\"Kindly check our <a href=`https://www.google.com/`> className='link-text'>cancellation policy</a> <br/>before proceeding.\"// cancelPolicy: true\n};const viewContactDetails=ctn=>{let value={contact:{consigneeContactNumber:ctn.consigneeContactNumber,consigneeContactName:ctn===null||ctn===void 0?void 0:ctn.consigneeContactName,phoneNumber:ctn===null||ctn===void 0?void 0:ctn.phoneNumber,dropAddress:ctn===null||ctn===void 0?void 0:ctn.dropAddress,addressLine1:ctn===null||ctn===void 0?void 0:ctn.addressLine1,dropZone:ctn===null||ctn===void 0?void 0:ctn.dropZoneCode,selectedDropZoneLabel:ctn===null||ctn===void 0?void 0:ctn.dropZoneLabel,ctnNumber:ctn===null||ctn===void 0?void 0:ctn.container_number,dpwTransactionId:ctn===null||ctn===void 0?void 0:ctn.dpwTransactionId,requestDetailsNumber:ctn===null||ctn===void 0?void 0:ctn.requestDetailsNumber,latLng:ctn===null||ctn===void 0?void 0:ctn.latLng},// booking: data.details,\nbookingDetails:bookingDetails,containerList:data.response.data.containerList,isContainerEdit:true// response : data.response\n};history.push(\"/addAddress\",value);};const viewTrack=item=>{history.push(\"/track\",item);};const closeContainer=(ctn,id)=>{let deleteData={dpwTransactionId:ctn.dpwTransactionId,requestDetailsNumber:ctn.requestDetailsNumber,container_number:ctn.container_number,refStatus:{code:\"CNCL\"},key:id};setAlertPopup(true);setMessage(ctn.container_number);setDeleteContainer(deleteData);};const goBack=()=>{var _data$bookingDetails2;history.push(\"/bookingDetails/\"+(data===null||data===void 0?void 0:(_data$bookingDetails2=data.bookingDetails)===null||_data$bookingDetails2===void 0?void 0:_data$bookingDetails2.cardStatus));};const onInfoClick=()=>{setShowModal(true);};function PaymentDetails(){return/*#__PURE__*/React.createElement(\"div\",{id:\"slide-up-details\"},/*#__PURE__*/React.createElement(IonGrid,null,/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,{size:\"8\"},/*#__PURE__*/React.createElement(\"span\",{className:\"label-text\",style:{margin:0,fontSize:\"1.1rem\"}},\"Payment Breakups\"),/*#__PURE__*/React.createElement(\"hr\",{className:\"header-text\",style:{margin:0}})),/*#__PURE__*/React.createElement(IonCol,{size:\"3\",style:{color:\"#0568AE\"}},containerDetails.grossAmount,\" AED\")),containerDetails.paymentDetails.filter(pd=>pd.paymentType===\"transportation\").map((item,index)=>/*#__PURE__*/React.createElement(\"div\",{className:\"data-text\",key:index,style:containerDetails.paymentDetails.filter(pd=>{return pd.paymentType===\"transportation\";}).length==index+1?{padding:\"10px\"}:{borderBottom:\"1px solid #D7D7D7\",padding:\"10px\"}},/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},\"Containers\"),/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},item.chargeDescription),/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},item.subTotalAmount,\" AED\")),/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},\"Vat %\"),/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},\"5%\"),/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},item.totalVat,\" AED\")),/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\",size:\"8\"},\"Total\"),/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},item.totalAmount,\" AED\")))),/*#__PURE__*/React.createElement(IonRow,{className:\"data-text\",style:{borderBottom:\"1px solid #D7D7D7\"}},/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\",size:\"8\"},\"Net Amount\"),/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},containerDetails.totalContainerTariff,\" AED\")),containerDetails.paymentDetails.filter(pd=>pd.paymentType!==\"transportation\").map((item,index)=>/*#__PURE__*/React.createElement(\"div\",{className:\"data-text\",key:index,style:containerDetails.paymentDetails.filter(pd=>{return pd.paymentType!==\"transportation\";}).length==index+1?{}:{borderBottom:\"1px solid #D7D7D7\"}},/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},\"Token Charges\"),/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},item.chargeDescription),/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},item.subTotalAmount,\" AED\")),/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},\"Vat %\"),/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},\"5%\"),/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},item.totalVat,\" AED\")),/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\",size:\"8\"},\"Total\"),/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},item.totalAmount,\" AED\")))),/*#__PURE__*/React.createElement(IonRow,{className:\"data-text\",style:{borderBottom:\"1px solid #D7D7D7\",paddingBottom:\"10px\",paddingTop:\"10px\"}},/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\",size:\"8\"},\"Net Amount\"),/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},containerDetails.totalTokenTariff,\" AED\")),/*#__PURE__*/React.createElement(IonRow,{className:\"data-text\"},/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\",size:\"8\",style:{fontSize:\"1.1rem\"}},\"Gross Amount\"),/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\",style:{color:\"#0568AE\",fontSize:\"1.1rem\"}},containerDetails.grossAmount,\" AED\"))));}function BookingDetails(){var _data$bookingDetails3,_data$bookingDetails4,_data$bookingDetails5,_data$bookingDetails6,_data$bookingDetails7,_data$bookingDetails8;return/*#__PURE__*/React.createElement(\"div\",{id:\"slide-up-details\",style:{paddingLeft:\"15px\"}},/*#__PURE__*/React.createElement(IonGrid,null,/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,{size:\"1\"},/*#__PURE__*/React.createElement(RoundedAvatar,{color:\"#1DB3FE\",name:\"IA\"})),/*#__PURE__*/React.createElement(IonCol,{size:\"10\"},/*#__PURE__*/React.createElement(\"span\",{className:\"label-text\"},data===null||data===void 0?void 0:(_data$bookingDetails3=data.bookingDetails)===null||_data$bookingDetails3===void 0?void 0:_data$bookingDetails3.bookingNumber),/*#__PURE__*/React.createElement(\"hr\",{className:\"header-text\"}))),/*#__PURE__*/React.createElement(IonRow,{className:\"row-text\"},/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\",size:\"7\"},\"Requestor Name\"),/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},\"Requestor Contact\")),/*#__PURE__*/React.createElement(IonRow,{className:\"data-text\"},/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\",size:\"7\"},data===null||data===void 0?void 0:(_data$bookingDetails4=data.bookingDetails)===null||_data$bookingDetails4===void 0?void 0:_data$bookingDetails4.requesterName),/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},data===null||data===void 0?void 0:(_data$bookingDetails5=data.bookingDetails)===null||_data$bookingDetails5===void 0?void 0:_data$bookingDetails5.requesterContact)),(data===null||data===void 0?void 0:(_data$bookingDetails6=data.bookingDetails)===null||_data$bookingDetails6===void 0?void 0:_data$bookingDetails6.importerComments)!==null&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(IonRow,{className:\"row-text\"},/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},\"Importer Comments\")),/*#__PURE__*/React.createElement(IonRow,{className:\"data-text\"},/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},data===null||data===void 0?void 0:(_data$bookingDetails7=data.bookingDetails)===null||_data$bookingDetails7===void 0?void 0:_data$bookingDetails7.importerComments))),/*#__PURE__*/React.createElement(\"div\",{style:{paddingTop:\"15px\",paddingBottom:\"15px\"}},/*#__PURE__*/React.createElement(IonRow,{className:\"data-text\",style:{paddingBottom:\"10px\",fontSize:\"1.1rem\"}},/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},\"Payment Details\")),containerDetails.paymentDetails.filter(pd=>pd.paymentType===\"transportation\").map((item,index)=>/*#__PURE__*/React.createElement(IonRow,{className:\"data-text\",key:index},/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\",size:\"7\"},item.chargeDescription),/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},item.totalAmount,\" AED\"))),containerDetails.paymentDetails.filter(pd=>pd.paymentType===\"tokenIn\"||pd.paymentType===\"tokenOut\").map((item,index)=>/*#__PURE__*/React.createElement(IonRow,{className:\"data-text\",key:index},/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\",size:\"7\"},item.chargeDescription),/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},item.totalAmount,\" AED\"))),/*#__PURE__*/React.createElement(IonRow,{className:\"data-text\"},/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\",size:\"7\"},\"Gross Amount\"),/*#__PURE__*/React.createElement(IonCol,{className:\"column-space\"},containerDetails.grossAmount,\" AED\"))),/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonCol,null,/*#__PURE__*/React.createElement(IonButton,{className:\"blue-link-text\",fill:\"clear\",onClick:()=>{setShowModal(false);setTimeout(()=>{setShowPaymentModal(true);},2500);}},\"View Detailed Breakups\")),(data===null||data===void 0?void 0:(_data$bookingDetails8=data.bookingDetails)===null||_data$bookingDetails8===void 0?void 0:_data$bookingDetails8.bookingStatus)===\"FPAY\"&&/*#__PURE__*/React.createElement(IonCol,null,/*#__PURE__*/React.createElement(IonButton,{className:\"link-text\",fill:\"clear\",onClick:()=>{var _data$bookingDetails9;return paymentInfo(data===null||data===void 0?void 0:(_data$bookingDetails9=data.bookingDetails)===null||_data$bookingDetails9===void 0?void 0:_data$bookingDetails9.bookingNumber);}},\"Retry payment\")))));}async function postToExternalSite(url,txnId){txnIds=txnId;var paymentCompl;ref=InAppBrowser.create(url,\"_blank\",options);var result=ref.on(\"loadstop\").subscribe(async event=>{paymentCompl=await checkPaymentSuccess(event.url,txnId);if(paymentCompl){return await paymentCompl;}else{}});ref.on(\"exit\").subscribe(async()=>{checkPaymentStatus(txnId);},err=>{console.log(err);});return await result;}async function checkPaymentSuccess(url,txnId){if(url.includes(\"/mobileResponseFromRosoomPaymentApp\")){ref.close();var roStatus=await ref.on(\"exit\").subscribe(async()=>{},err=>{console.log(err);});var test=await checkPaymentStatus(txnId);return await test;}else{return false;}}async function checkPaymentStatus(txnId){var appUrl=EndPointURL.rosoomPaymentStatusCheck+txnId;var response=await httpGetCallWithoutHeader(appUrl);if(await response.success){if(response.data.data.dataItems[0].status==\"SUCC\"){await setPaymentPage(\"success\");}else if(response.data.data.dataItems[0].status==\"FAIL\"){await setPaymentPage(\"fail\");}else{await setPaymentPage(\"pending\");}return response;}return response;}async function paymentInfo(bookingNumber){var appUrl=EndPointURL.reinitializeUrl+bookingNumber;var response=await httpPostCallWithoutHeaderAndBody(appUrl);if(await response.success){var url=await response.data.data.dataItems[0].url;var txnId=await response.data.data.dataItems[0].transactionId;await postToExternalSite(url,txnId);}}function ConfirmScreenTabs(){return/*#__PURE__*/React.createElement(IonRow,{id:\"confirm-screen\"},/*#__PURE__*/React.createElement(IonCol,{className:isInProgress?\"clicked\":\"not-clicked\",onClick:()=>OnInProgress(\"inProgress\")},\"IN PROGRESS\"),/*#__PURE__*/React.createElement(IonCol,{className:isDelivered?\"clicked\":\"not-clicked\",onClick:()=>OnInProgress(\"delivered\")},\"DELIVERED\"),/*#__PURE__*/React.createElement(IonCol,{className:isCompleted?\"clicked\":\"not-clicked\",onClick:()=>OnInProgress(\"completed\")},\"COMPLETED\"));}function BookingNumberTab(props){var _props$boe,_props$boe2,_props$boe3,_props$boe4;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(IonRow,{className:\"booking-number-row\"},/*#__PURE__*/React.createElement(IonCol,{size:\"5\",className:\"regular-font\"},/*#__PURE__*/React.createElement(IonLabel,null,\"Declaration Number \")),/*#__PURE__*/React.createElement(IonCol,{size:\"1\",className:\"regular-font\"},/*#__PURE__*/React.createElement(IonLabel,null,\" : \")),/*#__PURE__*/React.createElement(IonCol,null,/*#__PURE__*/React.createElement(IonLabel,null,(_props$boe=props.boe)===null||_props$boe===void 0?void 0:_props$boe.split(\",\")[0]))),((_props$boe2=props.boe)===null||_props$boe2===void 0?void 0:_props$boe2.split(\",\")[1])!==undefined&&/*#__PURE__*/React.createElement(IonRow,{className:\"booking-number-row\"},/*#__PURE__*/React.createElement(IonCol,{size:\"5\",className:\"regular-font\"},/*#__PURE__*/React.createElement(IonLabel,null,\"DO Validity \")),/*#__PURE__*/React.createElement(IonCol,{size:\"1\",className:\"regular-font\"},/*#__PURE__*/React.createElement(IonLabel,null,\" : \")),/*#__PURE__*/React.createElement(IonCol,{className:\"date\"},/*#__PURE__*/React.createElement(IonLabel,null,props.boe&&((_props$boe3=props.boe)===null||_props$boe3===void 0?void 0:_props$boe3.split(\",\")[1])?(_props$boe4=props.boe)===null||_props$boe4===void 0?void 0:_props$boe4.split(\",\")[1]:\"\"))));}function ContainerToolbar(){var _history$location,_value$history5,_value$history5$locat,_value$history5$locat2,_value$history5$locat3,_padStart,_data$bookingDetails13,_padStart2,_data$bookingDetails14,_data$bookingDetails15;let bookingStatus=history===null||history===void 0?void 0:(_history$location=history.location)===null||_history$location===void 0?void 0:_history$location.state.bookingDetails.bookingStatus;async function goToInvoiceTabPage(e){var _data$bookingDetails10,_data$bookingDetails11,_data$bookingDetails12,_value$history4,_value$history4$locat,_value$history4$locat2;e.stopPropagation();var invoiceHeader={noOfContainers:data===null||data===void 0?void 0:(_data$bookingDetails10=data.bookingDetails)===null||_data$bookingDetails10===void 0?void 0:_data$bookingDetails10.containerCount,noOfTrucks:data===null||data===void 0?void 0:(_data$bookingDetails11=data.bookingDetails)===null||_data$bookingDetails11===void 0?void 0:_data$bookingDetails11.truckCount,amountPaid:data===null||data===void 0?void 0:(_data$bookingDetails12=data.bookingDetails)===null||_data$bookingDetails12===void 0?void 0:_data$bookingDetails12.totalAmount,// bookingNumber: value?.history?.location?.state?.bookingNumber,\nbookingNumber:value===null||value===void 0?void 0:(_value$history4=value.history)===null||_value$history4===void 0?void 0:(_value$history4$locat=_value$history4.location)===null||_value$history4$locat===void 0?void 0:(_value$history4$locat2=_value$history4$locat.state)===null||_value$history4$locat2===void 0?void 0:_value$history4$locat2.bookingDetails.bookingNumber};history.push(\"/invoicetabs/manual\",invoiceHeader);}function openDownloadPopup(){setShowDownloadModal(true);}return/*#__PURE__*/React.createElement(IonToolbar,null,/*#__PURE__*/React.createElement(SlideUpModal,{showModal:showDownloadModal,openOrCloseModal:status=>{setShowDownloadModal(status);},content:/*#__PURE__*/React.createElement(DownloadReciept,{bookingReference:value===null||value===void 0?void 0:(_value$history5=value.history)===null||_value$history5===void 0?void 0:(_value$history5$locat=_value$history5.location)===null||_value$history5$locat===void 0?void 0:(_value$history5$locat2=_value$history5$locat.state)===null||_value$history5$locat2===void 0?void 0:(_value$history5$locat3=_value$history5$locat2.bookingDetails)===null||_value$history5$locat3===void 0?void 0:_value$history5$locat3.bookingNumber,click:()=>setShowDownloadModal(false)})}),/*#__PURE__*/React.createElement(IonRow,{className:\"container-toolbar-row\"},/*#__PURE__*/React.createElement(IonCol,{size:\"1\",className:\"container-col\"},/*#__PURE__*/React.createElement(IonIcon,{src:\"/assets/icon/container.svg\"})),/*#__PURE__*/React.createElement(IonCol,{size:\"2.8\",className:\"padding-left\"},/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonText,{className:\"data-font\"},(_padStart=((data===null||data===void 0?void 0:(_data$bookingDetails13=data.bookingDetails)===null||_data$bookingDetails13===void 0?void 0:_data$bookingDetails13.containerCount)+\"\").padStart(2,\"0\"))!==null&&_padStart!==void 0?_padStart:0)),/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonText,{className:\"title-font\"},\"Containers\"))),/*#__PURE__*/React.createElement(IonCol,{size:\"1\",className:\"container-col\"},/*#__PURE__*/React.createElement(IonIcon,{src:\"/assets/icon/truck-grey.svg\"})),/*#__PURE__*/React.createElement(IonCol,{size:\"2.8\",className:\"padding-left\"},/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonText,{className:\"data-font\"},(_padStart2=((data===null||data===void 0?void 0:(_data$bookingDetails14=data.bookingDetails)===null||_data$bookingDetails14===void 0?void 0:_data$bookingDetails14.truckCount)+\"\").padStart(2,\"0\"))!==null&&_padStart2!==void 0?_padStart2:0)),/*#__PURE__*/React.createElement(IonRow,null,/*#__PURE__*/React.createElement(IonText,{className:\"title-font\"},\"Trucks\"))),(bookingStatus===(\"PPAY\"||\"FPAY\")||bookingStatus!==(\"PPAY\"||\"FPAY\")&&!isPOD)&&/*#__PURE__*/React.createElement(IonCol,{size:\"2\",className:\"container-col background download\"//\n//onClick={(e) => goToInvoiceTabPage(e)}\n},/*#__PURE__*/React.createElement(IonButton,{onClick:()=>openDownloadPopup(),fill:\"clear\",size:\"small\",disabled:bookingStatus===(\"PPAY\"||\"FPAY\")||bookingStatus!==(\"PPAY\"||\"FPAY\")&&isPOD},isPOD,/*#__PURE__*/React.createElement(IonIcon,{src:\"/assets/icon/invoices-download.svg\"})))//isPOD\n,bookingStatus!==(\"PPAY\"||\"FPAY\")&&isPOD&&/*#__PURE__*/React.createElement(IonCol,{size:\"2\",className:\"container-col background download\"},/*#__PURE__*/React.createElement(IonButton,{fill:\"clear\",size:\"small\",onClick:e=>goToInvoiceTabPage(e)},/*#__PURE__*/React.createElement(IonIcon,{src:\"/assets/icon/invoice_text_download.svg\"}))),/*#__PURE__*/React.createElement(IonCol,{size:\"2.4\",className:\"container-col-amnt right-align\"},/*#__PURE__*/React.createElement(IonText,{className:\"amnt-text\"},data===null||data===void 0?void 0:(_data$bookingDetails15=data.bookingDetails)===null||_data$bookingDetails15===void 0?void 0:_data$bookingDetails15.totalAmount,\" AED\",\" \"))));}return/*#__PURE__*/React.createElement(IonPage,{id:\"container-details\"},/*#__PURE__*/React.createElement(Header,{label:data===null||data===void 0?void 0:(_data$bookingDetails16=data.bookingDetails)===null||_data$bookingDetails16===void 0?void 0:_data$bookingDetails16.bookingNumber,action:\"info\",customBack:true,backClick:()=>goBack(),agentHeader:true,infoClick:onInfoClick}),(data===null||data===void 0?void 0:data.bookingDetails)!==undefined&&/*#__PURE__*/React.createElement(ContainerToolbar,null),/*#__PURE__*/React.createElement(IonContent,{fullscreen:true,scrollEvents:true},/*#__PURE__*/React.createElement(SlideUpModal,{showModal:showModal,openOrCloseModal:status=>{setShowModal(status);},content:/*#__PURE__*/React.createElement(BookingDetails,null)}),/*#__PURE__*/React.createElement(SlideUpModal,{showModal:showPaymentModal,openOrCloseModal:status=>{setShowPaymentModal(status);},content:/*#__PURE__*/React.createElement(PaymentDetails,null)}),((data===null||data===void 0?void 0:(_data$bookingDetails17=data.bookingDetails)===null||_data$bookingDetails17===void 0?void 0:_data$bookingDetails17.bookingStatus)===\"TRANSCONF\"||(data===null||data===void 0?void 0:(_data$bookingDetails18=data.bookingDetails)===null||_data$bookingDetails18===void 0?void 0:_data$bookingDetails18.bookingStatus)===\"STARTED\")&&/*#__PURE__*/React.createElement(ConfirmScreenTabs,null),groupedData!==undefined&&Object.keys(groupedData).map((boe,index)=>{var _data$bookingDetails19,_data$bookingDetails20;return/*#__PURE__*/React.createElement(\"div\",{key:index},((data===null||data===void 0?void 0:(_data$bookingDetails19=data.bookingDetails)===null||_data$bookingDetails19===void 0?void 0:_data$bookingDetails19.bookingStatus)!==\"TRANSCONF\"||(data===null||data===void 0?void 0:(_data$bookingDetails20=data.bookingDetails)===null||_data$bookingDetails20===void 0?void 0:_data$bookingDetails20.bookingStatus)!==\"STARTED\")&&/*#__PURE__*/React.createElement(BookingNumberTab,{boe:boe}),groupedData[boe].map((item,index)=>{var _data$bookingDetails21,_value$location,_value$location$state,_data$bookingDetails22,_item$refStatus;return/*#__PURE__*/React.createElement(ContainerCard,{bookingStatus:data===null||data===void 0?void 0:(_data$bookingDetails21=data.bookingDetails)===null||_data$bookingDetails21===void 0?void 0:_data$bookingDetails21.bookingStatus,key:index,userType:value===null||value===void 0?void 0:(_value$location=value.location)===null||_value$location===void 0?void 0:(_value$location$state=_value$location.state)===null||_value$location$state===void 0?void 0:_value$location$state.userType,container_number:item===null||item===void 0?void 0:item.container_number,consigneeName:item===null||item===void 0?void 0:item.consigneeDetails,pickUpLocation:item===null||item===void 0?void 0:item.pickupLocation,dropLocation:item===null||item===void 0?void 0:item.dropAddress,dropZone:item===null||item===void 0?void 0:item.dropZoneLabel,bookingNumber:data===null||data===void 0?void 0:(_data$bookingDetails22=data.bookingDetails)===null||_data$bookingDetails22===void 0?void 0:_data$bookingDetails22.bookingNumber,dropTime:item===null||item===void 0?void 0:item.date_time,boeNumber:item===null||item===void 0?void 0:item.boeNumber,containerWeight:item===null||item===void 0?void 0:item.containerWeight,isoCode:item===null||item===void 0?void 0:item.iso_code,holdAuthority:item===null||item===void 0?void 0:item.holdAuthority,storageValidity:item===null||item===void 0?void 0:item.storagePaidTill,initials:item===null||item===void 0?void 0:item.initials,cancelRemarks:item===null||item===void 0?void 0:item.cancelRemarks,containerStatus:item===null||item===void 0?void 0:(_item$refStatus=item.refStatus)===null||_item$refStatus===void 0?void 0:_item$refStatus.code,containerType:item===null||item===void 0?void 0:item.containerType,proofOfDelivery:item===null||item===void 0?void 0:item.proofOfDelivery,viewClick:()=>{viewContactDetails(item);},trackClick:()=>viewTrack(item),closeClick:()=>{closeContainer(item,index);}});}));}),Object.keys(groupedData).length===0&&groupedData.constructor===Object&&/*#__PURE__*/React.createElement(IonCard,{className:\"noData\"},/*#__PURE__*/React.createElement(IonCardContent,null,/*#__PURE__*/React.createElement(IonLabel,null,\"No Data to show\"))),/*#__PURE__*/React.createElement(Alert,{alertProps:alertProps})));}","map":{"version":3,"sources":["D:/DT/ptmsCheckOutNew/New-MobileApp/src/pages/myBooking/containerDetails/ContainerDetails.tsx"],"names":["React","useEffect","useState","IonGrid","IonCol","IonContent","IonIcon","IonLabel","IonPage","IonRow","IonText","IonToolbar","IonButton","IonCard","IonCardContent","ContainerCard","Header","useHistory","httpPostCallWithoutHeaderAndWithBody","httpGetCallWithoutHeader","httpPostCallWithoutHeaderAndBody","getInvoiceDetails","EndPointURL","Alert","SlideUpModal","RoundedAvatar","InAppBrowser","DownloadReciept","ContainerDetails","value","data","setData","groupedData","setGroupedData","alertPopup","setAlertPopup","message","setMessage","deleteContainer","setDeleteContainer","showModal","setShowModal","showPaymentModal","setShowPaymentModal","showDownloadModal","setShowDownloadModal","containerDetails","setContainerDetails","isInProgress","setIsInProgress","isDelivered","setIsDelivered","isCompleted","setIsCompleted","paymentPage","setPaymentPage","bookingDetails","setBookingDetails","history","location","state","ref","txnIds","options","fetchData","bookingNumber","isPOD","setisPOD","referenceNumber","appUrl","response","success","resp","dataItems","invoiceList","length","bookingStatus","OnInProgress","conts","containerList","list","groupingByDeclaration","status","inProgressStatus","cont","undefined","filter","cL","includes","refStatus","code","deliveredStatus","completedStatus","containers","reduce","acc","item","key","boeNumber","orderValidity","push","canCellationRequest","ctn","console","info","JSON","stringify","cancelRequestContainerUrl","r","booking","cardStatus","error","log","handleDelete","actionType","cancelRemarks","cancellationReason","alertProps","isShow","content","icon","alertAction","inputs","name","type","placeholder","cssClass","itemName","viewContactDetails","contact","consigneeContactNumber","consigneeContactName","phoneNumber","dropAddress","addressLine1","dropZone","dropZoneCode","selectedDropZoneLabel","dropZoneLabel","ctnNumber","container_number","dpwTransactionId","requestDetailsNumber","latLng","isContainerEdit","viewTrack","closeContainer","id","deleteData","goBack","onInfoClick","PaymentDetails","margin","fontSize","color","grossAmount","paymentDetails","pd","paymentType","map","index","padding","borderBottom","chargeDescription","subTotalAmount","totalVat","totalAmount","totalContainerTariff","paddingBottom","paddingTop","totalTokenTariff","BookingDetails","paddingLeft","requesterName","requesterContact","importerComments","setTimeout","paymentInfo","postToExternalSite","url","txnId","paymentCompl","create","result","on","subscribe","event","checkPaymentSuccess","checkPaymentStatus","err","close","roStatus","test","rosoomPaymentStatusCheck","reinitializeUrl","transactionId","ConfirmScreenTabs","BookingNumberTab","props","boe","split","ContainerToolbar","goToInvoiceTabPage","e","stopPropagation","invoiceHeader","noOfContainers","containerCount","noOfTrucks","truckCount","amountPaid","openDownloadPopup","padStart","Object","keys","userType","consigneeDetails","pickupLocation","date_time","containerWeight","iso_code","holdAuthority","storagePaidTill","initials","containerType","proofOfDelivery","constructor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  IonGrid,\r\n  IonCol,\r\n  IonContent,\r\n  IonIcon,\r\n  IonLabel,\r\n  IonPage,\r\n  IonRow,\r\n  IonText,\r\n  IonToolbar,\r\n  IonButton,\r\n  IonCard,\r\n  IonCardContent,\r\n} from \"@ionic/react\";\r\nimport ContainerCard from \"../containerDetails/containerCard/ContainerCard\";\r\nimport Header from \"../../../components/Header\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  httpPostCallWithoutHeaderAndWithBody,\r\n  httpGetCallWithoutHeader,\r\n  httpPostCallWithoutHeaderAndBody,\r\n  getInvoiceDetails,\r\n} from \"../../../services/EndPointApi\";\r\nimport * as EndPointURL from \"../../../util/EndPointURL\";\r\nimport \"./ContainerDetails.scss\";\r\nimport Alert from \"../../../components/alert/Alert\";\r\nimport SlideUpModal from \"../../../components/PopUp/SlideUpModal\";\r\nimport { closeOutline } from \"ionicons/icons\";\r\nimport RoundedAvatar from \"../../../components/Avatar/RoundedAvatar\";\r\nimport { InAppBrowser } from \"@ionic-native/in-app-browser\";\r\nimport DownloadReciept from \"../../../components/DownloadReciept/DownloadReciept\";\r\n\r\nexport default function ContainerDetails(value) {\r\n  const [data, setData] = useState<any>({});\r\n  const [groupedData, setGroupedData] = useState<any>({});\r\n  const [] = useState(false);\r\n  const [alertPopup, setAlertPopup] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [deleteContainer, setDeleteContainer] = useState<any>({});\r\n  const [showModal, setShowModal] = useState<boolean>(false);\r\n  const [showPaymentModal, setShowPaymentModal] = useState<boolean>(false);\r\n  const [showDownloadModal, setShowDownloadModal] = useState<boolean>(false);\r\n  const [containerDetails, setContainerDetails] = useState<any>();\r\n  const [isInProgress, setIsInProgress] = useState<boolean>(false);\r\n  const [isDelivered, setIsDelivered] = useState<boolean>(false);\r\n  const [isCompleted, setIsCompleted] = useState<boolean>(false);\r\n  const [paymentPage, setPaymentPage] = useState(\"\");\r\n\r\n  const [bookingDetails, setBookingDetails] = useState(\r\n    value?.history?.location?.state.bookingDetails\r\n  );\r\n  let history: any = useHistory();\r\n  var ref;\r\n  var txnIds;\r\n  var options = \"zoom=no,footer=no,location=no\";\r\n\r\n  useEffect(() => {\r\n    fetchData(value?.history?.location?.state?.bookingDetails?.bookingNumber);\r\n  }, []);\r\n\r\n  const [isPOD, setisPOD] = useState(false);\r\n  const fetchData = async (referenceNumber) => {\r\n    let appUrl = EndPointURL.containerDetails + \"refNo=\" + referenceNumber;\r\n    var response = await httpGetCallWithoutHeader(appUrl);\r\n    if (await response.success) {\r\n      var resp = await getInvoiceDetails(referenceNumber);\r\n      if (resp?.success) {\r\n        if (resp.data.data.dataItems[0].invoiceList.length > 0) {\r\n          setisPOD(true);\r\n        }\r\n      }\r\n      // bookingDetails: value?.history?.location?.state,\r\n      setData({\r\n        ...data,\r\n        bookingDetails: bookingDetails,\r\n        response: response,\r\n      });\r\n      let bookingStatus = value?.history?.location?.state?.bookingStatus;\r\n      setContainerDetails(response?.data);\r\n      if (bookingStatus == \"TRANSCONF\" || bookingStatus === \"STARTED\") {\r\n        OnInProgress(\"inProgress\", response?.data);\r\n      } else {\r\n        var conts = response?.data.containerList;\r\n        var list = groupingByDeclaration(conts);\r\n        setGroupedData(list);\r\n      }\r\n    }\r\n  };\r\n\r\n  const OnInProgress = (status, ...cont) => {\r\n    let conts;\r\n    if (status == \"inProgress\") {\r\n      setIsCompleted(false);\r\n      setIsDelivered(false);\r\n      setIsInProgress(true);\r\n\r\n      let inProgressStatus = [\r\n        \"PEND\",\r\n        \"PENTRUCK\",\r\n        \"PODUPL\",\r\n        \"INPRO\",\r\n        \"TRUCK_ASGN\",\r\n        \"PENDING_TOKEN\",\r\n      ];\r\n      conts =\r\n        containerDetails == undefined\r\n          ? cont[0].containerList.filter((cL) =>\r\n              inProgressStatus.includes(cL.refStatus?.code)\r\n            )\r\n          : containerDetails.containerList.filter((cL) =>\r\n              inProgressStatus.includes(cL.refStatus?.code)\r\n            );\r\n    } else if (status == \"delivered\") {\r\n      setIsInProgress(false);\r\n      setIsCompleted(false);\r\n      setIsDelivered(true);\r\n      let deliveredStatus = [\"FCL_DEL\", \"PMTTOK\", \"MTTOKASGN\", \"MTTRK_ASGN\"];\r\n      conts = containerDetails.containerList.filter((cL) =>\r\n        deliveredStatus.includes(cL.refStatus?.code)\r\n      );\r\n    } else {\r\n      setIsInProgress(false);\r\n      setIsDelivered(false);\r\n      setIsCompleted(true);\r\n      let completedStatus = [\"MT_DEL\", \"COMPL\"];\r\n      conts = containerDetails.containerList.filter((cL) =>\r\n        completedStatus.includes(cL.refStatus?.code)\r\n      );\r\n    }\r\n    var list = groupingByDeclaration(conts);\r\n    setGroupedData(list);\r\n  };\r\n\r\n  const groupingByDeclaration = (containers: any) => {\r\n    return containers.reduce(function (acc, { ...item }) {\r\n      const key = `${item.boeNumber},${\r\n        item.orderValidity ? item.orderValidity : \"\"\r\n      }`;\r\n      (acc[key] = acc[key] || []).push(item);\r\n      return acc;\r\n    }, {});\r\n  };\r\n\r\n  const canCellationRequest = async (ctn) => {\r\n    try {\r\n      await console.info(\"BEFORE DELETE \", JSON.stringify(data.containers));\r\n      let response = await httpPostCallWithoutHeaderAndWithBody(\r\n        EndPointURL.cancelRequestContainerUrl,\r\n        ctn\r\n      );\r\n      await console.info(\"DELETE \", JSON.stringify(ctn.key));\r\n      if (response?.success) {\r\n        await delete data.containers[ctn.key];\r\n        let r = await { booking: data.booking, containers: data.containers };\r\n        console.info(\"AFTER DELETED  \", r);\r\n        await setData(r);\r\n        history.push(\"/bookingDetails/\" + data?.bookingDetails?.cardStatus);\r\n      }\r\n    } catch (error) {\r\n      await console.log(\"ERROR +++ {} \", error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = (item, actionType) => {\r\n    if (actionType) {\r\n      setAlertPopup(false);\r\n      deleteContainer.cancelRemarks = item.cancellationReason;\r\n      canCellationRequest(deleteContainer);\r\n    } else {\r\n    }\r\n  };\r\n\r\n  const alertProps = {\r\n    isShow: alertPopup,\r\n    message: message,\r\n    content: \"cancel the container?\",\r\n    icon: \"<img src='/assets/icon/are-you-sure.svg'/>\",\r\n    alertAction: handleDelete,\r\n    inputs: [\r\n      {\r\n        name: \"cancellationReason\",\r\n        type: \"textarea\",\r\n        placeholder: \"Reason for cancellaltion\",\r\n        cssClass: \"input-class\",\r\n      },\r\n    ],\r\n    itemName:\r\n      \"Kindly check our <a href=`https://www.google.com/`> className='link-text'>cancellation policy</a> <br/>before proceeding.\",\r\n    // cancelPolicy: true\r\n  };\r\n\r\n  const viewContactDetails = (ctn) => {\r\n    let value = {\r\n      contact: {\r\n        consigneeContactNumber: ctn.consigneeContactNumber,\r\n        consigneeContactName: ctn?.consigneeContactName,\r\n        phoneNumber: ctn?.phoneNumber,\r\n        dropAddress: ctn?.dropAddress,\r\n        addressLine1: ctn?.addressLine1,\r\n        dropZone: ctn?.dropZoneCode,\r\n        selectedDropZoneLabel: ctn?.dropZoneLabel,\r\n        ctnNumber: ctn?.container_number,\r\n        dpwTransactionId: ctn?.dpwTransactionId,\r\n        requestDetailsNumber: ctn?.requestDetailsNumber,\r\n        latLng: ctn?.latLng,\r\n      },\r\n      // booking: data.details,\r\n      bookingDetails: bookingDetails,\r\n      containerList: data.response.data.containerList,\r\n      isContainerEdit: true,\r\n      // response : data.response\r\n    };\r\n    history.push(\"/addAddress\", value);\r\n  };\r\n\r\n  const viewTrack = (item) => {\r\n    history.push(\"/track\", item);\r\n  };\r\n\r\n  const closeContainer = (ctn, id) => {\r\n    let deleteData = {\r\n      dpwTransactionId: ctn.dpwTransactionId,\r\n      requestDetailsNumber: ctn.requestDetailsNumber,\r\n      container_number: ctn.container_number,\r\n      refStatus: { code: \"CNCL\" },\r\n      key: id,\r\n    };\r\n    setAlertPopup(true);\r\n    setMessage(ctn.container_number);\r\n    setDeleteContainer(deleteData);\r\n  };\r\n\r\n  const goBack = () => {\r\n    history.push(\"/bookingDetails/\" + data?.bookingDetails?.cardStatus);\r\n  };\r\n\r\n  const onInfoClick = () => {\r\n    setShowModal(true);\r\n  };\r\n\r\n  function PaymentDetails() {\r\n    return (\r\n      <div id=\"slide-up-details\">\r\n        <IonGrid>\r\n          <IonRow>\r\n            <IonCol size=\"8\">\r\n              <span\r\n                className=\"label-text\"\r\n                style={{ margin: 0, fontSize: \"1.1rem\" }}\r\n              >\r\n                Payment Breakups\r\n              </span>\r\n              <hr className=\"header-text\" style={{ margin: 0 }} />\r\n            </IonCol>\r\n            <IonCol size=\"3\" style={{ color: \"#0568AE\" }}>\r\n              {containerDetails.grossAmount} AED\r\n            </IonCol>\r\n            {/* <IonCol size=\"1\">\r\n              <IonIcon\r\n                icon={closeOutline}\r\n                className=\"close-icon\"\r\n                onClick={() => setShowPaymentModal(false)}\r\n              />\r\n            </IonCol> */}\r\n          </IonRow>\r\n          {containerDetails.paymentDetails\r\n            .filter((pd) => pd.paymentType === \"transportation\")\r\n            .map((item, index) => (\r\n              <div\r\n                className=\"data-text\"\r\n                key={index}\r\n                style={\r\n                  containerDetails.paymentDetails.filter((pd) => {\r\n                    return pd.paymentType === \"transportation\";\r\n                  }).length ==\r\n                  index + 1\r\n                    ? { padding: \"10px\" }\r\n                    : { borderBottom: \"1px solid #D7D7D7\", padding: \"10px\" }\r\n                }\r\n              >\r\n                <IonRow>\r\n                  <IonCol className=\"column-space\">Containers</IonCol>\r\n                  <IonCol className=\"column-space\">\r\n                    {item.chargeDescription}\r\n                  </IonCol>\r\n                  <IonCol className=\"column-space\">\r\n                    {item.subTotalAmount} AED\r\n                  </IonCol>\r\n                </IonRow>\r\n                <IonRow>\r\n                  <IonCol className=\"column-space\">Vat %</IonCol>\r\n                  <IonCol className=\"column-space\">5%</IonCol>\r\n                  <IonCol className=\"column-space\">{item.totalVat} AED</IonCol>\r\n                </IonRow>\r\n                <IonRow>\r\n                  <IonCol className=\"column-space\" size=\"8\">\r\n                    Total\r\n                  </IonCol>\r\n                  <IonCol className=\"column-space\">\r\n                    {item.totalAmount} AED\r\n                  </IonCol>\r\n                </IonRow>\r\n              </div>\r\n            ))}\r\n          <IonRow\r\n            className=\"data-text\"\r\n            style={{ borderBottom: \"1px solid #D7D7D7\" }}\r\n          >\r\n            <IonCol className=\"column-space\" size=\"8\">\r\n              Net Amount\r\n            </IonCol>\r\n            <IonCol className=\"column-space\">\r\n              {containerDetails.totalContainerTariff} AED\r\n            </IonCol>\r\n          </IonRow>\r\n          {containerDetails.paymentDetails\r\n            .filter((pd) => pd.paymentType !== \"transportation\")\r\n            .map((item, index) => (\r\n              <div\r\n                className=\"data-text\"\r\n                key={index}\r\n                style={\r\n                  containerDetails.paymentDetails.filter((pd) => {\r\n                    return pd.paymentType !== \"transportation\";\r\n                  }).length ==\r\n                  index + 1\r\n                    ? {}\r\n                    : { borderBottom: \"1px solid #D7D7D7\" }\r\n                }\r\n              >\r\n                <IonRow>\r\n                  <IonCol className=\"column-space\">Token Charges</IonCol>\r\n                  <IonCol className=\"column-space\">\r\n                    {item.chargeDescription}\r\n                  </IonCol>\r\n                  <IonCol className=\"column-space\">\r\n                    {item.subTotalAmount} AED\r\n                  </IonCol>\r\n                </IonRow>\r\n                <IonRow>\r\n                  <IonCol className=\"column-space\">Vat %</IonCol>\r\n                  <IonCol className=\"column-space\">5%</IonCol>\r\n                  <IonCol className=\"column-space\">{item.totalVat} AED</IonCol>\r\n                </IonRow>\r\n                <IonRow>\r\n                  <IonCol className=\"column-space\" size=\"8\">\r\n                    Total\r\n                  </IonCol>\r\n                  <IonCol className=\"column-space\">\r\n                    {item.totalAmount} AED\r\n                  </IonCol>\r\n                </IonRow>\r\n              </div>\r\n            ))}\r\n          <IonRow\r\n            className=\"data-text\"\r\n            style={{\r\n              borderBottom: \"1px solid #D7D7D7\",\r\n              paddingBottom: \"10px\",\r\n              paddingTop: \"10px\",\r\n            }}\r\n          >\r\n            <IonCol className=\"column-space\" size=\"8\">\r\n              Net Amount\r\n            </IonCol>\r\n            <IonCol className=\"column-space\">\r\n              {containerDetails.totalTokenTariff} AED\r\n            </IonCol>\r\n          </IonRow>\r\n          <IonRow className=\"data-text\">\r\n            <IonCol\r\n              className=\"column-space\"\r\n              size=\"8\"\r\n              style={{ fontSize: \"1.1rem\" }}\r\n            >\r\n              Gross Amount\r\n            </IonCol>\r\n            <IonCol\r\n              className=\"column-space\"\r\n              style={{ color: \"#0568AE\", fontSize: \"1.1rem\" }}\r\n            >\r\n              {containerDetails.grossAmount} AED\r\n            </IonCol>\r\n          </IonRow>\r\n        </IonGrid>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  function BookingDetails() {\r\n    return (\r\n      <div id=\"slide-up-details\" style={{ paddingLeft: \"15px\" }}>\r\n        <IonGrid>\r\n          <IonRow>\r\n            <IonCol size=\"1\">\r\n              <RoundedAvatar color={\"#1DB3FE\"} name={\"IA\"} />\r\n            </IonCol>\r\n            <IonCol size=\"10\">\r\n              <span className=\"label-text\">\r\n                {data?.bookingDetails?.bookingNumber}\r\n              </span>\r\n              <hr className=\"header-text\" />\r\n            </IonCol>\r\n            {/* <IonCol size=\"1\">\r\n              <IonIcon\r\n                icon={closeOutline}\r\n                className=\"close-icon\"\r\n                onClick={() => setShowModal(false)}\r\n              />\r\n            </IonCol> */}\r\n          </IonRow>\r\n          <IonRow className=\"row-text\">\r\n            <IonCol className=\"column-space\" size=\"7\">\r\n              Requestor Name\r\n            </IonCol>\r\n            <IonCol className=\"column-space\">Requestor Contact</IonCol>\r\n          </IonRow>\r\n          <IonRow className=\"data-text\">\r\n            <IonCol className=\"column-space\" size=\"7\">\r\n              {data?.bookingDetails?.requesterName}\r\n            </IonCol>\r\n            <IonCol className=\"column-space\">\r\n              {data?.bookingDetails?.requesterContact}\r\n            </IonCol>\r\n          </IonRow>\r\n          {data?.bookingDetails?.importerComments !== null && (\r\n            <>\r\n              <IonRow className=\"row-text\">\r\n                <IonCol className=\"column-space\">Importer Comments</IonCol>\r\n              </IonRow>\r\n              <IonRow className=\"data-text\">\r\n                <IonCol className=\"column-space\">\r\n                  {data?.bookingDetails?.importerComments}\r\n                </IonCol>\r\n              </IonRow>\r\n            </>\r\n          )}\r\n          <div style={{ paddingTop: \"15px\", paddingBottom: \"15px\" }}>\r\n            <IonRow\r\n              className=\"data-text\"\r\n              style={{ paddingBottom: \"10px\", fontSize: \"1.1rem\" }}\r\n            >\r\n              <IonCol className=\"column-space\">Payment Details</IonCol>\r\n            </IonRow>\r\n            {containerDetails.paymentDetails\r\n              .filter((pd) => pd.paymentType === \"transportation\")\r\n              .map((item, index) => (\r\n                <IonRow className=\"data-text\" key={index}>\r\n                  <IonCol className=\"column-space\" size=\"7\">\r\n                    {item.chargeDescription}\r\n                  </IonCol>\r\n                  <IonCol className=\"column-space\">\r\n                    {item.totalAmount} AED\r\n                  </IonCol>\r\n                </IonRow>\r\n              ))}\r\n            {containerDetails.paymentDetails\r\n              .filter(\r\n                (pd) =>\r\n                  pd.paymentType === \"tokenIn\" || pd.paymentType === \"tokenOut\"\r\n              )\r\n              .map((item, index) => (\r\n                <IonRow className=\"data-text\" key={index}>\r\n                  <IonCol className=\"column-space\" size=\"7\">\r\n                    {item.chargeDescription}\r\n                  </IonCol>\r\n                  <IonCol className=\"column-space\">\r\n                    {item.totalAmount} AED\r\n                  </IonCol>\r\n                </IonRow>\r\n              ))}\r\n            <IonRow className=\"data-text\">\r\n              <IonCol className=\"column-space\" size=\"7\">\r\n                Gross Amount\r\n              </IonCol>\r\n              <IonCol className=\"column-space\">\r\n                {containerDetails.grossAmount} AED\r\n              </IonCol>\r\n            </IonRow>\r\n          </div>\r\n          <IonRow>\r\n            <IonCol>\r\n              <IonButton\r\n                className=\"blue-link-text\"\r\n                fill=\"clear\"\r\n                onClick={() => {\r\n                  setShowModal(false);\r\n                  setTimeout(() => {\r\n                    setShowPaymentModal(true);\r\n                  }, 2500);\r\n                }}\r\n              >\r\n                View Detailed Breakups\r\n              </IonButton>\r\n            </IonCol>\r\n            {data?.bookingDetails?.bookingStatus === \"FPAY\" && (\r\n              <IonCol>\r\n                <IonButton\r\n                  className=\"link-text\"\r\n                  fill=\"clear\"\r\n                  onClick={() =>\r\n                    paymentInfo(data?.bookingDetails?.bookingNumber)\r\n                  }\r\n                >\r\n                  Retry payment\r\n                </IonButton>\r\n              </IonCol>\r\n            )}\r\n          </IonRow>\r\n        </IonGrid>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  async function postToExternalSite(url, txnId) {\r\n    txnIds = txnId;\r\n    var paymentCompl;\r\n    ref = InAppBrowser.create(url, \"_blank\", options);\r\n\r\n    var result = ref.on(\"loadstop\").subscribe(async (event) => {\r\n      paymentCompl = await checkPaymentSuccess(event.url, txnId);\r\n      if (paymentCompl) {\r\n        return await paymentCompl;\r\n      } else {\r\n      }\r\n    });\r\n\r\n    ref.on(\"exit\").subscribe(\r\n      async () => {\r\n        checkPaymentStatus(txnId);\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n      }\r\n    );\r\n    return await result;\r\n  }\r\n\r\n  async function checkPaymentSuccess(url, txnId) {\r\n    if (url.includes(\"/mobileResponseFromRosoomPaymentApp\")) {\r\n      ref.close();\r\n      var roStatus = await ref.on(\"exit\").subscribe(\r\n        async () => {},\r\n        (err) => {\r\n          console.log(err);\r\n        }\r\n      );\r\n      var test = await checkPaymentStatus(txnId);\r\n      return await test;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  async function checkPaymentStatus(txnId) {\r\n    var appUrl = EndPointURL.rosoomPaymentStatusCheck + txnId;\r\n    var response = await httpGetCallWithoutHeader(appUrl);\r\n    if (await response.success) {\r\n      if (response.data.data.dataItems[0].status == \"SUCC\") {\r\n        await setPaymentPage(\"success\");\r\n      } else if (response.data.data.dataItems[0].status == \"FAIL\") {\r\n        await setPaymentPage(\"fail\");\r\n      } else {\r\n        await setPaymentPage(\"pending\");\r\n      }\r\n      return response;\r\n    }\r\n    return response;\r\n  }\r\n\r\n  async function paymentInfo(bookingNumber) {\r\n    var appUrl = EndPointURL.reinitializeUrl + bookingNumber;\r\n    var response = await httpPostCallWithoutHeaderAndBody(appUrl);\r\n    if (await response.success) {\r\n      var url = await response.data.data.dataItems[0].url;\r\n      var txnId = await response.data.data.dataItems[0].transactionId;\r\n      await postToExternalSite(url, txnId);\r\n    }\r\n  }\r\n\r\n  function ConfirmScreenTabs() {\r\n    return (\r\n      <IonRow id=\"confirm-screen\">\r\n        <IonCol\r\n          className={isInProgress ? \"clicked\" : \"not-clicked\"}\r\n          onClick={() => OnInProgress(\"inProgress\")}\r\n        >\r\n          IN PROGRESS\r\n        </IonCol>\r\n        <IonCol\r\n          className={isDelivered ? \"clicked\" : \"not-clicked\"}\r\n          onClick={() => OnInProgress(\"delivered\")}\r\n        >\r\n          DELIVERED\r\n        </IonCol>\r\n        <IonCol\r\n          className={isCompleted ? \"clicked\" : \"not-clicked\"}\r\n          onClick={() => OnInProgress(\"completed\")}\r\n        >\r\n          COMPLETED\r\n        </IonCol>\r\n      </IonRow>\r\n    );\r\n  }\r\n\r\n  function BookingNumberTab(props) {\r\n    return (\r\n      <>\r\n      <IonRow className=\"booking-number-row\">\r\n          <IonCol size=\"5\" className=\"regular-font\">\r\n            <IonLabel>Declaration Number </IonLabel>\r\n        </IonCol>\r\n          <IonCol size=\"1\" className=\"regular-font\">\r\n            <IonLabel> : </IonLabel>\r\n          </IonCol>\r\n          <IonCol>\r\n            <IonLabel>{props.boe?.split(\",\")[0]}</IonLabel>\r\n          </IonCol>\r\n        </IonRow>\r\n        \r\n        {props.boe?.split(\",\")[1] !== undefined && (\r\n          <IonRow className=\"booking-number-row\">\r\n            <IonCol size=\"5\" className=\"regular-font\">\r\n              <IonLabel>DO Validity </IonLabel>\r\n            </IonCol>\r\n            <IonCol size=\"1\" className=\"regular-font\">\r\n            <IonLabel> : </IonLabel>\r\n          </IonCol>\r\n          <IonCol className=\"date\">\r\n            <IonLabel>\r\n              {props.boe && props.boe?.split(\",\")[1]\r\n                ? props.boe?.split(\",\")[1]\r\n                : \"\"}\r\n            </IonLabel>\r\n          </IonCol>\r\n          </IonRow>\r\n        )}\r\n     \r\n      </>\r\n    );\r\n  }\r\n\r\n  function ContainerToolbar() {\r\n    let bookingStatus = history?.location?.state.bookingDetails.bookingStatus;\r\n\r\n    async function goToInvoiceTabPage(e) {\r\n      e.stopPropagation();\r\n      var invoiceHeader = {\r\n        noOfContainers: data?.bookingDetails?.containerCount,\r\n        noOfTrucks: data?.bookingDetails?.truckCount,\r\n        amountPaid: data?.bookingDetails?.totalAmount,\r\n        // bookingNumber: value?.history?.location?.state?.bookingNumber,\r\n        bookingNumber:\r\n          value?.history?.location?.state?.bookingDetails.bookingNumber,\r\n      };\r\n      history.push(\"/invoicetabs/manual\", invoiceHeader);\r\n    }\r\n\r\n    function openDownloadPopup() {\r\n      setShowDownloadModal(true);\r\n    }\r\n    return (\r\n      <IonToolbar>\r\n        <SlideUpModal\r\n          showModal={showDownloadModal}\r\n          openOrCloseModal={(status) => {\r\n            setShowDownloadModal(status);\r\n          }}\r\n          content={\r\n            <DownloadReciept\r\n              bookingReference={\r\n                value?.history?.location?.state?.bookingDetails?.bookingNumber\r\n              }\r\n              click={() => setShowDownloadModal(false)}\r\n            />\r\n          }\r\n        />\r\n        <IonRow className=\"container-toolbar-row\">\r\n          <IonCol size=\"1\" className=\"container-col\">\r\n            <IonIcon src=\"/assets/icon/container.svg\" />\r\n          </IonCol>\r\n          <IonCol size=\"2.8\" className=\"padding-left\">\r\n            <IonRow>\r\n              <IonText className=\"data-font\">\r\n                {(data?.bookingDetails?.containerCount + \"\").padStart(2, \"0\") ??\r\n                  0}\r\n              </IonText>\r\n            </IonRow>\r\n            <IonRow>\r\n              <IonText className=\"title-font\">Containers</IonText>\r\n            </IonRow>\r\n          </IonCol>\r\n          <IonCol size=\"1\" className=\"container-col\">\r\n            <IonIcon src=\"/assets/icon/truck-grey.svg\" />\r\n          </IonCol>\r\n          <IonCol size=\"2.8\" className=\"padding-left\">\r\n            <IonRow>\r\n              <IonText className=\"data-font\">\r\n                {(data?.bookingDetails?.truckCount + \"\").padStart(2, \"0\") ?? 0}\r\n              </IonText>\r\n            </IonRow>\r\n            <IonRow>\r\n              <IonText className=\"title-font\">Trucks</IonText>\r\n            </IonRow>\r\n          </IonCol>\r\n          {(bookingStatus === (\"PPAY\" || \"FPAY\") ||\r\n            (bookingStatus !== (\"PPAY\" || \"FPAY\") && !isPOD)) && (\r\n            <IonCol\r\n              size=\"2\"\r\n              className=\"container-col background download\"\r\n              //\r\n              //onClick={(e) => goToInvoiceTabPage(e)}\r\n            >\r\n              <IonButton\r\n                onClick={() => openDownloadPopup()}\r\n                fill=\"clear\"\r\n                size=\"small\"\r\n                disabled={\r\n                  bookingStatus === (\"PPAY\" || \"FPAY\") ||\r\n                  (bookingStatus !== (\"PPAY\" || \"FPAY\") && isPOD)\r\n                }\r\n              >\r\n                {isPOD}\r\n                <IonIcon src=\"/assets/icon/invoices-download.svg\" />\r\n              </IonButton>\r\n            </IonCol> //isPOD\r\n          )}\r\n          {bookingStatus !== (\"PPAY\" || \"FPAY\") && isPOD && (\r\n            <IonCol size=\"2\" className=\"container-col background download\">\r\n              <IonButton\r\n                fill=\"clear\"\r\n                size=\"small\"\r\n                onClick={(e) => goToInvoiceTabPage(e)}\r\n              >\r\n                <IonIcon src=\"/assets/icon/invoice_text_download.svg\" />\r\n              </IonButton>\r\n            </IonCol>\r\n          )}\r\n          <IonCol size=\"2.4\" className=\"container-col-amnt right-align\">\r\n            <IonText className=\"amnt-text\">\r\n              {/* {data?.bookingDetails?.totalAmount} AED{\" \"} */}\r\n              {data?.bookingDetails?.totalAmount} AED{\" \"}\r\n            </IonText>\r\n          </IonCol>\r\n        </IonRow>\r\n      </IonToolbar>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <IonPage id=\"container-details\">\r\n      <Header\r\n        label={data?.bookingDetails?.bookingNumber}\r\n        action=\"info\"\r\n        customBack={true}\r\n        backClick={() => goBack()}\r\n        agentHeader={true}\r\n        infoClick={onInfoClick}\r\n      />\r\n      {data?.bookingDetails !== undefined && <ContainerToolbar />}\r\n      <IonContent fullscreen scrollEvents={true}>\r\n        <SlideUpModal\r\n          showModal={showModal}\r\n          openOrCloseModal={(status) => {\r\n            setShowModal(status);\r\n          }}\r\n          content={<BookingDetails />}\r\n        />\r\n        <SlideUpModal\r\n          showModal={showPaymentModal}\r\n          openOrCloseModal={(status) => {\r\n            setShowPaymentModal(status);\r\n          }}\r\n          content={<PaymentDetails />}\r\n        />\r\n        {(data?.bookingDetails?.bookingStatus === \"TRANSCONF\" ||\r\n          data?.bookingDetails?.bookingStatus === \"STARTED\") && (\r\n          <ConfirmScreenTabs />\r\n        )}\r\n        {groupedData !== undefined &&\r\n          Object.keys(groupedData).map((boe, index) => (\r\n            <div key={index}>\r\n              {(data?.bookingDetails?.bookingStatus !== \"TRANSCONF\" ||\r\n                data?.bookingDetails?.bookingStatus !== \"STARTED\") && (\r\n                <BookingNumberTab boe={boe} />\r\n              )}\r\n              {groupedData[boe].map((item, index) => (\r\n                <ContainerCard\r\n                  bookingStatus={data?.bookingDetails?.bookingStatus}\r\n                  key={index}\r\n                  userType={value?.location?.state?.userType}\r\n                  container_number={item?.container_number}\r\n                  consigneeName={item?.consigneeDetails}\r\n                  pickUpLocation={item?.pickupLocation}\r\n                  dropLocation={item?.dropAddress}\r\n                  dropZone={item?.dropZoneLabel}\r\n                  bookingNumber={data?.bookingDetails?.bookingNumber}\r\n                  dropTime={item?.date_time}\r\n                  boeNumber={item?.boeNumber}\r\n                  containerWeight={item?.containerWeight}\r\n                  isoCode={item?.iso_code}\r\n                  holdAuthority={item?.holdAuthority}\r\n                  storageValidity={item?.storagePaidTill}\r\n                  initials={item?.initials}\r\n                  cancelRemarks={item?.cancelRemarks}\r\n                  containerStatus={item?.refStatus?.code}\r\n                  containerType={item?.containerType}\r\n                  proofOfDelivery={item?.proofOfDelivery}\r\n                  viewClick={() => {\r\n                    viewContactDetails(item);\r\n                  }}\r\n                  trackClick={() => viewTrack(item)}\r\n                  closeClick={() => {\r\n                    closeContainer(item, index);\r\n                  }}\r\n                />\r\n              ))}\r\n            </div>\r\n          ))}\r\n        {Object.keys(groupedData).length === 0 &&\r\n          groupedData.constructor === Object && (\r\n            <IonCard className=\"noData\">\r\n              <IonCardContent>\r\n                <IonLabel>No Data to show</IonLabel>\r\n              </IonCardContent>\r\n            </IonCard>\r\n          )}\r\n        <Alert alertProps={alertProps} />\r\n      </IonContent>\r\n      {/* <IonContent  fullscreen hidden={paymentPage == \"\"}>\r\n          <div hidden={paymentPage !== \"success\"}>\r\n            <PaymentSuccess \r\n            referenceNumber={referenceNumber}\r\n            locationProps={props.history}/>\r\n          </div>\r\n          <div hidden={paymentPage !== \"fail\"}>\r\n            <PaymentFailed \r\n            referenceNumber={referenceNumber}\r\n            locationProps={props.history}/>\r\n          </div>\r\n          <div hidden={paymentPage !== \"pending\"}>\r\n            <PaymentPending\r\n              hidden={true}\r\n              referenceNumber={referenceNumber}\r\n              locationProps={props.history}\r\n            />\r\n          </div>\r\n          </IonContent> */}\r\n    </IonPage>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}