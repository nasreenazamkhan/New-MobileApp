{"ast":null,"code":"import{IonLabel}from\"@ionic/react\";import React,{forwardRef,useImperativeHandle,useEffect,useState,useRef}from\"react\";// import { Capacitor } from \"@capacitor/core\";\n// import { FileOpener } from \"@ionic-native/file-opener\";\nimport Icon from\"./Icon\";import UnderLinedInput from\"./txtinput/UnderLinedInput\";import\"./Payment.scss\";import{saveQuickBook}from\"../services/EndPointApi\";import VatDetails from\"./VatDetails\";import UnderLinedText from\"./Texts/UnderLinedText\";import Store from\"../redux/Store\";import Success from\"../pages/PaymentStatus/Success\";import{updatePaymentStatus}from\"../redux/actions/AllActions\";import Fail from\"../pages/PaymentStatus/Fail\";import Pending from\"../pages/PaymentStatus/Pending\";import{postToExternalSite}from\"../services/PaymentService\";const Payment=forwardRef((_ref,ref)=>{var _allPayableDetails$pa,_allPayableDetails$pa2,_allPayableDetails$pa3;let{allPayableDetails,buttonAction}=_ref;console.log(allPayableDetails);var paymentObject=allPayableDetails;const[errors,setErrors]=useState({});const[form,setForm]=useState({});const[screen,setscreen]=useState({});const fileInput=useRef(null);useEffect(()=>{setscreen(Store.getState().VariableValues.paymentStatus);console.log(\"calling store\",screen);},[]);Store.subscribe(()=>{setscreen(Store.getState().VariableValues.paymentStatus);console.log(Store.getState().VariableValues.paymentStatus,\"calling store\",screen);});const uploadIcon={name:\"upload-quick\",slot:\"\",class:\"zoom3\"};useEffect(()=>{if(buttonAction===\"payment\"){//saveRequest();\n}},[buttonAction]);useImperativeHandle(ref,()=>({async openRosoom(){let obj=createObj();let response=await saveQuickBook(obj);console.log(\"\",response);if(response===null||response===void 0?void 0:response.success){var _response$data,_response$data$data,_response$data$data$d;console.log(response);postToExternalSite(response.data.data.dataItems[0].url,response===null||response===void 0?void 0:(_response$data=response.data)===null||_response$data===void 0?void 0:(_response$data$data=_response$data.data)===null||_response$data$data===void 0?void 0:(_response$data$data$d=_response$data$data.dataItems[0])===null||_response$data$data$d===void 0?void 0:_response$data$data$d.transactionId);}else{setErrors({...errors,general:response.data.message||response.data.data.dataItems[0].error});}//showText();\n}}));const saveRequest=async()=>{//eanas\nvar paymentStatus={status:\"PEND\",reference_num:\"0\"};var updatePaymentStat=await updatePaymentStatus(paymentStatus);if(updatePaymentStat)Store.dispatch(updatePaymentStat);//end eanas\n};const handleChange=(e,value)=>{setForm({...form,...allPayableDetails,[e.target.name]:value});setErrors({...errors,[e.target.name]:\"\"});console.log(form);};function createObj(){paymentObject={...paymentObject,...form};console.log(paymentObject);return paymentObject;}const setImage=e=>{console.log(e.target.files);const file=e.target.files[0];let f=e.target.files[0];let reader=new FileReader();reader.readAsDataURL(f);reader.onload=function(){var _ref2;//me.modelvalue = reader.result;\nconsole.log(reader.result);const contentArr=(_ref2=reader.result)===null||_ref2===void 0?void 0:_ref2.split(\",\");const fileType=contentArr[0].replace(\"data:\",\"\").replace(\";base64\",\"\");console.log(fileType,contentArr[1]);setForm(prevState=>({...prevState,...allPayableDetails,fileContent:contentArr[1],fileType:fileType,fileName:file.name}));};console.log(form);reader.onerror=function(error){console.log(\"Error: \",error);};console.log(f);};function deleteFile(){setForm(prevState=>({...prevState,...allPayableDetails,fileContent:\"\",fileType:\"\",fileName:\"\"}));}return/*#__PURE__*/React.createElement(\"div\",{className:\"componentMargins\"},screen.status===\"\"&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"validationMessage \"},/*#__PURE__*/React.createElement(IonLabel,{className:\"validation-message\",hidden:errors.general===\"\"},errors.general)),/*#__PURE__*/React.createElement(UnderLinedText,{text:\" Enter Requestor Details\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentTopSection\"},/*#__PURE__*/React.createElement(\"div\",{className:\"payment-requester-details\"},/*#__PURE__*/React.createElement(\"div\",{className:\"eachElement\"},/*#__PURE__*/React.createElement(UnderLinedInput,{name:\"requesterName\",value:form.requesterName,label:\"Container Number\",errors:errors.requesterName,type:\"text\",required:true,onChange:handleChange,datatype:\"TEXT\",placeholder:\"Requester Name\",onBlur:()=>console.log(\"blur\")})),/*#__PURE__*/React.createElement(\"div\",{className:\"center-ele\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"eachElement\"},/*#__PURE__*/React.createElement(UnderLinedInput,{name:\"requesterContactNumber\",value:form.requesterContactNumber,label:\"Container Number\",errors:errors.requesterContactNumber,type:\"text\",required:true,onChange:handleChange,datatype:\"TEXT\",placeholder:\"Requester Number\",onBlur:()=>console.log(\"blur\")}))),/*#__PURE__*/React.createElement(UnderLinedInput,{name:\"importerComments\",value:form.importerComments,label:\"Container Number\",errors:errors.importerComments,type:\"text\",required:true,onChange:handleChange,datatype:\"TEXT\",placeholder:\"Importer Comments (if any)\",onBlur:()=>console.log(\"blur\")}),/*#__PURE__*/React.createElement(\"div\",{className:\"upload-section\",onClick:()=>{var _fileInput$current;fileInput===null||fileInput===void 0?void 0:(_fileInput$current=fileInput.current)===null||_fileInput$current===void 0?void 0:_fileInput$current.click();}},/*#__PURE__*/React.createElement(\"input\",{ref:fileInput,hidden:true,type:\"file\",onChange:setImage,onClick:()=>{console.log(\"onClick\");}}),/*#__PURE__*/React.createElement(Icon,{iconProps:uploadIcon}),form.fileName?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(IonLabel,{className:\"uploadLabel\"},\" \",form.fileName+form.fileType,\" \"),/*#__PURE__*/React.createElement(IonLabel,{className:\"uploadLabel\"},\"Re upload\")):/*#__PURE__*/React.createElement(IonLabel,{className:\"uploadLabel\"},\"Upload supporting files\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"componentMargins1\"},/*#__PURE__*/React.createElement(VatDetails,{vatDetails:allPayableDetails===null||allPayableDetails===void 0?void 0:allPayableDetails.vatProfileDto}),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup relativePosition\"},/*#__PURE__*/React.createElement(\"div\",{className:\"halfWidth\"},/*#__PURE__*/React.createElement(UnderLinedText,{text:\"Payment Breakups\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakUprightSide\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"bluePaymentLable\"},allPayableDetails===null||allPayableDetails===void 0?void 0:allPayableDetails.grossAmount,\" AED\"))),allPayableDetails===null||allPayableDetails===void 0?void 0:(_allPayableDetails$pa=allPayableDetails.paymentDetails)===null||_allPayableDetails$pa===void 0?void 0:_allPayableDetails$pa.map((item,index)=>/*#__PURE__*/React.createElement(\"div\",{key:index},item.paymentType===\"transportation\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"payment-section\"},/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup margin-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakupFirstRow\"},\" \",/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabel\"},\"Containers\")),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabelLight\"},\" \",item.chargeDescription)),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakUprightSide\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabelLight\"},item.subTotalAmount,\" AED\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup margin-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakupFirstRow\"},\" \",/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabel\"},\"Vat %\")),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabelLight\"},item.vat,\"%\")),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakUprightSide\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabelLight\"},item.totalVat,\" AED\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\" payment-section paymentBreakup  margin-top no-padding-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakupFirstRow\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabel\"},\"Net Amount\")),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakUprightSide\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"bluePaymentLable\"},allPayableDetails===null||allPayableDetails===void 0?void 0:allPayableDetails.totalContainerTariff,\" AED\"))),allPayableDetails===null||allPayableDetails===void 0?void 0:(_allPayableDetails$pa2=allPayableDetails.paymentDetails)===null||_allPayableDetails$pa2===void 0?void 0:_allPayableDetails$pa2.map((item,index)=>/*#__PURE__*/React.createElement(\"div\",{key:index},item.paymentType===\"tokenIn\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"payment-section no-padding-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup margin-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakupFirstRow payLabel\"},/*#__PURE__*/React.createElement(IonLabel,null,\"Token Re-Charges In-Bound\")),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabelLight\"},\" \",item.chargeDescription)),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakUprightSide\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabelLight\"},\" \",item.subTotalAmount,\" AED\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup margin-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakupFirstRow payLabel\"},\" \",/*#__PURE__*/React.createElement(IonLabel,null,\"Vat %\")),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabelLight\"},item.vat||0,\"%\")),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakUprightSide\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabelLight\"},\" \",item.totalVat||0,\" AED\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup margin-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakupFirstRow payLabel\"},\" \",/*#__PURE__*/React.createElement(IonLabel,null,\"Total Amount\")),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabelLight\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakUprightSide\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabel\"},item.totalAmount,\" AED\")))))),allPayableDetails===null||allPayableDetails===void 0?void 0:(_allPayableDetails$pa3=allPayableDetails.paymentDetails)===null||_allPayableDetails$pa3===void 0?void 0:_allPayableDetails$pa3.map((item,index)=>/*#__PURE__*/React.createElement(\"div\",{key:index},item.paymentType===\"tokenOut\"&&/*#__PURE__*/React.createElement(\"div\",{className:\"payment-section no-padding-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup margin-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakupFirstRow payLabel\"},/*#__PURE__*/React.createElement(IonLabel,null,\"Token Re-Charges Out-Bound\")),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabelLight\"},item.chargeDescription)),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakUprightSide\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabelLight\"},item.subTotalAmount,\" AED\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup margin-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakupFirstRow payLabel\"},/*#__PURE__*/React.createElement(IonLabel,null,\"Vat %\")),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabelLight\"},item.vat||0,\"%\")),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakUprightSide\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabelLight\"},item.totalVat||0,\" AED\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup margin-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakupFirstRow payLabel\"},/*#__PURE__*/React.createElement(IonLabel,null,\"Total Amount\")),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabelLight\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakUprightSide\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"payLabelLight\"},item.totalAmount,\" AED\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup payment-section  margin-top no-padding-top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakupFirstRow payLabel\"},/*#__PURE__*/React.createElement(IonLabel,null,\"Net Amount\")),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakUprightSide\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"bluePaymentLable\"},\" \",allPayableDetails===null||allPayableDetails===void 0?void 0:allPayableDetails.totalTokenTariff,\" AED\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakup  margin-top \"},/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakupFirstRow payLabel\"},/*#__PURE__*/React.createElement(IonLabel,null,\"Gross Payable Amount\")),/*#__PURE__*/React.createElement(\"div\",{className:\"paymentBreakUprightSide\"},/*#__PURE__*/React.createElement(IonLabel,{className:\"bluePaymentLable\"},allPayableDetails===null||allPayableDetails===void 0?void 0:allPayableDetails.grossAmount,\" AED\"))))),screen.status===\"SUCC\"&&/*#__PURE__*/React.createElement(Success,{txnId:screen.reference_num}),screen.status===\"FAIL\"&&/*#__PURE__*/React.createElement(Fail,{txnId:screen.reference_num}),screen.status===\"PEND\"&&/*#__PURE__*/React.createElement(Pending,{txnId:screen.reference_num}));});export default Payment;","map":{"version":3,"sources":["D:/DT/ptmsCheckOutNew/New-MobileApp/src/components/Payment.tsx"],"names":["IonLabel","React","forwardRef","useImperativeHandle","useEffect","useState","useRef","Icon","UnderLinedInput","saveQuickBook","VatDetails","UnderLinedText","Store","Success","updatePaymentStatus","Fail","Pending","postToExternalSite","Payment","ref","allPayableDetails","buttonAction","console","log","paymentObject","errors","setErrors","form","setForm","screen","setscreen","fileInput","getState","VariableValues","paymentStatus","subscribe","uploadIcon","name","slot","class","openRosoom","obj","createObj","response","success","data","dataItems","url","transactionId","general","message","error","saveRequest","status","reference_num","updatePaymentStat","dispatch","handleChange","e","value","target","setImage","files","file","f","reader","FileReader","readAsDataURL","onload","result","contentArr","split","fileType","replace","prevState","fileContent","fileName","onerror","deleteFile","requesterName","requesterContactNumber","importerComments","current","click","vatProfileDto","grossAmount","paymentDetails","map","item","index","paymentType","chargeDescription","subTotalAmount","vat","totalVat","totalContainerTariff","totalAmount","totalTokenTariff"],"mappings":"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","sourcesContent":["import { IonButton, IonIcon, IonLabel } from \"@ionic/react\";\r\nimport React, {\r\n  forwardRef,\r\n  useImperativeHandle,\r\n  useEffect,\r\n  useState,\r\n  useRef,\r\n} from \"react\";\r\n\r\n// import { Capacitor } from \"@capacitor/core\";\r\n// import { FileOpener } from \"@ionic-native/file-opener\";\r\nimport Icon from \"./Icon\";\r\nimport UnderLinedInput from \"./txtinput/UnderLinedInput\";\r\nimport \"./Payment.scss\";\r\nimport { saveQuickBook } from \"../services/EndPointApi\";\r\nimport VatDetails from \"./VatDetails\";\r\nimport UnderLinedText from \"./Texts/UnderLinedText\";\r\nimport UnderLineOnly from \"./InputBorders/UnderLineOnly\";\r\nimport Store from \"../redux/Store\";\r\nimport Success from \"../pages/PaymentStatus/Success\";\r\nimport {\r\n  updateDRaftsPopupInHome,\r\n  updatePaymentStatus,\r\n} from \"../redux/actions/AllActions\";\r\nimport Fail from \"../pages/PaymentStatus/Fail\";\r\nimport Pending from \"../pages/PaymentStatus/Pending\";\r\nimport { postToExternalSite } from \"../services/PaymentService\";\r\nimport { closeCircleOutline } from \"ionicons/icons\";\r\n\r\ninterface paymentProps {\r\n  allPayableDetails: any;\r\n  buttonAction?: any;\r\n  ref?: any;\r\n}\r\nconst Payment: React.FC<paymentProps> = forwardRef(\r\n  ({ allPayableDetails, buttonAction }, ref) => {\r\n    console.log(allPayableDetails);\r\n    var paymentObject = allPayableDetails;\r\n    const [errors, setErrors] = useState<any>({});\r\n    const [form, setForm] = useState<any>({});\r\n    const [screen, setscreen] = useState<any>({});\r\n    const fileInput = useRef(null);\r\n    useEffect(() => {\r\n      setscreen(Store.getState().VariableValues.paymentStatus);\r\n      console.log(\"calling store\", screen);\r\n    }, []);\r\n\r\n    Store.subscribe(() => {\r\n      setscreen(Store.getState().VariableValues.paymentStatus);\r\n      console.log(\r\n        Store.getState().VariableValues.paymentStatus,\r\n        \"calling store\",\r\n        screen\r\n      );\r\n    });\r\n\r\n    const uploadIcon = {\r\n      name: \"upload-quick\",\r\n      slot: \"\",\r\n      class: \"zoom3\",\r\n    };\r\n\r\n    useEffect(() => {\r\n      if (buttonAction === \"payment\") {\r\n        //saveRequest();\r\n      }\r\n    }, [buttonAction]);\r\n    useImperativeHandle(ref, () => ({\r\n      async openRosoom() {\r\n        let obj = createObj();\r\n        let response: any = await saveQuickBook(obj);\r\n        console.log(\"\", response);\r\n        if (response?.success) {\r\n          console.log(response);\r\n          postToExternalSite(\r\n            response.data.data.dataItems[0].url,\r\n            response?.data?.data?.dataItems[0]?.transactionId\r\n          );\r\n        } else {\r\n          setErrors({\r\n            ...errors,\r\n            general:\r\n              response.data.message || response.data.data.dataItems[0].error,\r\n          });\r\n        }\r\n        //showText();\r\n      },\r\n    }));\r\n\r\n    const saveRequest = async () => {\r\n      //eanas\r\n      var paymentStatus = { status: \"PEND\", reference_num: \"0\" };\r\n      var updatePaymentStat = await updatePaymentStatus(paymentStatus);\r\n      if (updatePaymentStat) Store.dispatch(updatePaymentStat);\r\n      //end eanas\r\n    };\r\n\r\n    const handleChange = (e: any, value: any) => {\r\n      setForm({\r\n        ...form,\r\n        ...allPayableDetails,\r\n        [e.target.name]: value,\r\n      });\r\n      setErrors({ ...errors, [e.target.name]: \"\" });\r\n      console.log(form);\r\n    };\r\n\r\n    function createObj() {\r\n      paymentObject = { ...paymentObject, ...form };\r\n      console.log(paymentObject);\r\n      return paymentObject;\r\n    }\r\n\r\n    const setImage = (e: any) => {\r\n      console.log(e.target.files);\r\n      const file = e.target.files[0];\r\n\r\n      let f = e.target.files![0];\r\n      let reader = new FileReader();\r\n      reader.readAsDataURL(f);\r\n      reader.onload = function () {\r\n        //me.modelvalue = reader.result;\r\n        console.log(reader.result);\r\n        const contentArr = (reader.result as string)?.split(\",\");\r\n        const fileType = contentArr[0]\r\n          .replace(\"data:\", \"\")\r\n          .replace(\";base64\", \"\");\r\n        console.log(fileType, contentArr[1]);\r\n        setForm((prevState) => ({\r\n          ...prevState,\r\n          ...allPayableDetails,\r\n          fileContent: contentArr[1],\r\n          fileType: fileType,\r\n          fileName: file.name,\r\n        }));\r\n      };\r\n      console.log(form);\r\n      reader.onerror = function (error) {\r\n        console.log(\"Error: \", error);\r\n      };\r\n      console.log(f);\r\n    };\r\n\r\n    function deleteFile() {\r\n      setForm((prevState) => ({\r\n        ...prevState,\r\n        ...allPayableDetails,\r\n        fileContent: \"\",\r\n        fileType: \"\",\r\n        fileName: \"\",\r\n      }));\r\n    }\r\n    return (\r\n      <div className=\"componentMargins\">\r\n        {screen.status === \"\" && (\r\n          <div>\r\n            <div className=\"validationMessage \">\r\n              <IonLabel\r\n                className=\"validation-message\"\r\n                hidden={errors.general === \"\"}\r\n              >\r\n                {errors.general}\r\n              </IonLabel>\r\n            </div>\r\n            <UnderLinedText text=\" Enter Requestor Details\" />\r\n            <div className=\"paymentTopSection\">\r\n              <div className=\"payment-requester-details\">\r\n                <div className=\"eachElement\">\r\n                  <UnderLinedInput\r\n                    name={\"requesterName\"}\r\n                    value={form.requesterName}\r\n                    label=\"Container Number\"\r\n                    errors={errors.requesterName}\r\n                    type=\"text\"\r\n                    required={true}\r\n                    onChange={handleChange}\r\n                    datatype=\"TEXT\"\r\n                    placeholder=\"Requester Name\"\r\n                    onBlur={() => console.log(\"blur\")}\r\n                  />\r\n                </div>\r\n                <div className=\"center-ele\"></div>\r\n                <div className=\"eachElement\">\r\n                  <UnderLinedInput\r\n                    name={\"requesterContactNumber\"}\r\n                    value={form.requesterContactNumber}\r\n                    label=\"Container Number\"\r\n                    errors={errors.requesterContactNumber}\r\n                    type=\"text\"\r\n                    required={true}\r\n                    onChange={handleChange}\r\n                    datatype=\"TEXT\"\r\n                    placeholder=\"Requester Number\"\r\n                    onBlur={() => console.log(\"blur\")}\r\n                  />\r\n                  {/* <UnderLinedInput\r\n                    name={\"requesterContactNumber\"}\r\n                    value={form.requesterContactNumber}\r\n                    label=\"Container Number\"\r\n                    errors={errors.requesterContactNumber}\r\n                    type=\"tel\"\r\n                    required={true}\r\n                    onChange={handleChange}\r\n                    datatype=\"TEL_NUM\"\r\n                    //pattern=\"###-##-######\"\r\n                    description=\"Tel Format 971 12345678\"\r\n                    max={8}\r\n                    setError={(erro) =>\r\n                      setErrors({ ...errors, requesterContactNumber: erro })\r\n                    }\r\n                    placeholder=\"Requester Number\"\r\n                    onBlur={() => console.log(\"blur\")}\r\n                  /> */}\r\n                </div>\r\n              </div>\r\n              <UnderLinedInput\r\n                name={\"importerComments\"}\r\n                value={form.importerComments}\r\n                label=\"Container Number\"\r\n                errors={errors.importerComments}\r\n                type=\"text\"\r\n                required={true}\r\n                onChange={handleChange}\r\n                datatype=\"TEXT\"\r\n                placeholder=\"Importer Comments (if any)\"\r\n                onBlur={() => console.log(\"blur\")}\r\n              />\r\n              <div\r\n                className=\"upload-section\"\r\n                onClick={() => {\r\n                  fileInput?.current?.click();\r\n                }}\r\n              >\r\n                <input\r\n                  ref={fileInput}\r\n                  hidden\r\n                  type=\"file\"\r\n                  onChange={setImage}\r\n                  onClick={() => {\r\n                    console.log(\"onClick\");\r\n                  }}\r\n                />\r\n\r\n                <Icon iconProps={uploadIcon} />\r\n                {form.fileName ? (\r\n                  <>\r\n                    <IonLabel className=\"uploadLabel\">\r\n                      {\" \"}\r\n                      {form.fileName + form.fileType}{\" \"}\r\n                    </IonLabel>\r\n                    {/* <IonIcon\r\n                      icon={closeCircleOutline}\r\n                      className=\"close-icon\"\r\n                      onClick={() => deleteFile()}\r\n                    /> */}\r\n                    <IonLabel className=\"uploadLabel\">Re upload</IonLabel>\r\n                  </>\r\n                ) : (\r\n                  <IonLabel className=\"uploadLabel\">\r\n                    Upload supporting files\r\n                  </IonLabel>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"componentMargins1\">\r\n              <VatDetails vatDetails={allPayableDetails?.vatProfileDto} />\r\n              <div className=\"paymentBreakup relativePosition\">\r\n                <div className=\"halfWidth\">\r\n                  {/* <div className=\"paymentBreakupUnderLine\">\r\n              <IonLabel className=\"payLabel\">Payment Breakups</IonLabel>\r\n            </div> */}\r\n                  <UnderLinedText text=\"Payment Breakups\" />\r\n                </div>\r\n                <div className=\"paymentBreakUprightSide\">\r\n                  <IonLabel className=\"bluePaymentLable\">\r\n                    {allPayableDetails?.grossAmount} AED\r\n                  </IonLabel>\r\n                </div>\r\n              </div>\r\n\r\n              {allPayableDetails?.paymentDetails?.map((item, index) => (\r\n                <div key={index}>\r\n                  {item.paymentType === \"transportation\" && (\r\n                    <div className=\"payment-section\">\r\n                      <div className=\"paymentBreakup margin-top\">\r\n                        <div className=\"paymentBreakupFirstRow\">\r\n                          {\" \"}\r\n                          <IonLabel className=\"payLabel\">Containers</IonLabel>\r\n                        </div>\r\n                        <div className=\"paymentBreakup\">\r\n                          <IonLabel className=\"payLabelLight\">\r\n                            {\" \"}\r\n                            {item.chargeDescription}\r\n                          </IonLabel>\r\n                        </div>\r\n                        <div className=\"paymentBreakUprightSide\">\r\n                          <IonLabel className=\"payLabelLight\">\r\n                            {item.subTotalAmount} AED\r\n                          </IonLabel>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"paymentBreakup margin-top\">\r\n                        <div className=\"paymentBreakupFirstRow\">\r\n                          {\" \"}\r\n                          <IonLabel className=\"payLabel\">Vat %</IonLabel>\r\n                        </div>\r\n                        <div className=\"paymentBreakup\">\r\n                          <IonLabel className=\"payLabelLight\">\r\n                            {item.vat}%\r\n                          </IonLabel>\r\n                        </div>\r\n                        <div className=\"paymentBreakUprightSide\">\r\n                          <IonLabel className=\"payLabelLight\">\r\n                            {item.totalVat} AED\r\n                          </IonLabel>\r\n                        </div>\r\n                      </div>\r\n                      {/* <div className=\"paymentBreakup margin-top\">\r\n                        <div className=\"paymentBreakupFirstRow\">\r\n                          {\" \"}\r\n                          <IonLabel className=\"payLabel\">Total</IonLabel>\r\n                        </div>\r\n                        <div className=\"paymentBreakup\">\r\n                          <IonLabel className=\"payLabelLight\"></IonLabel>\r\n                        </div>\r\n                        <div className=\"paymentBreakUprightSide\">\r\n                          <IonLabel className=\"payLabelLight\">\r\n                            {item.totalAmount} AED\r\n                          </IonLabel>\r\n                        </div>\r\n                      </div> */}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n\r\n              <div className=\" payment-section paymentBreakup  margin-top no-padding-top\">\r\n                <div className=\"paymentBreakupFirstRow\">\r\n                  <IonLabel className=\"payLabel\">Net Amount</IonLabel>\r\n                </div>\r\n                <div className=\"paymentBreakUprightSide\">\r\n                  <IonLabel className=\"bluePaymentLable\">\r\n                    {allPayableDetails?.totalContainerTariff} AED\r\n                  </IonLabel>\r\n                </div>\r\n              </div>\r\n\r\n              {allPayableDetails?.paymentDetails?.map((item, index) => (\r\n                <div key={index}>\r\n                  {item.paymentType === \"tokenIn\" && (\r\n                    <div className=\"payment-section no-padding-top\">\r\n                      <div className=\"paymentBreakup margin-top\">\r\n                        <div className=\"paymentBreakupFirstRow payLabel\">\r\n                          <IonLabel>Token Re-Charges In-Bound</IonLabel>\r\n                        </div>\r\n                        <div className=\"paymentBreakup\">\r\n                          <IonLabel className=\"payLabelLight\">\r\n                            {\" \"}\r\n                            {item.chargeDescription}\r\n                          </IonLabel>\r\n                        </div>\r\n                        <div className=\"paymentBreakUprightSide\">\r\n                          <IonLabel className=\"payLabelLight\">\r\n                            {\" \"}\r\n                            {item.subTotalAmount} AED\r\n                          </IonLabel>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"paymentBreakup margin-top\">\r\n                        <div className=\"paymentBreakupFirstRow payLabel\">\r\n                          {\" \"}\r\n                          <IonLabel>Vat %</IonLabel>\r\n                        </div>\r\n                        <div className=\"paymentBreakup\">\r\n                          <IonLabel className=\"payLabelLight\">\r\n                            {item.vat || 0}%\r\n                          </IonLabel>\r\n                        </div>\r\n                        <div className=\"paymentBreakUprightSide\">\r\n                          <IonLabel className=\"payLabelLight\">\r\n                            {\" \"}\r\n                            {item.totalVat || 0} AED\r\n                          </IonLabel>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"paymentBreakup margin-top\">\r\n                        <div className=\"paymentBreakupFirstRow payLabel\">\r\n                          {\" \"}\r\n                          <IonLabel>Total Amount</IonLabel>\r\n                        </div>\r\n                        <div className=\"paymentBreakup\">\r\n                          <IonLabel className=\"payLabelLight\"></IonLabel>\r\n                        </div>\r\n                        <div className=\"paymentBreakUprightSide\">\r\n                          <IonLabel className=\"payLabel\">\r\n                            {item.totalAmount} AED\r\n                          </IonLabel>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n\r\n              {allPayableDetails?.paymentDetails?.map((item, index) => (\r\n                <div key={index}>\r\n                  {item.paymentType === \"tokenOut\" && (\r\n                    <div className=\"payment-section no-padding-top\">\r\n                      <div className=\"paymentBreakup margin-top\">\r\n                        <div className=\"paymentBreakupFirstRow payLabel\">\r\n                          <IonLabel>Token Re-Charges Out-Bound</IonLabel>\r\n                        </div>\r\n                        <div className=\"paymentBreakup\">\r\n                          <IonLabel className=\"payLabelLight\">\r\n                            {item.chargeDescription}\r\n                          </IonLabel>\r\n                        </div>\r\n                        <div className=\"paymentBreakUprightSide\">\r\n                          <IonLabel className=\"payLabelLight\">\r\n                            {item.subTotalAmount} AED\r\n                          </IonLabel>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"paymentBreakup margin-top\">\r\n                        <div className=\"paymentBreakupFirstRow payLabel\">\r\n                          <IonLabel>Vat %</IonLabel>\r\n                        </div>\r\n                        <div className=\"paymentBreakup\">\r\n                          <IonLabel className=\"payLabelLight\">\r\n                            {item.vat || 0}%\r\n                          </IonLabel>\r\n                        </div>\r\n                        <div className=\"paymentBreakUprightSide\">\r\n                          <IonLabel className=\"payLabelLight\">\r\n                            {item.totalVat || 0} AED\r\n                          </IonLabel>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"paymentBreakup margin-top\">\r\n                        <div className=\"paymentBreakupFirstRow payLabel\">\r\n                          <IonLabel>Total Amount</IonLabel>\r\n                        </div>\r\n                        <div className=\"paymentBreakup\">\r\n                          <IonLabel className=\"payLabelLight\"></IonLabel>\r\n                        </div>\r\n                        <div className=\"paymentBreakUprightSide\">\r\n                          <IonLabel className=\"payLabelLight\">\r\n                            {item.totalAmount} AED\r\n                          </IonLabel>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n\r\n              <div className=\"paymentBreakup payment-section  margin-top no-padding-top\">\r\n                <div className=\"paymentBreakupFirstRow payLabel\">\r\n                  <IonLabel>Net Amount</IonLabel>\r\n                </div>\r\n                <div className=\"paymentBreakUprightSide\">\r\n                  <IonLabel className=\"bluePaymentLable\">\r\n                    {\" \"}\r\n                    {allPayableDetails?.totalTokenTariff} AED\r\n                  </IonLabel>\r\n                </div>\r\n              </div>\r\n              <div className=\"paymentBreakup  margin-top \">\r\n                <div className=\"paymentBreakupFirstRow payLabel\">\r\n                  <IonLabel>Gross Payable Amount</IonLabel>\r\n                </div>\r\n                <div className=\"paymentBreakUprightSide\">\r\n                  <IonLabel className=\"bluePaymentLable\">\r\n                    {allPayableDetails?.grossAmount} AED\r\n                  </IonLabel>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {screen.status === \"SUCC\" && <Success txnId={screen.reference_num} />}\r\n        {screen.status === \"FAIL\" && <Fail txnId={screen.reference_num} />}\r\n        {screen.status === \"PEND\" && <Pending txnId={screen.reference_num} />}\r\n      </div>\r\n    );\r\n  }\r\n);\r\nexport default Payment;\r\n"]},"metadata":{},"sourceType":"module"}