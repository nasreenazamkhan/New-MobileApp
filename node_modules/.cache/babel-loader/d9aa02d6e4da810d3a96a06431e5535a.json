{"ast":null,"code":"import{IonContent,IonPage}from\"@ionic/react\";import React,{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import ContainerCard from\"../../components/ContainerCard\";import Footer from\"../../components/Footer/Footer\";import Header from\"../../components/Header\";//import TopMenu from \"../../components/TopMenu\";\nimport TopMenu from\"../../components/topMenu/TopMenu\";import Store from\"../../redux/Store\";import CenterFooterButton from\"../CenterFooterButton\";import\"./Container.scss\";import*as reduxActions from\"../../redux/actionTypes/AllActionTypes\";import{useHistory}from\"react-router-dom\";import InformationText from\"../../components/Texts/InformationText\";import{chevronDownOutline}from\"ionicons/icons\";var count=0;const Container=_ref=>{var _currentDecl$containe,_currentDecl$containe2,_currentDecl$containe3,_currentDecl$containe4;let{containerList,props,updateContainersInCart}=_ref;const[currentDecl,setcurrentDecl]=useState();const[showChecked,setShowChecked]=useState(false);let history=useHistory();useEffect(()=>{containerList.map((item,index)=>{if(item.currentSelection){setcurrentDecl(item);}});},[]);useEffect(()=>{},[containerList]);var topMenuItems=[{name:\"\",src:\"filter\",styleProps:{zoom:1.3},type:\"button\",slot:\"start\",clickedOnTopMenu:()=>console.log(\"clicked1\")},{name:\"Storage Validity\",src:\"filter-down-arrow\",type:\"button\",slot:\"start\",size:\"0.7rem\",clickedOnTopMenu:()=>console.log(\"clicked4\")},{name:\"Pickup Location\",src:\"filter-down-arrow\",icon:chevronDownOutline,slot:\"end\",type:\"dropDown\",list:[{label:\"T1\",value:\"T1\"},{label:\"T2\",value:\"T2\"},{label:\"T3\",value:\"T3\"},{label:\"Jebal Ali Area\",value:\"JEA\"}],clickedOnTopMenu:()=>console.log(\"clicked5\")}];function updateContainerInCart(containerItem,index,checked){var selectedNumber;console.log(containerItem,index,checked);if(checked){if(checked===\"checked\"){currentDecl.containerList.forEach((item,index)=>{currentDecl.containerList[index].selected=true;});}else{currentDecl.containerList.forEach((item,index)=>{currentDecl.containerList[index].selected=false;});}}else{containerItem.selected=!containerItem.selected;if(containerItem.selected){setShowChecked(true);containerList[index].selectedNumber=containerList[index].selectedNumber?containerList[index].selectedNumber:0;containerList[index].selectedNumber=containerList[index].selectedNumber+1;}else{//setShowChecked(false)\ncontainerList[index].selectedNumber=containerList[index].selectedNumber-1;containerList[index].selected=false;}containerList.map((item,index)=>{count=item.selectedNumber;if(count===0)setShowChecked(false);});}updateContainersInCart(containerItem);}function goToContainerCart(){history.push(\"/containerCart\");}const checkedProps={showChecked:showChecked,addContainerToCart:updateContainerInCart};return/*#__PURE__*/React.createElement(IonPage,{className:\"container\"},/*#__PURE__*/React.createElement(Header,{label:currentDecl===null||currentDecl===void 0?void 0:(_currentDecl$containe=currentDecl.containerList[0])===null||_currentDecl$containe===void 0?void 0:_currentDecl$containe.boeNumber,action:\"search\",locationProps:props,checkedProps:checkedProps//showAgent={true}\n,agentHeader:true,searchClick:()=>history.push(\"/openSearch\",\"container\")}),/*#__PURE__*/React.createElement(IonContent,{className:\"container-Content\"},/*#__PURE__*/React.createElement(TopMenu,{topMenuProps:topMenuItems}),(currentDecl===null||currentDecl===void 0?void 0:(_currentDecl$containe2=currentDecl.containerList)===null||_currentDecl$containe2===void 0?void 0:_currentDecl$containe2.length)>0&&/*#__PURE__*/React.createElement(InformationText,{message:\"\".concat(currentDecl===null||currentDecl===void 0?void 0:(_currentDecl$containe3=currentDecl.containerList)===null||_currentDecl$containe3===void 0?void 0:_currentDecl$containe3.length,\" containers\")}),/*#__PURE__*/React.createElement(\"div\",{className:\"container-list\"},currentDecl===null||currentDecl===void 0?void 0:(_currentDecl$containe4=currentDecl.containerList)===null||_currentDecl$containe4===void 0?void 0:_currentDecl$containe4.map((item,index)=>{return/*#__PURE__*/React.createElement(ContainerCard,{containerItem:item,key:index,containerClick:updateContainerInCart,index:currentDecl===null||currentDecl===void 0?void 0:currentDecl.containerList.index});})),/*#__PURE__*/React.createElement(CenterFooterButton,{iconType:\"cart\",clickEvent:goToContainerCart})),/*#__PURE__*/React.createElement(Footer,null));};const mapStateToProps=state=>{return{containerList:state.Cart};};const mapDispatchToProps=()=>{return{updateContainersInCart:item=>{console.log(item);Store.dispatch({type:reduxActions.UPDATE_CONTAINER_IN_CART,payLoad:item});},addDeclarationToCart:item=>{console.log(item);Store.dispatch({type:reduxActions.ADD_TO_CART,payLoad:item});}};};export default connect(mapStateToProps,mapDispatchToProps)(Container);","map":{"version":3,"sources":["D:/DT/ptmsCheckOutNew/New-MobileApp/src/pages/Containers/Container.tsx"],"names":["IonContent","IonPage","React","useEffect","useState","connect","ContainerCard","Footer","Header","TopMenu","Store","CenterFooterButton","reduxActions","useHistory","InformationText","chevronDownOutline","count","Container","containerList","props","updateContainersInCart","currentDecl","setcurrentDecl","showChecked","setShowChecked","history","map","item","index","currentSelection","topMenuItems","name","src","styleProps","zoom","type","slot","clickedOnTopMenu","console","log","size","icon","list","label","value","updateContainerInCart","containerItem","checked","selectedNumber","forEach","selected","goToContainerCart","push","checkedProps","addContainerToCart","boeNumber","length","mapStateToProps","state","Cart","mapDispatchToProps","dispatch","UPDATE_CONTAINER_IN_CART","payLoad","addDeclarationToCart","ADD_TO_CART"],"mappings":"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","sourcesContent":["import {\r\n  IonCard,\r\n  IonCardContent,\r\n  IonContent,\r\n  IonItem,\r\n  IonLabel,\r\n  IonPage,\r\n} from \"@ionic/react\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ContainerCard from \"../../components/ContainerCard\";\r\nimport Footer from \"../../components/Footer/Footer\";\r\nimport Header from \"../../components/Header\";\r\nimport Icon from \"../../components/Icon\";\r\n//import TopMenu from \"../../components/TopMenu\";\r\nimport TopMenu from \"../../components/topMenu/TopMenu\";\r\nimport Store from \"../../redux/Store\";\r\nimport CenterFooterButton from \"../CenterFooterButton\";\r\nimport \"./Container.scss\";\r\nimport * as reduxActions from \"../../redux/actionTypes/AllActionTypes\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport InformationText from \"../../components/Texts/InformationText\";\r\nimport { chevronDownOutline } from \"ionicons/icons\";\r\n\r\ninterface stateProps {\r\n  props;\r\n}\r\n\r\ninterface ownProps {\r\n  containerList;\r\n  updateContainersInCart: (item) => void;\r\n}\r\nvar count = 0;\r\ntype containerProps = stateProps & ownProps;\r\nconst Container: React.FC<containerProps> = ({\r\n  containerList,\r\n  props,\r\n  updateContainersInCart,\r\n}) => {\r\n  const [currentDecl, setcurrentDecl] = useState<any>();\r\n\r\n  const [showChecked, setShowChecked] = useState(false);\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    containerList.map((item, index) => {\r\n      if (item.currentSelection) {\r\n        setcurrentDecl(item);\r\n      }\r\n    });\r\n  }, []);\r\n  useEffect(() => {}, [containerList]);\r\n  var topMenuItems = [\r\n    {\r\n      name: \"\",\r\n      src: \"filter\",\r\n      styleProps: { zoom: 1.3 },\r\n      type: \"button\",\r\n      slot: \"start\",\r\n      clickedOnTopMenu: () => console.log(\"clicked1\"),\r\n    },\r\n\r\n    {\r\n      name: \"Storage Validity\",\r\n      src: \"filter-down-arrow\",\r\n      type: \"button\",\r\n      slot: \"start\",\r\n      size: \"0.7rem\",\r\n      clickedOnTopMenu: () => console.log(\"clicked4\"),\r\n    },\r\n    {\r\n      name: \"Pickup Location\",\r\n      src: \"filter-down-arrow\",\r\n      icon: chevronDownOutline,\r\n      slot: \"end\",\r\n      type: \"dropDown\",\r\n      list: [\r\n        { label: \"T1\", value: \"T1\" },\r\n        { label: \"T2\", value: \"T2\" },\r\n        { label: \"T3\", value: \"T3\" },\r\n        { label: \"Jebal Ali Area\", value: \"JEA\" },\r\n      ],\r\n      clickedOnTopMenu: () => console.log(\"clicked5\"),\r\n    },\r\n  ];\r\n\r\n  function updateContainerInCart(containerItem, index, checked?) {\r\n    var selectedNumber;\r\n    console.log(containerItem, index, checked);\r\n    if (checked) {\r\n      if (checked === \"checked\") {\r\n        currentDecl.containerList.forEach((item: any, index: number) => {\r\n          currentDecl.containerList[index].selected = true;\r\n        });\r\n      } else {\r\n        currentDecl.containerList.forEach((item: any, index: number) => {\r\n          currentDecl.containerList[index].selected = false;\r\n        });\r\n      }\r\n    } else {\r\n      containerItem.selected = !containerItem.selected;\r\n      if (containerItem.selected) {\r\n        setShowChecked(true);\r\n        containerList[index].selectedNumber = containerList[index]\r\n          .selectedNumber\r\n          ? containerList[index].selectedNumber\r\n          : 0;\r\n        containerList[index].selectedNumber =\r\n          containerList[index].selectedNumber + 1;\r\n      } else {\r\n        //setShowChecked(false)\r\n        containerList[index].selectedNumber =\r\n          containerList[index].selectedNumber - 1;\r\n        containerList[index].selected = false;\r\n      }\r\n      containerList.map((item, index) => {\r\n        count = item.selectedNumber;\r\n        if (count === 0) setShowChecked(false);\r\n      });\r\n    }\r\n    updateContainersInCart(containerItem);\r\n  }\r\n\r\n  function goToContainerCart() {\r\n    history.push(\"/containerCart\");\r\n  }\r\n  const checkedProps: any = {\r\n    showChecked: showChecked,\r\n    addContainerToCart: updateContainerInCart,\r\n  };\r\n  return (\r\n    <IonPage className=\"container\">\r\n      <Header\r\n        label={currentDecl?.containerList[0]?.boeNumber}\r\n        action=\"search\"\r\n        locationProps={props}\r\n        checkedProps={checkedProps}\r\n        //showAgent={true}\r\n        agentHeader={true}\r\n        searchClick={() => history.push(\"/openSearch\", \"container\")}\r\n      />\r\n\r\n      <IonContent className=\"container-Content\">\r\n        <TopMenu topMenuProps={topMenuItems} />\r\n        {currentDecl?.containerList?.length > 0 && (\r\n          <InformationText\r\n            message={`${currentDecl?.containerList?.length} containers`}\r\n          />\r\n        )}\r\n        <div className=\"container-list\">\r\n          {currentDecl?.containerList?.map((item, index) => {\r\n            return (\r\n              <ContainerCard\r\n                containerItem={item}\r\n                key={index}\r\n                containerClick={updateContainerInCart}\r\n                index={currentDecl?.containerList.index}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n        <CenterFooterButton iconType=\"cart\" clickEvent={goToContainerCart} />\r\n      </IonContent>\r\n      <Footer />\r\n    </IonPage>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: any) => {\r\n  return {\r\n    containerList: state.Cart,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = () => {\r\n  return {\r\n    updateContainersInCart: (item: any) => {\r\n      console.log(item);\r\n      Store.dispatch({\r\n        type: reduxActions.UPDATE_CONTAINER_IN_CART,\r\n        payLoad: item,\r\n      });\r\n    },\r\n    addDeclarationToCart: (item: any) => {\r\n      console.log(item);\r\n      Store.dispatch({\r\n        type: reduxActions.ADD_TO_CART,\r\n        payLoad: item,\r\n      });\r\n    },\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Container);\r\n"]},"metadata":{},"sourceType":"module"}